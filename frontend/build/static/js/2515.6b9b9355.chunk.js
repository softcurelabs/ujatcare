"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[2515],{80730:(e,s,a)=>{a.d(s,{A:()=>d});var t=a(9950),r=a(42074),l=a(56035),n=a(86781),i=a(68459),c=a(36275),m=a(44414);const o=e=>{const[s,a]=(0,t.useState)([]),o=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";const a=s<0?0:s,t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][t]};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.Ay,{...e,onDrop:t=>(t=>{var r=t;e.showPreview&&((t||[]).map((e=>Object.assign(e,{preview:"image"===e.type.split("/")[0]?URL.createObjectURL(e):null,formattedSize:o(e.size)}))),(r=s).push(...t),a(r)),e.onFileUpload&&e.onFileUpload(r)})(t),children:s=>{let{getRootProps:a,getInputProps:t}=s;return(0,m.jsx)("div",{className:"dropzone",children:(0,m.jsxs)("div",{className:"dz-message needsclick",...a(),children:[(0,m.jsx)("input",{...t()}),(0,m.jsx)("i",{className:"h3 text-muted dripicons-cloud-upload"}),(0,m.jsx)("h4",{children:e.title?e.title:"Drop Image or Document here or click to upload."}),(0,m.jsx)("span",{className:"text-muted font-13"})]})})}}),e.showPreview&&(0,m.jsx)("div",{className:"dropzone-previews mt-3",id:"uploadPreviewTemplate",children:(s||[]).map(((t,c)=>(0,m.jsx)(l.A,{className:"mt-1 mb-0 shadow-none border",children:(0,m.jsx)("div",{className:"p-2",children:(0,m.jsxs)(n.A,{className:"align-items-center",children:[t.preview&&(0,m.jsx)(i.A,{className:"col-auto",children:(0,m.jsx)("img",{"data-dz-thumbnail":"",className:"avatar-sm rounded bg-light",alt:t.name,src:t.preview})}),!t.preview&&(0,m.jsx)(i.A,{className:"col-auto",children:(0,m.jsx)("div",{className:"avatar-sm",children:(0,m.jsx)("span",{className:"avatar-title bg-primary rounded",children:t.type.split("/")[0]})})}),(0,m.jsxs)(i.A,{className:"ps-0",children:[(0,m.jsx)(r.N_,{to:"#",className:"text-muted fw-bold",children:t.name}),(0,m.jsx)("p",{className:"mb-0",children:(0,m.jsx)("strong",{children:t.formattedSize})})]}),(0,m.jsx)(i.A,{className:"text-end",children:(0,m.jsx)(r.N_,{to:"#",className:"btn btn-link btn-lg text-muted shadow-none",children:(0,m.jsx)("i",{className:"dripicons-cross",onClick:()=>(t=>{const r=[...s];r.splice(t,1),a(r),e.onFileUpload&&e.onFileUpload(r)})(c)})})})]})})},c+"-file")))})]})};o.defaultProps={showPreview:!0};const d=o},72515:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var t=a(9950),r=a(9449),l=a(56035),n=a(86781),i=a(68459),c=a(97937),m=a(86133),o=a(82612),d=a(28429),u=a(80183),h=a(27081),p=a(70030),x=a(26473),j=a(60666),g=a(19443),b=a(13236),v=a(98972),_=a(32393),f=a(88249),N=a(44414);const w=()=>{const e=(0,h.wA)(),[s,a]=(0,t.useState)(),{t:m}=(0,p.B)(),[w,y]=(0,t.useState)(""),[A,S]=(0,t.useState)(""),[k,B]=(0,t.useState)(!1),F=(0,x.t)(j.Ik().shape({})),{flats:C}=(0,h.d4)((e=>({flats:e.Flat.flats}))),[P,E]=(0,t.useState)(null),[U,I]=(0,t.useState)(new Date),[M,R]=(0,t.useState)(!0),z=(0,d.Zp)(),Z=(0,d.g)(),{register:D,handleSubmit:L,setValue:V,setError:T,formState:{errors:$}}=(0,r.mN)({defaultValues:{unit:10,phone_number:"9601277532",parking_space:120,emergency_contact_number:"9601277532",emergency_contact_name:"jasmin",income_verification:230,total_rent:123,language:"eng",special_instruction:null},resolver:F}),O=L((s=>{B(!0),e((0,u.el)(s)).unwrap().then((e=>{e&&!0===e.status&&(y(e.message),window.scrollTo({top:0,behavior:"smooth"})),B(!1)})).catch((e=>{for(var s in e.errors)try{T(s,{message:e.errors[s].toString()})}catch(a){}B(!1)}))}));return(0,t.useEffect)((()=>{e((0,g.qx)()).unwrap().then((()=>{e((0,u.Tv)(Z.id)).unwrap().then((e=>{a(e.user),_.A.BASE_URL&&e.image_path&&E(`${_.A.BASE_URL}/${e.image_path}`),V("id",e.user.id),V("unit",e.unit),V("first_name",e.user.first_name),V("last_name",e.user.last_name),V("email",e.user.email),V("phone_number",e.phone_number),e.user.flat&&V("flat_id",e.user.flat.flat_id),V("parking_space",e.parking_space),V("emergency_contact_number",e.emergency_contact_number),V("emergency_contact_name",e.emergency_contact_name),V("income_verification",e.income_verification),V("total_rent",e.total_rent),V("special_instruction",e.special_instruction),V("relationship",e.relationship),V("movein_date",e.movein_date)})).catch((e=>S(e)))}))}),[]),(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(l.A,{children:(0,N.jsxs)(l.A.Body,{children:[w&&(0,N.jsx)("div",{className:"alert alert-success",children:w}),A&&(0,N.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:A}),(0,N.jsxs)(n.A,{children:[(0,N.jsx)(i.A,{lg:6,children:(0,N.jsxs)("form",{onSubmit:O,className:M?"form-readonly":"",children:[(0,N.jsxs)("fieldset",{children:[(0,N.jsx)(o.Z,{label:"First Name",type:"text",register:D,name:"first_name",errors:$,rows:"5",containerClass:"mb-3"},"first_name"),(0,N.jsx)(o.Z,{label:"Last Name",type:"text",register:D,name:"last_name",errors:$,rows:"5",containerClass:"mb-3"},"last_name"),(0,N.jsx)(o.Z,{label:"Phone#",type:"text",name:"phone_number",placeholder:"phone_number",className:"form-control-sm ",containerClass:"mb-3 input-group",labelClassName:"me-2",register:D,errors:$},"phone_number"),(0,N.jsx)(o.Z,{label:"Email",type:"email",name:"email",placeholder:"Email",className:"form-control-sm ",containerClass:"mb-3 input-group",labelClassName:"me-2",register:D,errors:$,disabled:!0},"email")]}),(0,N.jsx)(c.A,{onClick:()=>z(-1),variant:"primary",className:"me-2",type:"submit",children:"Back"}),M?(0,N.jsx)("div",{}):k?(0,N.jsx)(f.m,{}):(0,N.jsx)(c.A,{variant:"primary",type:"submit",children:"Submit"})]})}),(0,N.jsxs)(i.A,{lg:6,children:[(0,N.jsx)("div",{className:"text-center",children:P&&(0,N.jsx)("img",{src:P,className:"rounded-4",alt:"{}",width:125})}),(0,N.jsx)("div",{className:"text-end pb-2",children:M?(0,N.jsx)(c.A,{variant:"primary",type:"submit",onClick:()=>R(!1),children:"Edit"}):(0,N.jsx)("div",{})}),(0,N.jsx)(v.t,{id:Z.id}),(0,N.jsx)("div",{className:"pt-5",children:s&&(0,N.jsx)(b.R,{email:s.email})})]})]})]})})})},y=()=>(0,N.jsxs)(t.Fragment,{children:[(0,N.jsx)(m.A,{breadCrumbItems:[{label:"Staff",path:"/user"},{label:"My Account",path:"/user",active:!0}],title:"My Account"}),(0,N.jsx)(n.A,{children:(0,N.jsx)(i.A,{children:(0,N.jsx)(w,{})})})]})},13236:(e,s,a)=>{a.d(s,{R:()=>h});var t=a(97937),r=a(27081),l=a(70030),n=a(9950),i=a(26473),c=a(9449),m=a(60666),o=a(88249),d=a(91144),u=a(44414);const h=e=>{let{email:s}=e;const a=(0,r.wA)(),{t:h}=(0,l.B)(),[p,x]=(0,n.useState)(""),[j,g]=(0,n.useState)(""),[b,v]=(0,n.useState)(!1),_=(0,i.t)(m.Ik().shape({})),{register:f,handleSubmit:N,setError:w,formState:{errors:y}}=(0,c.mN)({defaultValues:{},resolver:_}),A=N((()=>{v(!0),a((0,d.Nu)(s)).unwrap().then((e=>{e&&!0===e.status&&x(e.message),v(!1)})).catch((e=>{g(e.message),v(!1)}))}));return(0,u.jsxs)("form",{onSubmit:A,children:[p&&(0,u.jsx)("div",{className:"alert alert-success",children:p}),j&&(0,u.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:j}),b?(0,u.jsx)(o.m,{}):(0,u.jsx)(t.A,{variant:"primary",type:"submit",children:"Reset Password"})]})}},98972:(e,s,a)=>{a.d(s,{t:()=>x});var t=a(80730),r=a(97937),l=a(82612),n=a(27081),i=a(9950),c=a(26473),m=a(9449),o=a(80183),d=a(60666),u=a(91144),h=a(88249),p=a(44414);const x=e=>{let{id:s}=e;const a=(0,n.wA)(),[x,j]=(0,i.useState)(""),[g,b]=(0,i.useState)(""),[v,_]=(0,i.useState)(!1),f=(0,c.t)(d.Ik().shape({})),{register:N,handleSubmit:w,setValue:y,control:A}=(0,m.mN)({defaultValues:{id:s},resolver:f}),S=w((e=>{_(!0),a((0,o.X$)(e)).unwrap().then((e=>{e&&!0===e.status&&(j(e.message),b(""),a((0,u.IM)())),_(!1)})).catch((e=>{b(e.message),j(""),_(!1)}))}));return(0,p.jsxs)("form",{onSubmit:S,children:[x&&(0,p.jsx)("div",{className:"alert alert-success",children:x}),g&&(0,p.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:g}),(0,p.jsxs)("fieldset",{className:"mt-4",children:[(0,p.jsx)(m.xI,{render:()=>(0,p.jsx)(t.A,{title:"Drag Profile pic or click here to upload",maxFiles:1,onFileUpload:e=>{y("image",e[0])}}),name:"image",control:A}),(0,p.jsx)(l.Z,{type:"hidden",name:"id",register:N}),v?(0,p.jsx)(h.m,{}):(0,p.jsx)(r.A,{type:"submit",className:"waves-effect waves-light me-1",children:"Submit"})]})]})}}}]);