"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[3400],{43400:(e,a,r)=>{r.r(a),r.d(a,{default:()=>v});var s=r(9950),t=r(471),l=r(86781),n=r(68459),i=r(97937),c=r(86133),d=r(68984),o=r(26473),m=r(60666),h=r(70030),j=r(9449),u=r(27081),x=r(19443),p=r(80183),b=r(88249),g=r(44414);const f=()=>{const{t:e}=(0,h.B)(),a=(0,o.t)(m.Ik().shape({name:m.Yj().required(e("Please select name")),email:m.Yj().required(e("Please select name")).email(e("Please valid Email")),role_id:m.Yj().required(e("Please select role"))})),[r,c]=(0,s.useState)(""),[f,v]=(0,s.useState)(""),[A,S]=(0,s.useState)(!1),y=(0,u.wA)(),{flats:C}=(0,u.d4)((e=>({flats:e.Flat.flats})));(0,s.useEffect)((()=>{y((0,x.qx)())}),[]);const{register:w,handleSubmit:k,setError:q,formState:{errors:E}}=(0,j.mN)({defaultValues:{},resolver:a}),N=k((async e=>{S(!0),y((0,p.dH)(e)).unwrap().then((e=>{e&&!0===e.status&&c(e.message),S(!1)})).catch((e=>{for(var a in e.errors)try{q(a,{message:e.errors[a].toString()})}catch(r){}S(!1)}))}));return(0,g.jsxs)(g.Fragment,{children:[r&&(0,g.jsx)("div",{className:"alert alert-success",children:r}),f&&(0,g.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:f}),(0,g.jsx)(t.A,{children:(0,g.jsx)(t.A.Body,{children:(0,g.jsxs)(l.A,{children:[(0,g.jsx)(n.A,{lg:6,children:(0,g.jsxs)("form",{onSubmit:N,children:[(0,g.jsx)(d.Z,{label:"Name",type:"text",register:w,name:"name",errors:E,rows:"5",containerClass:"mb-3"},"name"),(0,g.jsx)(d.Z,{label:"Email",type:"text",register:w,name:"email",errors:E,rows:"5",containerClass:"mb-3"},"email"),(0,g.jsxs)(d.Z,{type:"select",label:"Role",name:"role_id",containerClass:"mb-3",register:w,errors:E,children:[(0,g.jsx)("option",{value:"",children:"Select Role"}),(0,g.jsx)("option",{value:"recident",children:"Tenant"})]}),(0,g.jsx)(d.Z,{type:"select",label:"Suite",name:"flat_id",containerClass:"mb-3",register:w,errors:E,children:C.length&&C.map((e=>(0,g.jsx)("optgroup",{label:e.name.toString(),children:e.flats.map((e=>(0,g.jsx)("option",{value:e.id,children:e.name},"flat"+e.id)))},"apartment".concat(e.id))))}),A?(0,g.jsx)(b.m,{}):(0,g.jsx)(i.A,{variant:"primary",type:"submit",children:"Create User"})]})}),(0,g.jsx)(n.A,{lg:6}),(0,g.jsx)(n.A,{lg:3})]})})})]})},v=()=>(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(c.A,{breadCrumbItems:[{label:"Dashboard",path:"/dashboard-2"},{label:"Users",path:"/tenant"},{label:"Tenant",path:"/notice/new",active:!0}],title:"Tenant"}),(0,g.jsx)(l.A,{children:(0,g.jsx)(n.A,{children:(0,g.jsx)(f,{})})})]})}}]);