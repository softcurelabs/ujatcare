"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[105],{90105:(e,s,a)=>{a.r(s),a.d(s,{default:()=>S});var r=a(9950),l=a(9449),t=a(86781),n=a(68459),i=a(471),c=a(6863),o=a(83045),m=a(80409),x=a(64055),d=a(97937),p=a(41033),h=a(68984),f=a(63112),b=a(28429),u=a(80183),_=a(27081),g=a(26473),j=a(60666),N=a(19443),y=a(13236),A=a(98972),C=a(32393),v=a(63647),k=a(63758),w=a(44414);const Z=()=>{const e=(0,_.wA)(),[s,a]=(0,r.useState)(""),[p,Z]=(0,r.useState)(""),[S,F]=(0,r.useState)(!1),E=(0,g.t)(j.Ik().shape({})),{flats:$}=(0,_.d4)((e=>({flats:e.Flat.flats}))),[I,R]=(0,r.useState)(new Date),[P,D]=(0,r.useState)(new Date),[L,M]=(0,r.useState)(null),[T,B]=(0,r.useState)(),U=(0,b.Zp)(),K=(0,b.g)(),{register:O,handleSubmit:V,setValue:W,setError:q,watch:z,formState:{errors:G}}=(0,l.mN)({defaultValues:{unit:10,phone_number:"9601277532",parking_space:120,emergency_contact_number:"9601277532",emergency_contact_name:"jasmin",income_verification:230,total_rent:123,language:"eng",special_instruction:null},resolver:E}),H=z("apartment_id"),J=V((s=>{F(!0),e((0,u.el)(s)).unwrap().then((e=>{e&&!0===e.status&&(a(e.message),window.scrollTo({top:0,behavior:"smooth"})),F(!1)})).catch((e=>{for(var s in e.errors)try{q(s,{message:e.errors[s].toString()})}catch(a){}F(!1)}))}));return(0,r.useEffect)((()=>{e((0,N.q)()).unwrap().then((()=>{e((0,u.Tv)(K.id)).unwrap().then((e=>{B(e),C.A.BASE_URL&&e.image_path&&M("".concat(C.A.BASE_URL,"/").concat(e.image_path)),W("id",e.user.id),W("unit",e.unit),W("first_name",e.user.first_name),W("last_name",e.user.last_name),W("email",e.user.email),W("phone_number",e.phone_number),e.user.apartment_id&&W("apartment_id",e.user.apartment_id),e.user.flat&&W("flat_id",e.user.flat.flat_id),W("parking_space",e.parking_space),W("locker",e.locker),W("emergency_contact_number",e.emergency_contact_number),W("emergency_contact_name",e.emergency_contact_name),W("income_verification",e.income_verification),W("total_rent",e.total_rent),W("special_instruction",e.special_instruction),W("relationship",e.relationship),W("birth_date",e.birth_date),W("staff_notes",e.staff_notes),W("fob",e.fob),W("movein_date",e.movein_date),W("emergency_contact_email",e.emergency_contact_email),W("base_rent",e.base_rent),W("utilities",e.utilities),W("maintenance_fees",e.maintenance_fees),W("property_taxes",e.property_taxes),W("rental_insurance",e.rental_insurance),W("parking_fees",e.parking_fees),W("service_fees",e.service_fees),W("administrative_fees",e.administrative_fees),W("storage_fees",e.storage_fees),W("cable_fees",e.cable_fees),W("wifi",e.wifi),R(new Date(e.movein_date)),D(new Date(e.birth_date))})).catch((e=>Z(e)))}))}),[]),(0,w.jsxs)(w.Fragment,{children:[s&&(0,w.jsx)("div",{className:"alert alert-success",children:s}),p&&(0,w.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:p}),(0,w.jsxs)(t.A,{className:"gutters",children:[(0,w.jsx)(n.A,{lg:3,xl:3,md:12,children:(0,w.jsxs)(i.A,{children:[" ",(0,w.jsxs)(c.A,{children:[(0,w.jsxs)("div",{className:"text-center",children:[L&&(0,w.jsx)("img",{src:L,className:"rounded-4",alt:"{}",width:125}),(0,w.jsx)("h5",{className:"text-dark",children:null===T||void 0===T?void 0:T.user.name}),(0,w.jsx)("h6",{className:"text-muted",children:null===T||void 0===T?void 0:T.user.email})]}),(0,w.jsx)(A.t,{id:K.id}),(0,w.jsx)("div",{className:"mt-4",children:T&&(0,w.jsx)(y.R,{email:T.email})}),(0,w.jsx)("div",{className:"mt-2",children:(0,w.jsx)(k.j,{id:K.id})})]})]})}),(0,w.jsx)(n.A,{lg:9,xl:9,md:12,children:(0,w.jsx)(i.A,{children:(0,w.jsx)(c.A,{children:(0,w.jsxs)("form",{onSubmit:J,children:[(0,w.jsxs)(o.A,{defaultActiveKey:"profile",id:"fill-tab-example",className:"mb-3",children:[(0,w.jsxs)(m.A,{eventKey:"profile",title:"Profile",children:[(0,w.jsxs)(t.A,{className:"gutters",children:[(0,w.jsx)(n.A,{xl:12,children:(0,w.jsx)("h5",{className:"text-primary",children:"Personal information"})}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"First Name",type:"text",name:"first_name",className:"form-control-sm fs-5 ",containerClass:"mb-3",register:O,errors:G},"first_name")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Last Name",type:"text",name:"last_name",className:"form-control-sm fs-5 ",containerClass:"mb-3",register:O,errors:G},"last_name")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Phone#",type:"text",name:"phone_number",placeholder:"phone_number",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:O,errors:G},"phone_number")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Email",type:"email",name:"email",placeholder:"Email",className:"form-control-sm fs-5 col-xl-8",containerClass:"mb-3",register:O,errors:G},"email")}),(0,w.jsxs)(n.A,{xl:6,children:[(0,w.jsx)(h.Z,{type:"hidden",register:O,className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"me-2",name:"birth_date"},"birth_date"),(0,w.jsxs)("div",{className:"mb-3",children:[(0,w.jsx)("label",{className:"form-label",children:"Birth Date"})," ",(0,w.jsx)("br",{}),(0,w.jsx)(f.A,{hideAddon:!0,showTimeSelect:!1,maxDate:new Date,value:P,onChange:e=>{D(e),W("birth_date",e.toLocaleString("sv-SE"))}}),G&&G.birth_date?(0,w.jsx)(x.A.Control.Feedback,{type:"invalid",children:G.birth_date.message}):null]})]})]}),(0,w.jsxs)(t.A,{className:"gutters border border-success rounded mb-3",children:[(0,w.jsx)(n.A,{xl:12,children:(0,w.jsx)("h5",{className:"text-primary",children:"Emergency information"})}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Mobile Number",type:"text",name:"emergency_contact_number",placeholder:"Mobile Number",className:"form-control-sm fs-5",containerClass:"mb-3",register:O,errors:G},"emergency_contact_number")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Emergency Contact Name",type:"text",name:"emergency_contact_name",placeholder:"Emergency Contact Name",className:"form-control-sm fs-5",containerClass:"mb-3 ",register:O,errors:G},"emergency_contact_name")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Relationship",type:"text",name:"relationship",placeholder:"relationship",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:O,errors:G},"relationship")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Emergency Contact Email",type:"text",name:"emergency_contact_email",placeholder:"Email",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:O,errors:G},"emergency_contact_email")})]})]}),(0,w.jsx)(m.A,{eventKey:"rent",title:"Rents",children:(0,w.jsxs)(t.A,{className:"gutters",children:[(0,w.jsx)(n.A,{xl:12,children:(0,w.jsx)("h5",{className:"text-primary",children:"Tenant information"})}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Floorplan",type:"text",name:"unit",placeholder:"Floorplan",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:O,errors:G},"unit")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{type:"select",label:"Property",name:"apartment_id",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:O,errors:G,children:$.length&&$.map((e=>(0,w.jsx)("option",{value:e.id,children:e.name.toString()},"apartment".concat(e.id))))})}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{type:"select",label:"Suite",name:"flat_id",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:O,errors:G,children:T&&$.length&&$.map((e=>H==e.id?(0,w.jsx)(w.Fragment,{children:e.flats.map((e=>(0,w.jsx)("option",{value:e.id,disabled:e.has_occupied,children:e.name},"flat"+e.id)))}):(0,w.jsx)(w.Fragment,{})))})}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Parking Space",type:"text",name:"parking_space",placeholder:"Parking",className:"form-control-sm fs-5 ",containerClass:"mb-3",register:O,errors:G},"parking_space")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Locker",type:"text",name:"locker",placeholder:"Locker",className:"form-control-sm fs-5",containerClass:"mb-3",register:O,errors:G},"locker")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Monthly Income",type:"text",name:"income_verification",placeholder:"Monthly Income",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:O,prefix:"$",errors:G},"income_verification")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Total Rent",type:"text",name:"total_rent",placeholder:"Rent",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:O,errors:G,prefix:"$"},"total_rent")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Language",type:"text",name:"language",placeholder:"Language",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:O,errors:G},"language")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"FOB ID",type:"text",name:"fob",placeholder:"FOB",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:O,errors:G},"fob")}),(0,w.jsxs)(n.A,{xl:6,children:[(0,w.jsx)(h.Z,{type:"hidden",register:O,className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"me-2",name:"movein_date"},"movein_date"),(0,w.jsxs)("div",{className:"mb-3",children:[(0,w.jsx)("label",{className:"form-label",children:"Move In Date"})," ",(0,w.jsx)("br",{}),(0,w.jsx)(f.A,{hideAddon:!0,showTimeSelect:!1,value:I,onChange:e=>{(e=>{e&&R(e)})(e),W("movein_date",e.toLocaleString("sv-SE"))}}),G&&G.movein_date?(0,w.jsx)(x.A.Control.Feedback,{type:"invalid",children:G.movein_date.message}):null]})]}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Base Rent",type:"text",name:"base_rent",placeholder:"Base Rent",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:O,errors:G,prefix:"$"},"base_rent")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Utilities",type:"text",name:"utilities",placeholder:"Utilities",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:O,errors:G,prefix:"$"},"utilities")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Maintenance Fees",type:"text",name:"maintenance_fees",placeholder:"Maintenance Fees",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:O,errors:G,prefix:"$"},"maintenance_fees")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Property Taxes",type:"text",name:"property_taxes",placeholder:"Property Taxes",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:O,errors:G,prefix:"$"},"property_taxes")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Rental Insurance",type:"text",name:"rental_insurance",placeholder:"Rental Insurance",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:O,errors:G,prefix:"$"},"rental_insurance")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Parking Fees",type:"text",name:"parking_fees",placeholder:"Parking Fees",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:O,errors:G,prefix:"$"},"parking_fees")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Service Fees",type:"text",name:"service_fees",placeholder:"Service Fees",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:O,errors:G,prefix:"$"},"service_fees")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Administrative Fees",type:"text",name:"administrative_fees",placeholder:"Administrative Fees",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:O,errors:G,prefix:"$"},"administrative_fees")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Storage Fees",type:"text",name:"storage_fees",placeholder:"Storage Fees",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:O,errors:G,prefix:"$"},"storage_fees")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Cable Fees",type:"text",name:"cable_fees",placeholder:"Cable Fees",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:O,errors:G,prefix:"$"},"cable_fees")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"WIFI",type:"text",name:"wifi",placeholder:"WIFI",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:O,errors:G,prefix:"$"},"wifi")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Special information",type:"textarea",name:"special_instruction",rows:"5",className:"form-control-sm fs-5 ",containerClass:"mb-3",register:O,errors:G},"special_instruction")}),(0,w.jsx)(n.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Staff Note",type:"textarea",name:"staff_notes",rows:"5",className:"form-control-sm fs-5",containerClass:"mb-3",register:O,errors:G},"staff_notes")})]})})]}),(0,w.jsx)(d.A,{onClick:()=>U(-1),variant:"primary",className:"me-2",type:"submit",children:"Back"}),S?(0,w.jsx)(v.m,{}):(0,w.jsx)(d.A,{variant:"primary",type:"submit",children:"Submit"})]})})})})]})]})},S=()=>(0,w.jsxs)(r.Fragment,{children:[(0,w.jsx)(p.A,{breadCrumbItems:[{label:"Tenants",path:"/user"},{label:"My Account",path:"/user",active:!0}],title:"My Account"}),(0,w.jsx)(t.A,{children:(0,w.jsx)(n.A,{children:(0,w.jsx)(Z,{})})})]})}}]);