"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[3400],{43400:(e,r,s)=>{s.r(r),s.d(r,{default:()=>_});var a=s(9950),t=s(56035),l=s(86781),n=s(68459),i=s(97937),m=s(86133),c=s(82612),o=s(26473),d=s(60666),h=s(70030),u=s(9449),j=s(27081),x=s(19443),b=s(80183),p=s(88249),f=s(44414);const g=()=>{const{t:e}=(0,h.B)(),r=(0,o.t)(d.Ik().shape({first_name:d.Yj().required(e("Please select first_name")),last_name:d.Yj().required(e("Please select last name")),role_id:d.Yj().required(e("Please select role"))})),[s,m]=(0,a.useState)(""),[g,_]=(0,a.useState)(""),[y,A]=(0,a.useState)(!1),C=(0,j.wA)(),{flats:v}=(0,j.d4)((e=>({flats:e.Flat.flats})));(0,a.useEffect)((()=>{C((0,x.qx)())}),[]);const{register:w,handleSubmit:S,setError:N,watch:Z,formState:{errors:k}}=(0,u.mN)({defaultValues:{},resolver:r}),F=Z("apartment_id"),P=S((async e=>{A(!0),C((0,b.dH)(e)).unwrap().then((e=>{e&&!0===e.status&&m(e.message),A(!1)})).catch((e=>{for(var r in e.errors)try{N(r,{message:e.errors[r].toString()})}catch(s){}A(!1)}))}));return(0,f.jsxs)(f.Fragment,{children:[s&&(0,f.jsx)("div",{className:"alert alert-success",children:s}),g&&(0,f.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:g}),(0,f.jsx)(t.A,{children:(0,f.jsx)(t.A.Body,{children:(0,f.jsxs)(l.A,{children:[(0,f.jsx)(n.A,{lg:6,children:(0,f.jsxs)("form",{onSubmit:P,children:[(0,f.jsx)(c.Z,{label:"First Name",type:"text",register:w,name:"first_name",errors:k,rows:"5",containerClass:"mb-3"},"first_name"),(0,f.jsx)(c.Z,{label:"Last Name",type:"text",register:w,name:"last_name",errors:k,rows:"5",containerClass:"mb-3"},"last_name"),(0,f.jsx)(c.Z,{label:"Email",type:"text",register:w,name:"email",errors:k,rows:"5",containerClass:"mb-3"},"email"),(0,f.jsx)(c.Z,{label:"Phone number",type:"text",register:w,name:"phone_number",errors:k,containerClass:"mb-3"},"phone_number"),(0,f.jsx)(c.Z,{type:"hidden",label:"Role",name:"role_id",containerClass:"mb-3",register:w,errors:k,value:"recident"}),(0,f.jsx)(c.Z,{type:"select",label:"Property",name:"apartment_id",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:w,errors:k,children:v.length&&v.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name.toString()},`apartment${e.id}`)))}),(0,f.jsx)(c.Z,{type:"select",label:"Suite",name:"flat_id",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:w,errors:k,children:v.length&&v.map((e=>(0,f.jsx)(f.Fragment,{children:e.flats.map((r=>!r.has_occupied&&F==e.id&&(0,f.jsx)("option",{value:r.id,disabled:r.has_occupied,children:r.name},"flat"+r.id)))})))}),y?(0,f.jsx)(p.m,{}):(0,f.jsx)(i.A,{variant:"primary",type:"submit",children:"Create User"})]})}),(0,f.jsx)(n.A,{lg:6}),(0,f.jsx)(n.A,{lg:3})]})})})]})},_=()=>(0,f.jsxs)(a.Fragment,{children:[(0,f.jsx)(m.A,{breadCrumbItems:[{label:"Dashboard",path:"/dashboard-2"},{label:"Users",path:"/tenant"},{label:"Tenant",path:"/notice/new",active:!0}],title:"Tenant"}),(0,f.jsx)(l.A,{children:(0,f.jsx)(n.A,{children:(0,f.jsx)(g,{})})})]})}}]);