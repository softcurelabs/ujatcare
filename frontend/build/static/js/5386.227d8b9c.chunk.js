"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[5386],{33856:(e,s,a)=>{a.d(s,{l:()=>l});var t=a(44030),n=a(46417);const l=()=>(0,n.jsx)(t.Z,{animation:"border",role:"status",children:(0,n.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},10726:(e,s,a)=>{a.d(s,{T:()=>r});var t=a(47939),n=a(93298),l=a(46417);const r=e=>{let{okLabel:s="OK",cancelLabel:a="Cancel",title:r="Confirmation",submitForm:i,show:c,targetId:o,handleClose:d}=e;return(0,l.jsxs)(t.Z,{show:c,onHide:d,children:[(0,l.jsx)(t.Z.Header,{closeButton:!0,children:(0,l.jsx)(t.Z.Title,{children:r})}),(0,l.jsx)(t.Z.Body,{children:"Do you really want to submit?"}),(0,l.jsxs)(t.Z.Footer,{children:[(0,l.jsx)(n.Z,{variant:"secondary",onClick:d,children:a}),(0,l.jsx)(n.Z,{variant:"primary",onClick:()=>i(o),children:s})]})]})}},95251:(e,s,a)=>{a.d(s,{Z:()=>m});var t=a(47313),n=a(2135),l=a(51449),r=a(63849),i=a(31616),c=a(80614),o=a(46417);const d=e=>{const[s,a]=(0,t.useState)([]),d=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";const a=s<0?0:s,t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][t]};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.ZP,{...e,onDrop:t=>(t=>{var n=t;e.showPreview&&((t||[]).map((e=>Object.assign(e,{preview:"image"===e.type.split("/")[0]?URL.createObjectURL(e):null,formattedSize:d(e.size)}))),(n=s).push(...t),a(n)),e.onFileUpload&&e.onFileUpload(n)})(t),children:s=>{let{getRootProps:a,getInputProps:t}=s;return(0,o.jsx)("div",{className:"dropzone",children:(0,o.jsxs)("div",{className:"dz-message needsclick",...a(),children:[(0,o.jsx)("input",{...t()}),(0,o.jsx)("i",{className:"h3 text-muted dripicons-cloud-upload"}),(0,o.jsx)("h4",{children:e.title?e.title:"Drop Image or Document here or click to upload."}),(0,o.jsx)("span",{className:"text-muted font-13"})]})})}}),e.showPreview&&(0,o.jsx)("div",{className:"dropzone-previews mt-3",id:"uploadPreviewTemplate",children:(s||[]).map(((t,c)=>(0,o.jsx)(l.Z,{className:"mt-1 mb-0 shadow-none border",children:(0,o.jsx)("div",{className:"p-2",children:(0,o.jsxs)(r.Z,{className:"align-items-center",children:[t.preview&&(0,o.jsx)(i.Z,{className:"col-auto",children:(0,o.jsx)("img",{"data-dz-thumbnail":"",className:"avatar-sm rounded bg-light",alt:t.name,src:t.preview})}),!t.preview&&(0,o.jsx)(i.Z,{className:"col-auto",children:(0,o.jsx)("div",{className:"avatar-sm",children:(0,o.jsx)("span",{className:"avatar-title bg-primary rounded",children:t.type.split("/")[0]})})}),(0,o.jsxs)(i.Z,{className:"ps-0",children:[(0,o.jsx)(n.rU,{to:"#",className:"text-muted fw-bold",children:t.name}),(0,o.jsx)("p",{className:"mb-0",children:(0,o.jsx)("strong",{children:t.formattedSize})})]}),(0,o.jsx)(i.Z,{className:"text-end",children:(0,o.jsx)(n.rU,{to:"#",className:"btn btn-link btn-lg text-muted shadow-none",children:(0,o.jsx)("i",{className:"dripicons-cross",onClick:()=>(t=>{const n=[...s];n.splice(t,1),a(n),e.onFileUpload&&e.onFileUpload(n)})(c)})})})]})})},c+"-file")))})]})};d.defaultProps={showPreview:!0};const m=d},20192:(e,s,a)=>{a.d(s,{Z:()=>i});a(47313);var t=a(63849),n=a(31616),l=a(52198),r=a(46417);const i=e=>(0,r.jsx)(t.Z,{children:(0,r.jsx)(n.Z,{children:(0,r.jsxs)("div",{className:"page-title-box",children:[(0,r.jsx)("div",{className:"page-title-right",children:(0,r.jsxs)(l.Z,{className:"m-0",children:[(0,r.jsx)(l.Z.Item,{href:"/",children:"Home"}),(e.breadCrumbItems||[]).map(((e,s)=>e.active?(0,r.jsx)(l.Z.Item,{active:!0,children:e.label},s):(0,r.jsx)(l.Z.Item,{href:e.path,children:e.label},s)))]})}),(0,r.jsx)("h4",{className:"page-title",children:e.title})]})})})},20433:(e,s,a)=>{a.d(s,{Z:()=>c});var t=a(47313),n=a(2135),l=a(72884),r=a.n(l),i=a(46417);const c=e=>{let{tableProps:s,sizePerPageList:a}=e;const[l,c]=(0,t.useState)(s.pageCount),[o,d]=(0,t.useState)(s.state.pageIndex);(0,t.useEffect)((()=>{c(s.pageCount),d(s.state.pageIndex)}),[s.pageCount,s.state.pageIndex]);const m=(0,t.useCallback)(((e,s)=>e.filter((e=>e<=l))),[l]),u=(0,t.useCallback)(((e,s)=>s<7?m([1,2,3,4,5,6],s):e%5>=0&&e>4&&e+2<s?[1,e-1,e,e+1,s]:e%5>=0&&e>4&&e+2>=s?[1,s-3,s-2,s-1,s]:[1,2,3,4,5,s]),[m]),h=e=>{if(e===o)return;const a=u(e,l);p(m(a,l)),s.gotoPage(e)};(0,t.useEffect)((()=>{const e=u(null,l);p(e)}),[l,u]);const[x,p]=(0,t.useState)(u(null,l)),j=o;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"d-lg-flex align-items-center text-center pb-1",children:[a.length>0&&(0,i.jsxs)("div",{className:"d-inline-block me-3",children:[(0,i.jsx)("label",{className:"me-1",children:"Display :"}),(0,i.jsx)("select",{value:s.state.pageSize,onChange:e=>{s.setPageSize(Number(e.target.value))},className:"form-select d-inline-block w-auto",children:(a||[]).map(((e,s)=>(0,i.jsx)("option",{value:e.value,children:e.text},s)))})]}),(0,i.jsxs)("span",{className:"me-3",children:["Page"," ",(0,i.jsxs)("strong",{children:[o," of ",s.pageOptions.length]})," "]}),(0,i.jsxs)("ul",{className:"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0",children:[(0,i.jsx)("li",{className:r()("page-item","paginate_button","previous",{disabled:1===j}),onClick:()=>{1!==j&&h(j-1)},children:(0,i.jsx)(n.rU,{to:"#",className:"page-link",children:(0,i.jsx)("i",{className:"mdi mdi-chevron-left"})})},"prevpage"),(x||[]).map(((e,s,a)=>a[s-1]+1<e?(0,i.jsxs)(t.Fragment,{children:[(0,i.jsx)("li",{className:"page-item disabled d-none d-xl-inline-block",children:(0,i.jsx)(n.rU,{to:"#",className:"page-link",children:"..."})}),(0,i.jsx)("li",{className:r()("page-item","d-none","d-xl-inline-block",{active:j===e}),onClick:s=>h(e),children:(0,i.jsx)(n.rU,{to:"#",className:"page-link",children:e})})]},e):(0,i.jsx)("li",{className:r()("page-item","d-none","d-xl-inline-block",{active:j===e}),onClick:s=>h(e),children:(0,i.jsx)(n.rU,{to:"#",className:"page-link",children:e})},e))),(0,i.jsx)("li",{className:r()("page-item","paginate_button","next",{disabled:j===s.pageCount}),onClick:()=>{j!==s.pageCount&&h(j+1)},children:(0,i.jsx)(n.rU,{to:"#",className:"page-link",children:(0,i.jsx)("i",{className:"mdi mdi-chevron-right"})})},"nextpage")]})]})})}},37667:(e,s,a)=>{a.d(s,{Z:()=>j});var t=a(47313),n=a(47939),l=a(41709),r=a(93298),i=a(3463),c=a(62563),o=a(75627),d=a(95251),m=a(56352),u=a(33689),h=a(2135),x=a(33856),p=a(46417);const j=e=>{let{show:s,onHide:a,onSubmit:j}=e;const g=(0,c.X)(i.Ry().shape({})),f=(0,m.I0)(),[v,b]=(0,t.useState)(""),[N,Z]=(0,t.useState)(!1),[w,y]=(0,t.useState)(""),{register:k,handleSubmit:C,setValue:S,setError:E,control:P,formState:{errors:F}}=(0,o.cI)({defaultValues:{},resolver:g}),I=C((e=>{Z(!0),b(""),y(""),f((0,u.pj)(e)).unwrap().then((e=>{e&&!0===e.status&&(b(e.message),y(e.errors)),Z(!1)})).catch((e=>{y(e.message),b(""),Z(!1)}))}));return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(n.Z,{show:s,onHide:a,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,dialogClassName:"modal-xl",children:[(0,p.jsx)(n.Z.Header,{className:"bg-light",onHide:a,closeButton:!0,children:(0,p.jsx)(n.Z.Title,{className:"m-0",children:"Import Tenants"})}),(0,p.jsxs)(n.Z.Body,{className:"p-4",children:[(0,p.jsxs)(l.Z,{children:["Sample user import:"," ",(0,p.jsx)(h.rU,{to:"/users.xlsx",target:"_blank",children:"Download"})]}),v&&(0,p.jsx)("div",{className:"alert alert-success",children:v}),w&&(0,p.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",dangerouslySetInnerHTML:{__html:w}}),(0,p.jsxs)("form",{onSubmit:I,children:[(0,p.jsx)(o.Qr,{render:()=>(0,p.jsx)(d.Z,{maxFiles:1,onFileUpload:e=>{S("users",e[0])}}),name:"users",control:P}),(0,p.jsxs)("div",{className:"text-end mt-2",children:[N?(0,p.jsx)(x.l,{}):(0,p.jsx)(r.Z,{variant:"success",type:"submit",className:"waves-effect waves-light me-1",children:"Save"}),(0,p.jsx)(r.Z,{variant:"danger",className:"waves-effect waves-light",onClick:a,children:"Exit"})]})]})]})]})})}},15386:(e,s,a)=>{a.r(s),a.d(s,{default:()=>v});var t=a(47313),n=a(51449),l=a(465),r=a(4705),i=a(63849),c=a(31616),o=a(93298),d=a(20192),m=a(58467),u=a(56352),h=a(20433),x=a(10726),p=a(33689),j=a(37667),g=a(46417);const f=e=>{let{users:s}=e;const[a,i]=(0,t.useState)(!1),[c,o]=(0,t.useState)(0),d=(0,u.I0)(),[m,h]=(0,t.useState)(""),[j,f]=(0,t.useState)("");return(0,t.useEffect)((()=>{d((0,p.k9)(1))}),[a]),(0,g.jsx)(n.Z,{children:(0,g.jsxs)(n.Z.Body,{children:[m&&(0,g.jsx)("div",{className:"alert alert-success",children:m}),j&&(0,g.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:j}),(0,g.jsxs)("div",{className:"table-responsive",children:[(0,g.jsxs)(l.Z,{className:"mb-0 table-striped dt-responsive nowrap w-100",children:[(0,g.jsx)("thead",{className:"table-light",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"Name"}),(0,g.jsx)("th",{children:"Email"}),(0,g.jsx)("th",{children:"Role"}),(0,g.jsx)("th",{children:"Actions"})]})}),(0,g.jsx)("tbody",{children:s&&s.data.length>0?s.data.map(((e,s)=>(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:e.user.name}),(0,g.jsx)("td",{children:e.user.email}),(0,g.jsx)("td",{children:e.user.role}),(0,g.jsx)("td",{children:(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(r.Z,{className:"btn-group",align:"end",children:[(0,g.jsx)(r.Z.Toggle,{variant:"light",className:"table-action-btn btn-sm",children:(0,g.jsx)("i",{className:"mdi mdi-dots-horizontal"})}),(0,g.jsxs)(r.Z.Menu,{children:[(0,g.jsxs)(r.Z.Item,{href:"assign-permission-staff/".concat(e.user.id),children:[(0,g.jsx)("i",{className:"mdi mdi-pencil me-2 text-muted font-18 vertical-middle"}),"Manage Permission"]}),(0,g.jsxs)(r.Z.Item,{href:"/user-staff/".concat(e.user.id),children:[(0,g.jsx)("i",{className:"mdi mdi-check-all me-2 text-muted font-18 vertical-middle"}),"Edit Profile"]}),(0,g.jsxs)(r.Z.Item,{onClick:()=>{o(e.user.id),i(!0)},children:[(0,g.jsx)("i",{className:"mdi mdi-delete me-2 text-muted font-18 vertical-middle"}),"Delete Profile"]})]})]})})})]},s))):(0,g.jsx)("p",{children:"No Data Found"})})]}),(0,g.jsx)(x.T,{show:a,targetId:c,submitForm:e=>{d((0,p.e2)(e)).unwrap().then((e=>{e&&!0===e.status&&(h(e.message),i(!1))})).catch((e=>{f(e.message),i(!1)}))},handleClose:()=>i(!1)})]})]})})},v=()=>{const e=(0,u.I0)(),[s,a]=(0,t.useState)(1),[n,l]=(0,t.useState)(!1),{users:r}=(0,u.v9)((e=>({users:e.User.users})));let x=(0,m.s0)();return(0,t.useEffect)((()=>{e((0,p.k9)(s))}),[s,n]),(0,g.jsxs)(t.Fragment,{children:[(0,g.jsx)(d.Z,{breadCrumbItems:[{label:"Staff",path:"/user",active:!0}],title:"Staff"}),(0,g.jsx)(i.Z,{children:(0,g.jsxs)(c.Z,{lg:12,children:[(0,g.jsxs)(o.Z,{className:"waves-effect waves-light mb-3 me-3",onClick:()=>{x("/user/new")},children:[(0,g.jsx)("i",{className:"mdi mdi-plus-circle me-1"})," Add New"]}),r&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f,{users:r}),(0,g.jsx)(h.Z,{tableProps:{pageCount:r.last_page,state:{pageIndex:r.current_page},pageOptions:{length:r.total},gotoPage:e=>{a(e)}},sizePerPageList:[{text:"10",value:10}]})]}),(0,g.jsx)(j.Z,{show:n,onHide:()=>{l(!1)},onSubmit:()=>{l(!1)}})]})})]})}},47939:(e,s,a)=>{a.d(s,{Z:()=>D});var t,n=a(72884),l=a.n(n),r=a(55506),i=a(78532),c=a(14987),o=a(18755);function d(e){if((!t&&0!==t||e)&&i.Z){var s=document.createElement("div");s.style.position="absolute",s.style.top="-9999px",s.style.width="50px",s.style.height="50px",s.style.overflow="scroll",document.body.appendChild(s),t=s.offsetWidth-s.clientWidth,document.body.removeChild(s)}return t}var m=a(47313);var u=a(69125),h=a(57323),x=a(52904),p=a(27890),j=a(45292),g=a(16381),f=a(22868),v=a(68524),b=a(46417);const N=m.forwardRef(((e,s)=>{let{className:a,bsPrefix:t,as:n="div",...r}=e;return t=(0,v.vE)(t,"modal-body"),(0,b.jsx)(n,{ref:s,className:l()(a,t),...r})}));N.displayName="ModalBody";const Z=N;var w=a(30321);const y=m.forwardRef(((e,s)=>{let{bsPrefix:a,className:t,contentClassName:n,centered:r,size:i,fullscreen:c,children:o,scrollable:d,...m}=e;a=(0,v.vE)(a,"modal");const u="".concat(a,"-dialog"),h="string"===typeof c?"".concat(a,"-fullscreen-").concat(c):"".concat(a,"-fullscreen");return(0,b.jsx)("div",{...m,ref:s,className:l()(u,t,i&&"".concat(a,"-").concat(i),r&&"".concat(u,"-centered"),d&&"".concat(u,"-scrollable"),c&&h),children:(0,b.jsx)("div",{className:l()("".concat(a,"-content"),n),children:o})})}));y.displayName="ModalDialog";const k=y,C=m.forwardRef(((e,s)=>{let{className:a,bsPrefix:t,as:n="div",...r}=e;return t=(0,v.vE)(t,"modal-footer"),(0,b.jsx)(n,{ref:s,className:l()(a,t),...r})}));C.displayName="ModalFooter";const S=C;var E=a(50195);const P=m.forwardRef(((e,s)=>{let{bsPrefix:a,className:t,closeLabel:n="Close",closeButton:r=!1,...i}=e;return a=(0,v.vE)(a,"modal-header"),(0,b.jsx)(E.Z,{ref:s,...i,className:l()(t,a),closeLabel:n,closeButton:r})}));P.displayName="ModalHeader";const F=P;const I=(0,a(96205).Z)("h4"),R=m.forwardRef(((e,s)=>{let{className:a,bsPrefix:t,as:n=I,...r}=e;return t=(0,v.vE)(t,"modal-title"),(0,b.jsx)(n,{ref:s,className:l()(a,t),...r})}));R.displayName="ModalTitle";const B=R;function T(e){return(0,b.jsx)(f.Z,{...e,timeout:null})}function U(e){return(0,b.jsx)(f.Z,{...e,timeout:null})}const z=m.forwardRef(((e,s)=>{let{bsPrefix:a,className:t,style:n,dialogClassName:f,contentClassName:N,children:Z,dialogAs:y=k,"data-bs-theme":C,"aria-labelledby":S,"aria-describedby":E,"aria-label":P,show:F=!1,animation:I=!0,backdrop:R=!0,keyboard:B=!0,onEscapeKeyDown:z,onShow:D,onHide:M,container:H,autoFocus:O=!0,enforceFocus:L=!0,restoreFocus:_=!0,restoreFocusOptions:A,onEntered:K,onExit:W,onExiting:V,onEnter:G,onEntering:Q,onExited:X,backdropClassName:Y,manager:q,...J}=e;const[$,ee]=(0,m.useState)({}),[se,ae]=(0,m.useState)(!1),te=(0,m.useRef)(!1),ne=(0,m.useRef)(!1),le=(0,m.useRef)(null),[re,ie]=(0,m.useState)(null),ce=(0,h.Z)(s,ie),oe=(0,u.Z)(M),de=(0,v.SC)();a=(0,v.vE)(a,"modal");const me=(0,m.useMemo)((()=>({onHide:oe})),[oe]);function ue(){return q||(0,g.t)({isRTL:de})}function he(e){if(!i.Z)return;const s=ue().getScrollbarWidth()>0,a=e.scrollHeight>(0,c.Z)(e).documentElement.clientHeight;ee({paddingRight:s&&!a?d():void 0,paddingLeft:!s&&a?d():void 0})}const xe=(0,u.Z)((()=>{re&&he(re.dialog)}));(0,x.Z)((()=>{(0,o.Z)(window,"resize",xe),null==le.current||le.current()}));const pe=()=>{te.current=!0},je=e=>{te.current&&re&&e.target===re.dialog&&(ne.current=!0),te.current=!1},ge=()=>{ae(!0),le.current=(0,p.Z)(re.dialog,(()=>{ae(!1)}))},fe=e=>{"static"!==R?ne.current||e.target!==e.currentTarget?ne.current=!1:null==M||M():(e=>{e.target===e.currentTarget&&ge()})(e)},ve=(0,m.useCallback)((e=>(0,b.jsx)("div",{...e,className:l()("".concat(a,"-backdrop"),Y,!I&&"show")})),[I,Y,a]),be={...n,...$};be.display="block";return(0,b.jsx)(w.Z.Provider,{value:me,children:(0,b.jsx)(j.Z,{show:F,ref:ce,backdrop:R,container:H,keyboard:!0,autoFocus:O,enforceFocus:L,restoreFocus:_,restoreFocusOptions:A,onEscapeKeyDown:e=>{B?null==z||z(e):(e.preventDefault(),"static"===R&&ge())},onShow:D,onHide:M,onEnter:(e,s)=>{e&&he(e),null==G||G(e,s)},onEntering:(e,s)=>{null==Q||Q(e,s),(0,r.ZP)(window,"resize",xe)},onEntered:K,onExit:e=>{null==le.current||le.current(),null==W||W(e)},onExiting:V,onExited:e=>{e&&(e.style.display=""),null==X||X(e),(0,o.Z)(window,"resize",xe)},manager:ue(),transition:I?T:void 0,backdropTransition:I?U:void 0,renderBackdrop:ve,renderDialog:e=>(0,b.jsx)("div",{role:"dialog",...e,style:be,className:l()(t,a,se&&"".concat(a,"-static"),!I&&"show"),onClick:R?fe:void 0,onMouseUp:je,"data-bs-theme":C,"aria-label":P,"aria-labelledby":S,"aria-describedby":E,children:(0,b.jsx)(y,{...J,onMouseDown:pe,className:f,contentClassName:N,children:Z})})})})}));z.displayName="Modal";const D=Object.assign(z,{Body:Z,Header:F,Title:B,Footer:S,Dialog:k,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},44030:(e,s,a)=>{a.d(s,{Z:()=>o});var t=a(72884),n=a.n(t),l=a(47313),r=a(68524),i=a(46417);const c=l.forwardRef(((e,s)=>{let{bsPrefix:a,variant:t,animation:l="border",size:c,as:o="div",className:d,...m}=e;a=(0,r.vE)(a,"spinner");const u="".concat(a,"-").concat(l);return(0,i.jsx)(o,{ref:s,...m,className:n()(d,u,c&&"".concat(u,"-").concat(c),t&&"text-".concat(t))})}));c.displayName="Spinner";const o=c},465:(e,s,a)=>{a.d(s,{Z:()=>c});var t=a(72884),n=a.n(t),l=a(47313),r=a(68524),i=a(46417);const c=l.forwardRef(((e,s)=>{let{bsPrefix:a,className:t,striped:l,bordered:c,borderless:o,hover:d,size:m,variant:u,responsive:h,...x}=e;const p=(0,r.vE)(a,"table"),j=n()(t,p,u&&"".concat(p,"-").concat(u),m&&"".concat(p,"-").concat(m),l&&"".concat(p,"-").concat("string"===typeof l?"striped-".concat(l):"striped"),c&&"".concat(p,"-bordered"),o&&"".concat(p,"-borderless"),d&&"".concat(p,"-hover")),g=(0,i.jsx)("table",{...x,className:j,ref:s});if(h){let e="".concat(p,"-responsive");return"string"===typeof h&&(e="".concat(e,"-").concat(h)),(0,i.jsx)("div",{className:e,children:g})}return g}))},52904:(e,s,a)=>{a.d(s,{Z:()=>n});var t=a(47313);function n(e){const s=function(e){const s=(0,t.useRef)(e);return s.current=e,s}(e);(0,t.useEffect)((()=>()=>s.current()),[])}}}]);