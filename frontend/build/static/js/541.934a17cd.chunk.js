"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[541],{95251:(e,s,t)=>{t.d(s,{Z:()=>m});var a=t(47313),l=t(2135),r=t(10195),i=t(63849),n=t(31616),c=t(80614),d=t(46417);const o=e=>{const[s,t]=(0,a.useState)([]),o=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";const t=s<0?0:s,a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(t))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(c.ZP,{...e,onDrop:a=>(a=>{var l=a;e.showPreview&&((a||[]).map((e=>Object.assign(e,{preview:"image"===e.type.split("/")[0]?URL.createObjectURL(e):null,formattedSize:o(e.size)}))),(l=s).push(...a),t(l)),e.onFileUpload&&e.onFileUpload(l)})(a),children:e=>{let{getRootProps:s,getInputProps:t}=e;return(0,d.jsx)("div",{className:"dropzone",children:(0,d.jsxs)("div",{className:"dz-message needsclick",...s(),children:[(0,d.jsx)("input",{...t()}),(0,d.jsx)("i",{className:"h3 text-muted dripicons-cloud-upload"}),(0,d.jsx)("h4",{children:"Drop Image or Document here or click to upload."}),(0,d.jsx)("span",{className:"text-muted font-13"})]})})}}),e.showPreview&&(0,d.jsx)("div",{className:"dropzone-previews mt-3",id:"uploadPreviewTemplate",children:(s||[]).map(((a,c)=>(0,d.jsx)(r.Z,{className:"mt-1 mb-0 shadow-none border",children:(0,d.jsx)("div",{className:"p-2",children:(0,d.jsxs)(i.Z,{className:"align-items-center",children:[a.preview&&(0,d.jsx)(n.Z,{className:"col-auto",children:(0,d.jsx)("img",{"data-dz-thumbnail":"",className:"avatar-sm rounded bg-light",alt:a.name,src:a.preview})}),!a.preview&&(0,d.jsx)(n.Z,{className:"col-auto",children:(0,d.jsx)("div",{className:"avatar-sm",children:(0,d.jsx)("span",{className:"avatar-title bg-primary rounded",children:a.type.split("/")[0]})})}),(0,d.jsxs)(n.Z,{className:"ps-0",children:[(0,d.jsx)(l.rU,{to:"#",className:"text-muted fw-bold",children:a.name}),(0,d.jsx)("p",{className:"mb-0",children:(0,d.jsx)("strong",{children:a.formattedSize})})]}),(0,d.jsx)(n.Z,{className:"text-end",children:(0,d.jsx)(l.rU,{to:"#",className:"btn btn-link btn-lg text-muted shadow-none",children:(0,d.jsx)("i",{className:"dripicons-cross",onClick:()=>(a=>{const l=[...s];l.splice(a,1),t(l),e.onFileUpload&&e.onFileUpload(l)})(c)})})})]})})},c+"-file")))})]})};o.defaultProps={showPreview:!0};const m=o},37667:(e,s,t)=>{t.d(s,{Z:()=>p});var a=t(47313),l=t(47939),r=t(41709),i=t(93298),n=t(3463),c=t(62563),d=t(75627),o=t(95251),m=t(56352),h=t(33689),x=t(61875),u=t(2135),j=t(46417);const p=e=>{let{show:s,onHide:t,onSubmit:p}=e;const g=(0,c.X)(n.Ry().shape({})),v=(0,m.I0)(),[N,b]=(0,a.useState)(""),[w,f]=(0,a.useState)(!1),[Z,S]=(0,a.useState)(""),{register:P,handleSubmit:F,setValue:I,setError:k,control:B,formState:{errors:U}}=(0,d.cI)({defaultValues:{},resolver:g}),y=F((e=>{f(!0),b(""),S(""),v((0,h.pj)(e)).unwrap().then((e=>{e&&!0===e.status&&(b(e.message),S(e.errors)),f(!1)})).catch((e=>{S(e.message),b(""),f(!1)}))}));return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(l.Z,{show:s,onHide:t,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,dialogClassName:"modal-xl",children:[(0,j.jsx)(l.Z.Header,{className:"bg-light",onHide:t,closeButton:!0,children:(0,j.jsx)(l.Z.Title,{className:"m-0",children:"Import Recidents"})}),(0,j.jsxs)(l.Z.Body,{className:"p-4",children:[(0,j.jsxs)(r.Z,{children:["Sample user import:"," ",(0,j.jsx)(u.rU,{to:"/users.xlsx",target:"_blank",children:"Download"})]}),N&&(0,j.jsx)("div",{className:"alert alert-success",children:N}),Z&&(0,j.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",dangerouslySetInnerHTML:{__html:Z}}),(0,j.jsxs)("form",{onSubmit:y,children:[(0,j.jsx)(d.Qr,{render:()=>(0,j.jsx)(o.Z,{maxFiles:1,onFileUpload:e=>{I("users",e[0])}}),name:"users",control:B}),(0,j.jsxs)("div",{className:"text-end mt-2",children:[w?(0,j.jsx)(x.Z,{}):(0,j.jsx)(i.Z,{variant:"success",type:"submit",className:"waves-effect waves-light me-1",children:"Save"}),(0,j.jsx)(i.Z,{variant:"danger",className:"waves-effect waves-light",onClick:t,children:"Exit"})]})]})]})]})})}},80541:(e,s,t)=>{t.r(s),t.d(s,{default:()=>N});var a=t(47313),l=t(10195),r=t(465),i=t(4705),n=t(63849),c=t(31616),d=t(93298),o=t(20192),m=t(58467),h=t(56352),x=t(20433),u=t(10726),j=t(33689),p=t(37667),g=t(46417);const v=e=>{let{users:s}=e;const[t,n]=(0,a.useState)(!1),[c,d]=(0,a.useState)(0),o=(0,h.I0)(),[m,x]=(0,a.useState)(""),[p,v]=(0,a.useState)("");return(0,a.useEffect)((()=>{o((0,j.Tw)(1))}),[t]),(0,g.jsx)(l.Z,{children:(0,g.jsxs)(l.Z.Body,{children:[m&&(0,g.jsx)("div",{className:"alert alert-success",children:m}),p&&(0,g.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:p}),(0,g.jsxs)("div",{className:"table-responsive",children:[(0,g.jsxs)(r.Z,{className:"mb-0 table-striped dt-responsive nowrap w-100",children:[(0,g.jsx)("thead",{className:"table-light",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"Unit"}),(0,g.jsx)("th",{children:"Apartment"}),(0,g.jsx)("th",{children:"Name"}),(0,g.jsx)("th",{children:"Email"}),(0,g.jsx)("th",{children:"Phone"}),(0,g.jsx)("th",{children:"Actions"})]})}),(0,g.jsx)("tbody",{children:s&&s.data.length>0?s.data.map(((e,s)=>(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:e.user.flat_name}),(0,g.jsx)("td",{children:e.user.apartment_name}),(0,g.jsx)("td",{children:e.user.name}),(0,g.jsx)("td",{children:e.user.email}),(0,g.jsx)("td",{children:e.phone_number}),(0,g.jsx)("td",{children:(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(i.Z,{className:"btn-group",align:"end",children:[(0,g.jsx)(i.Z.Toggle,{variant:"light",className:"table-action-btn btn-sm",children:(0,g.jsx)("i",{className:"mdi mdi-dots-horizontal"})}),(0,g.jsxs)(i.Z.Menu,{children:[(0,g.jsxs)(i.Z.Item,{href:"assign-permission/".concat(e.user.id),children:[(0,g.jsx)("i",{className:"mdi mdi-pencil me-2 text-muted font-18 vertical-middle"}),"Manage Permission"]}),(0,g.jsxs)(i.Z.Item,{href:"user/".concat(e.user.id),children:[(0,g.jsx)("i",{className:"mdi mdi-check-all me-2 text-muted font-18 vertical-middle"}),"Edit Profile"]}),(0,g.jsxs)(i.Z.Item,{onClick:()=>{d(e.user.id),n(!0)},children:[(0,g.jsx)("i",{className:"mdi mdi-delete me-2 text-muted font-18 vertical-middle"}),"Delete Profile"]})]})]})})})]},s))):(0,g.jsx)("p",{children:"No Data Found"})})]}),(0,g.jsx)(u.T,{show:t,targetId:c,submitForm:e=>{o((0,j.e2)(e)).unwrap().then((e=>{e&&!0===e.status&&(x(e.message),n(!1))})).catch((e=>{v(e.message),n(!1)}))},handleClose:()=>n(!1)})]})]})})},N=()=>{const e=(0,h.I0)(),[s,t]=(0,a.useState)(1),[l,r]=(0,a.useState)(!1),{users:i}=(0,h.v9)((e=>({users:e.User.users})));let u=(0,m.s0)();return(0,a.useEffect)((()=>{e((0,j.Tw)(s))}),[s,l]),(0,g.jsxs)(a.Fragment,{children:[(0,g.jsx)(o.Z,{breadCrumbItems:[{label:"Residence",path:"/user",active:!0}],title:"Residence"}),(0,g.jsx)(n.Z,{children:(0,g.jsxs)(c.Z,{lg:12,children:[(0,g.jsxs)(d.Z,{className:"waves-effect waves-light mb-3 me-3",onClick:()=>{u("/user-recident/new")},children:[(0,g.jsx)("i",{className:"mdi mdi-plus-circle me-1"})," Add New"]}),(0,g.jsxs)(d.Z,{className:"waves-effect waves-light mb-3",onClick:()=>{r(!0)},children:[(0,g.jsx)("i",{className:"mdi mdi-plus-circle me-1"})," Import User"]}),i&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v,{users:i}),(0,g.jsx)(x.Z,{tableProps:{pageCount:i.last_page,state:{pageIndex:i.current_page},pageOptions:{length:i.total},gotoPage:e=>{t(e)}},sizePerPageList:[{text:"10",value:10}]})]}),(0,g.jsx)(p.Z,{show:l,onHide:()=>{r(!1)},onSubmit:()=>{r(!1)}})]})})]})}}}]);