"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[7162],{20800:(e,a,s)=>{s.d(a,{Z:()=>l});s(47313);var r=s(61378),t=s.n(r),n=(s(72884),s(72632),s(46417));const l=e=>(0,n.jsx)(n.Fragment,{children:e.showTimeSelectOnly?(0,n.jsx)(t(),{name:e.name,timeIntervals:e.tI,selected:e.value,onChange:a=>e.onChange(a),showTimeSelect:e.showTimeSelect,timeFormat:"hh:mm a",timeCaption:e.timeCaption,dateFormat:"hh:mm",className:"is-invalid",minDate:e.minDate,scrollableYearDropdown:!0,scrollableMonthYearDropdown:!0,maxDate:e.maxDate,disabled:e.disabled,monthsShown:e.monthsShown,wrapperClassName:"is-invalid",showTimeSelectOnly:e.showTimeSelectOnly,inline:e.inline,autoComplete:"off"}):(0,n.jsx)(t(),{name:e.name,timeIntervals:e.tI,selected:e.value,onChange:a=>e.onChange(a),showTimeSelect:e.showTimeSelect,timeFormat:"hh:mm a",timeCaption:e.timeCaption,dateFormat:"MM/dd/yyyy",minDate:e.minDate,disabled:e.disabled,wrapperClassName:"is-invalid",maxDate:e.maxDate,showMonthDropdown:!0,showYearDropdown:!0,scrollableMonthYearDropdown:!0,monthsShown:e.monthsShown,showTimeSelectOnly:e.showTimeSelectOnly,inline:e.inline,autoComplete:"off"})})},95251:(e,a,s)=>{s.d(a,{Z:()=>d});var r=s(47313),t=s(2135),n=s(10195),l=s(63849),i=s(31616),o=s(80614),c=s(46417);const m=e=>{const[a,s]=(0,r.useState)([]),m=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";const s=a<0?0:a,r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(s))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.ZP,{...e,onDrop:r=>(r=>{var t=r;e.showPreview&&((r||[]).map((e=>Object.assign(e,{preview:"image"===e.type.split("/")[0]?URL.createObjectURL(e):null,formattedSize:m(e.size)}))),(t=a).push(...r),s(t)),e.onFileUpload&&e.onFileUpload(t)})(r),children:e=>{let{getRootProps:a,getInputProps:s}=e;return(0,c.jsx)("div",{className:"dropzone",children:(0,c.jsxs)("div",{className:"dz-message needsclick",...a(),children:[(0,c.jsx)("input",{...s()}),(0,c.jsx)("i",{className:"h3 text-muted dripicons-cloud-upload"}),(0,c.jsx)("h4",{children:"Drop Image or Document here or click to upload."}),(0,c.jsx)("span",{className:"text-muted font-13"})]})})}}),e.showPreview&&(0,c.jsx)("div",{className:"dropzone-previews mt-3",id:"uploadPreviewTemplate",children:(a||[]).map(((r,o)=>(0,c.jsx)(n.Z,{className:"mt-1 mb-0 shadow-none border",children:(0,c.jsx)("div",{className:"p-2",children:(0,c.jsxs)(l.Z,{className:"align-items-center",children:[r.preview&&(0,c.jsx)(i.Z,{className:"col-auto",children:(0,c.jsx)("img",{"data-dz-thumbnail":"",className:"avatar-sm rounded bg-light",alt:r.name,src:r.preview})}),!r.preview&&(0,c.jsx)(i.Z,{className:"col-auto",children:(0,c.jsx)("div",{className:"avatar-sm",children:(0,c.jsx)("span",{className:"avatar-title bg-primary rounded",children:r.type.split("/")[0]})})}),(0,c.jsxs)(i.Z,{className:"ps-0",children:[(0,c.jsx)(t.rU,{to:"#",className:"text-muted fw-bold",children:r.name}),(0,c.jsx)("p",{className:"mb-0",children:(0,c.jsx)("strong",{children:r.formattedSize})})]}),(0,c.jsx)(i.Z,{className:"text-end",children:(0,c.jsx)(t.rU,{to:"#",className:"btn btn-link btn-lg text-muted shadow-none",children:(0,c.jsx)("i",{className:"dripicons-cross",onClick:()=>(r=>{const t=[...a];t.splice(r,1),s(t),e.onFileUpload&&e.onFileUpload(t)})(o)})})})]})})},o+"-file")))})]})};m.defaultProps={showPreview:!0};const d=m},20192:(e,a,s)=>{s.d(a,{Z:()=>i});s(47313);var r=s(63849),t=s(31616),n=s(52198),l=s(46417);const i=e=>(0,l.jsx)(r.Z,{children:(0,l.jsx)(t.Z,{children:(0,l.jsxs)("div",{className:"page-title-box",children:[(0,l.jsx)("div",{className:"page-title-right",children:(0,l.jsxs)(n.Z,{className:"m-0",children:[(0,l.jsx)(n.Z.Item,{href:"/",children:"Home"}),(e.breadCrumbItems||[]).map(((e,a)=>e.active?(0,l.jsx)(n.Z.Item,{active:!0,children:e.label},a):(0,l.jsx)(n.Z.Item,{href:e.path,children:e.label},a)))]})}),(0,l.jsx)("h4",{className:"page-title",children:e.title})]})})})},52487:(e,a,s)=>{s.d(a,{y:()=>h,J:()=>l});var r=s(47313),t=s(75627),n=s(46417);const l=e=>{let{defaultValues:a,resolver:s,children:l,onSubmit:i,formClass:o}=e;const c=(0,t.cI)({defaultValues:a,resolver:s}),{handleSubmit:m,register:d,control:h,formState:{errors:p}}=c;return(0,n.jsx)("form",{onSubmit:m(i),className:o,noValidate:!0,children:Array.isArray(l)?l.map((e=>e.props&&e.props.name?r.createElement(e.type,{...{...e.props,register:d,key:e.props.name,errors:p,control:h}}):e)):l})};var i=s(38394),o=s(88178),c=s(72884),m=s.n(c);const d=e=>{let{name:a,placeholder:s,refCallback:t,errors:l,control:c,register:d,className:h}=e;const[p,u]=(0,r.useState)(!1);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(i.Z,{className:"mb-0",children:[(0,n.jsx)(o.Z.Control,{type:p?"text":"password",placeholder:s,name:a,id:a,as:"input",ref:e=>{t&&t(e)},className:h,isInvalid:!(!l||!l[a]),...d?d(a):{},autoComplete:a}),(0,n.jsx)("div",{className:m()("input-group-text","input-group-password",{"show-password":p}),"data-password":p?"true":"false",children:(0,n.jsx)("span",{className:"password-eye",onClick:()=>{u(!p)}})})]})})},h=e=>{let{label:a,type:s,name:r,placeholder:t,register:l,errors:i,control:c,className:m,labelClassName:h,containerClass:p,refCallback:u,children:x,rows:j,...g}=e;const b="textarea"===s?"textarea":"select"===s?"select":"input";return(0,n.jsx)(n.Fragment,{children:"hidden"===s?(0,n.jsx)("input",{type:s,name:r,id:r,...l?l(r):{},...g,className:m}):(0,n.jsx)(n.Fragment,{children:"password"===s?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(o.Z.Group,{className:p,children:[a?(0,n.jsxs)(n.Fragment,{children:[" ",(0,n.jsx)(o.Z.Label,{className:h,children:a})," ",x," "]}):null,(0,n.jsx)(d,{name:r,placeholder:t,refCallback:u,errors:i,register:l,className:m}),i&&i[r]?(0,n.jsx)(o.Z.Control.Feedback,{type:"invalid",className:"d-block",children:i[r].message}):null]})}):(0,n.jsx)(n.Fragment,{children:"checkbox"===s||"radio"===s?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(o.Z.Group,{className:p,children:[(0,n.jsx)(o.Z.Check,{type:s,label:a,name:r,id:r,ref:e=>{u&&u(e)},className:m,isInvalid:!(!i||!i[r]),...l?l(r):{},...g}),i&&i[r]?(0,n.jsx)(o.Z.Control.Feedback,{type:"invalid",children:i[r].message}):null]})}):(0,n.jsxs)(o.Z.Group,{className:p,children:[a?(0,n.jsx)(o.Z.Label,{className:h,children:a}):null,(0,n.jsx)(o.Z.Control,{type:s,placeholder:t,name:r,id:r,as:b,ref:e=>{u&&u(e)},className:m,isInvalid:!(!i||!i[r]),...l?l(r):{},rows:j,...g,autoComplete:r,children:x||null}),i&&i[r]?(0,n.jsx)(o.Z.Control.Feedback,{type:"invalid",children:i[r].message}):null]})})})})}},87162:(e,a,s)=>{s.r(a),s.d(a,{default:()=>N});var r=s(47313),t=s(75627),n=s(10195),l=s(63849),i=s(31616),o=s(93298),c=s(20192),m=s(52487),d=s(20800),h=s(58467),p=s(33689),u=s(56352),x=s(24511),j=s(62563),g=s(3463),b=s(20253),y=s(16752),v=s(53877),f=s(46417);const w=()=>{const e=(0,u.I0)(),{t:a}=(0,x.$)(),[s,c]=(0,r.useState)(""),[w,N]=(0,r.useState)(""),C=(0,j.X)(g.Ry().shape({})),{flats:_}=(0,u.v9)((e=>({flats:e.Flat.flats}))),[S,Z]=(0,r.useState)(new Date),[k,F]=(0,r.useState)(!0),I=(0,h.s0)(),D=(0,h.UO)(),{register:E,handleSubmit:T,setValue:B,setError:M,formState:{errors:P}}=(0,t.cI)({defaultValues:{unit:10,phone_number:"9601277532",parking_space:120,emergency_contact_number:"9601277532",emergency_contact_name:"jasmin",income_verification:230,rent_calculation:123,language:"eng",special_instruction:null},resolver:C}),U=T((a=>{e((0,p.yT)(a)).unwrap().then((e=>{e&&!0===e.status&&(c(e.message),window.scrollTo({top:0,behavior:"smooth"}))})).catch((e=>{for(var a in e.errors)try{M(a,{message:e.errors[a].toString()})}catch(s){}}))}));return(0,r.useEffect)((()=>{e((0,b.i)()).unwrap().then((()=>{e((0,p.fB)(D.id)).unwrap().then((e=>{B("id",e.user.id),B("unit",e.unit),B("name",e.user.name),B("email",e.user.email),B("phone_number",e.phone_number),e.user.flat&&B("flat_id",e.user.flat.flat_id),B("parking_space",e.parking_space),B("emergency_contact_number",e.emergency_contact_number),B("emergency_contact_name",e.emergency_contact_name),B("income_verification",e.income_verification),B("rent_calculation",e.rent_calculation),B("special_instruction",e.special_instruction),B("relationship",e.relationship),B("movein_date",e.movein_date)})).catch((e=>N(e)))}))}),[]),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(n.Z,{children:(0,f.jsxs)(n.Z.Body,{children:[s&&(0,f.jsx)("div",{className:"alert alert-success",children:s}),w&&(0,f.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:w}),(0,f.jsxs)(l.Z,{children:[(0,f.jsx)(i.Z,{lg:6,children:(0,f.jsxs)("form",{onSubmit:U,className:k?"form-readonly":"",children:[(0,f.jsxs)("fieldset",{children:[(0,f.jsx)(m.y,{label:"Emergency Contact",type:"text",name:"emergency_contact_number",placeholder:"Emergency Contact Number",containerClass:"mb-3",register:E,errors:P},"emergency_contact_number"),(0,f.jsx)(m.y,{label:"Emergency Contact Name",type:"text",name:"emergency_contact_name",placeholder:"Emergency Contact Name",containerClass:"mb-3",register:E,errors:P},"emergency_contact_name"),(0,f.jsx)(m.y,{label:"Name",type:"text",name:"name",containerClass:"mb-3",register:E,errors:P},"name"),(0,f.jsx)(m.y,{label:"Phone#",type:"text",name:"phone_number",placeholder:"phone_number",containerClass:"mb-3",register:E,errors:P},"phone_number"),(0,f.jsx)(m.y,{label:"Email",type:"email",name:"email",placeholder:"Email",containerClass:"mb-3",register:E,errors:P,disabled:!0},"email"),(0,f.jsx)(m.y,{label:"Unit",type:"text",name:"unit",placeholder:"Unit",containerClass:"mb-3",register:E,errors:P},"unit"),(0,f.jsx)(m.y,{label:"Relationship",type:"text",name:"relationship",placeholder:"relationship",containerClass:"mb-3",register:E,errors:P},"relationship"),(0,f.jsx)(m.y,{type:"select",label:"Apartment#",name:"flat_id",containerClass:"mb-3",register:E,errors:P,children:_.length&&_.map((e=>(0,f.jsx)("optgroup",{label:e.name.toString(),children:e.flats.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name},"flat"+e.id)))},"apartment".concat(e.id))))}),(0,f.jsx)(m.y,{label:"Parking Space",type:"text",name:"parking",placeholder:"Parking",containerClass:"mb-3",register:E,errors:P},"parking"),(0,f.jsx)(m.y,{label:"Income Verification",type:"text",name:"income_verification",placeholder:"Contact",containerClass:"mb-3",register:E,errors:P},"income_verification"),(0,f.jsx)(m.y,{label:"Rent Calculation",type:"text",name:"rent_calculation",placeholder:"Rent",containerClass:"mb-3",register:E,errors:P},"rent_calculation"),(0,f.jsx)(m.y,{label:"Language",type:"text",name:"language",placeholder:"Language",containerClass:"mb-3",register:E,errors:P},"language"),(0,f.jsx)(m.y,{label:"Special information",type:"textarea",name:"special_instruction",rows:"5",containerClass:"mb-3",register:E,errors:P},"special_instruction"),(0,f.jsx)(m.y,{type:"hidden",register:E,name:"movein_date"},"movein_date"),(0,f.jsxs)("div",{className:"mb-3",children:[(0,f.jsx)("label",{className:"form-label",children:"Move In Date"})," ",(0,f.jsx)("br",{}),(0,f.jsx)(d.Z,{hideAddon:!0,showTimeSelect:!1,value:S,onChange:e=>{(e=>{e&&Z(e)})(e),B("movein_date",e.toLocaleString("sv-SE"))}})]})]}),(0,f.jsx)(o.Z,{onClick:()=>I(-1),variant:"primary",className:"me-2",type:"submit",children:"Back"}),k?(0,f.jsx)("div",{}):(0,f.jsx)(o.Z,{variant:"primary",type:"submit",children:"Submit"})]})}),(0,f.jsxs)(i.Z,{lg:6,children:[(0,f.jsx)("div",{className:"text-end pb-2",children:k?(0,f.jsx)(o.Z,{variant:"primary",type:"submit",onClick:()=>F(!1),children:"Edit"}):(0,f.jsx)("div",{})}),(0,f.jsx)(v.z,{id:D.id}),(0,f.jsx)("div",{className:"pt-5",children:(0,f.jsx)(y.t,{id:D.id})})]})]})]})})})},N=()=>(0,f.jsxs)(r.Fragment,{children:[(0,f.jsx)(c.Z,{breadCrumbItems:[{label:"Recidents",path:"/user"},{label:"My Account",path:"/user",active:!0}],title:"My Account"}),(0,f.jsx)(l.Z,{children:(0,f.jsx)(i.Z,{children:(0,f.jsx)(w,{})})})]})},16752:(e,a,s)=>{s.d(a,{t:()=>p});var r=s(93298),t=s(52487),n=s(56352),l=s(24511),i=s(47313),o=s(62563),c=s(75627),m=s(33689),d=s(3463),h=s(46417);const p=e=>{let{id:a}=e;const s=(0,n.I0)(),{t:p}=(0,l.$)(),[u,x]=(0,i.useState)(""),[j,g]=(0,i.useState)(""),b=(0,o.X)(d.Ry().shape({})),{register:y,handleSubmit:v,setError:f,formState:{errors:w}}=(0,c.cI)({defaultValues:{id:a},resolver:b}),N=v((e=>{s((0,m.H)(e)).unwrap().then((e=>{e&&!0===e.status&&x(e.message)})).catch((e=>{for(var a in e.errors)try{f(a,{message:e.errors[a].toString()})}catch(s){}}))}));return(0,h.jsxs)("form",{onSubmit:N,children:[u&&(0,h.jsx)("div",{className:"alert alert-success",children:u}),j&&(0,h.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:j}),(0,h.jsx)(t.y,{label:"Reset Password",type:"password",name:"password",register:y,placeholder:"password",containerClass:"mb-3",errors:w},"password"),(0,h.jsx)(t.y,{type:"hidden",name:"id",register:y}),(0,h.jsx)(r.Z,{variant:"primary",type:"submit",children:"Reset"})]})}},53877:(e,a,s)=>{s.d(a,{z:()=>j});var r=s(95251),t=s(93298),n=s(52487),l=s(56352),i=s(24511),o=s(47313),c=s(62563),m=s(75627),d=s(33689),h=s(3463),p=s(85592),u=s(61875),x=s(46417);const j=e=>{let{id:a}=e;const s=(0,l.I0)(),{t:j}=(0,i.$)(),[g,b]=(0,o.useState)(""),[y,v]=(0,o.useState)(""),[f,w]=(0,o.useState)(!1),N=(0,c.X)(h.Ry().shape({})),{register:C,handleSubmit:_,setValue:S,setError:Z,control:k,formState:{errors:F}}=(0,m.cI)({defaultValues:{id:a},resolver:N}),I=_((e=>{w(!0),s((0,d.ou)(e)).unwrap().then((e=>{e&&!0===e.status&&(b(e.message),v(""),s((0,p.eF)())),w(!1)})).catch((e=>{v(e.message),b(""),w(!1)}))}));return(0,x.jsxs)("form",{onSubmit:I,children:[g&&(0,x.jsx)("div",{className:"alert alert-success",children:g}),y&&(0,x.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:y}),(0,x.jsxs)("fieldset",{children:[(0,x.jsx)(m.Qr,{render:()=>(0,x.jsx)(r.Z,{maxFiles:1,onFileUpload:e=>{console.log("Uploaded files - ",e),S("image",e[0])}}),name:"image",control:k}),(0,x.jsx)(n.y,{type:"hidden",name:"id",register:C}),f?(0,x.jsx)(u.Z,{}):(0,x.jsx)(t.Z,{type:"submit",className:"waves-effect waves-light me-1",children:"Submit"})]})]})}}}]);