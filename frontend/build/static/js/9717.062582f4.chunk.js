"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[9717],{63790:(e,a,s)=>{s.d(a,{A:()=>r});var l=s(9950),t=s(42074),n=s(48738),i=s.n(n),c=s(44414);const r=e=>{let{tableProps:a,sizePerPageList:s}=e;const[n,r]=(0,l.useState)(a.pageCount),[d,o]=(0,l.useState)(a.state.pageIndex);(0,l.useEffect)((()=>{r(a.pageCount),o(a.state.pageIndex)}),[a.pageCount,a.state.pageIndex]);const h=(0,l.useCallback)(((e,a)=>e.filter((e=>e<=n))),[n]),x=(0,l.useCallback)(((e,a)=>a<7?h([1,2,3,4,5,6],a):e%5>=0&&e>4&&e+2<a?[1,e-1,e,e+1,a]:e%5>=0&&e>4&&e+2>=a?[1,a-3,a-2,a-1,a]:[1,2,3,4,5,a]),[h]),m=e=>{if(e===d)return;const s=x(e,n);g(h(s,n)),a.gotoPage(e)};(0,l.useEffect)((()=>{const e=x(null,n);g(e)}),[n,x]);const[j,g]=(0,l.useState)(x(null,n)),u=d;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"d-lg-flex align-items-center text-center pb-1",children:[s.length>0&&(0,c.jsxs)("div",{className:"d-inline-block me-3",children:[(0,c.jsx)("label",{className:"me-1",children:"Display :"}),(0,c.jsx)("select",{value:a.state.pageSize,onChange:e=>{a.setPageSize(Number(e.target.value))},className:"form-select d-inline-block w-auto",children:(s||[]).map(((e,a)=>(0,c.jsx)("option",{value:e.value,children:e.text},a)))})]}),(0,c.jsxs)("span",{className:"me-3",children:["Page"," ",(0,c.jsxs)("strong",{children:[d," of ",a.pageOptions.length]})," "]}),(0,c.jsxs)("ul",{className:"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0",children:[(0,c.jsx)("li",{className:i()("page-item","paginate_button","previous",{disabled:1===u}),onClick:()=>{1!==u&&m(u-1)},children:(0,c.jsx)(t.N_,{to:"#",className:"page-link",children:(0,c.jsx)("i",{className:"mdi mdi-chevron-left"})})},"prevpage"),(j||[]).map(((e,a,s)=>s[a-1]+1<e?(0,c.jsxs)(l.Fragment,{children:[(0,c.jsx)("li",{className:"page-item disabled d-none d-xl-inline-block",children:(0,c.jsx)(t.N_,{to:"#",className:"page-link",children:"..."})}),(0,c.jsx)("li",{className:i()("page-item","d-none","d-xl-inline-block",{active:u===e}),onClick:a=>m(e),children:(0,c.jsx)(t.N_,{to:"#",className:"page-link",children:e})})]},e):(0,c.jsx)("li",{className:i()("page-item","d-none","d-xl-inline-block",{active:u===e}),onClick:a=>m(e),children:(0,c.jsx)(t.N_,{to:"#",className:"page-link",children:e})},e))),(0,c.jsx)("li",{className:i()("page-item","paginate_button","next",{disabled:u===a.pageCount}),onClick:()=>{u!==a.pageCount&&m(u+1)},children:(0,c.jsx)(t.N_,{to:"#",className:"page-link",children:(0,c.jsx)("i",{className:"mdi mdi-chevron-right"})})},"nextpage")]})]})})}},29717:(e,a,s)=>{s.r(a),s.d(a,{default:()=>v});var l=s(9950),t=s(56035),n=s(86781),i=s(68459),c=s(97937),r=s(1093),d=s(48738),o=s.n(d),h=s(86133),x=s(28429),m=s(27081),j=s(63790),g=s(13059),u=s(82612),p=s(44414);const N=e=>{let{maintanance:a}=e;const s=(0,m.wA)();let d=(0,x.Zp)();const[o,h]=(0,l.useState)(!1),[j,N]=(0,l.useState)(""),[v,f]=(0,l.useState)(""),[k,A]=(0,l.useState)("");return(0,l.useEffect)((()=>{s((0,g.tY)({page:1,status:k}))}),[o,k]),(0,p.jsx)(t.A,{children:(0,p.jsxs)(t.A.Body,{children:[j&&(0,p.jsx)("div",{className:"alert alert-success",children:j}),v&&(0,p.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:v}),(0,p.jsxs)(n.A,{children:[(0,p.jsx)(i.A,{lg:9,className:"",children:(0,p.jsxs)(c.A,{className:"waves-effect waves-light mb-3",onClick:()=>{d("/maintanance/create-admin")},children:[(0,p.jsx)("i",{className:"mdi mdi-plus-circle me-1"})," Add New"]})}),(0,p.jsx)(i.A,{lg:3,children:(0,p.jsxs)(u.Z,{type:"select",name:"filter",onChange:e=>A(e.target.value),label:"Filter",containerClass:"d-flex",className:"mb-2 ms-2 form-check-inline",children:[(0,p.jsx)("option",{value:"",children:"Select Status"}),(0,p.jsx)("option",{value:0,children:"In Progress"},0),(0,p.jsx)("option",{value:1,children:"Pending"},1),(0,p.jsx)("option",{value:2,children:"Archived"},2)]})})]}),(0,p.jsx)("div",{className:"table-responsive",children:(0,p.jsxs)(r.A,{className:"table table-centered react-table dt-responsive nowrap w-100",children:[(0,p.jsx)("thead",{className:"table-light",children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"ID"}),(0,p.jsx)("th",{children:"Requested By"}),(0,p.jsx)("th",{children:"Suite"}),(0,p.jsx)("th",{children:"Work to be done"}),(0,p.jsx)("th",{children:"Assignee"}),(0,p.jsx)("th",{children:"Status"}),(0,p.jsx)("th",{children:"Created At"}),(0,p.jsx)("th",{children:"Resolved At"}),(0,p.jsx)("th",{children:"Actions"})]})}),(0,p.jsx)("tbody",{children:a&&a.data.length>0?a.data.map(((e,a)=>(0,p.jsxs)("tr",{role:"row",children:[(0,p.jsx)("td",{role:"cell",children:e.id}),(0,p.jsx)("td",{role:"cell",children:e.tanent_name}),(0,p.jsx)("td",{role:"cell",children:e.flat_name}),(0,p.jsx)("td",{role:"cell",children:e.work_requested}),(0,p.jsx)("td",{role:"cell",children:e.repaired_username}),(0,p.jsx)("td",{role:"cell",children:(0,p.jsx)(b,{status:e.status_name})}),(0,p.jsx)("td",{role:"cell",children:e.created_at}),(0,p.jsx)("td",{role:"cell",children:e.action_date}),(0,p.jsx)("td",{role:"cell",children:(0,p.jsx)(l.Fragment,{children:(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("a",{href:`maintanance-admin/${e.id}`,title:"View Maintanance",children:(0,p.jsx)("i",{className:"mdi mdi-eye me-2 text-muted font-18 vertical-middle"})})})})})]},a))):(0,p.jsx)("p",{children:"No Data Found"})})]})})]})})},b=e=>{let{status:a}=e;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("span",{className:o()("badge",{"bg-success":"Done"===a,"bg-secondary text-light":["In Progress","Pending","On Hold"].includes(a)}),children:a})})},v=()=>{const e=(0,m.wA)(),[a,s]=(0,l.useState)(1),{maintanance:t}=(0,m.d4)((e=>({maintanance:e.Maintanance.maintanance})));return(0,l.useEffect)((()=>{e((0,g.tY)(a))}),[a]),(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)(h.A,{breadCrumbItems:[{label:"All Maintenance Requests",path:"/maintanance",active:!0}],title:"All Maintenance Requests"}),(0,p.jsx)(n.A,{children:(0,p.jsx)(i.A,{lg:12,children:t&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(N,{maintanance:t}),(0,p.jsx)(j.A,{tableProps:{pageCount:t.last_page,state:{pageIndex:t.current_page},pageOptions:{length:t.total},gotoPage:e=>{s(e)}},sizePerPageList:[{text:"10",value:10}]})]})})})]})}}}]);