"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[301],{63790:(e,s,l)=>{l.d(s,{A:()=>d});var a=l(9950),t=l(42074),n=l(48738),r=l.n(n),i=l(44414);const d=e=>{let{tableProps:s,sizePerPageList:l}=e;const[n,d]=(0,a.useState)(s.pageCount),[c,o]=(0,a.useState)(s.state.pageIndex);(0,a.useEffect)((()=>{d(s.pageCount),o(s.state.pageIndex)}),[s.pageCount,s.state.pageIndex]);const h=(0,a.useCallback)(((e,s)=>e.filter((e=>e<=n))),[n]),x=(0,a.useCallback)(((e,s)=>s<7?h([1,2,3,4,5,6],s):e%5>=0&&e>4&&e+2<s?[1,e-1,e,e+1,s]:e%5>=0&&e>4&&e+2>=s?[1,s-3,s-2,s-1,s]:[1,2,3,4,5,s]),[h]),j=e=>{if(e===c)return;const l=x(e,n);m(h(l,n)),s.gotoPage(e)};(0,a.useEffect)((()=>{const e=x(null,n);m(e)}),[n,x]);const[u,m]=(0,a.useState)(x(null,n)),g=c;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"d-lg-flex align-items-center text-center pb-1",children:[l.length>0&&(0,i.jsxs)("div",{className:"d-inline-block me-3",children:[(0,i.jsx)("label",{className:"me-1",children:"Display :"}),(0,i.jsx)("select",{value:s.state.pageSize,onChange:e=>{s.setPageSize(Number(e.target.value))},className:"form-select d-inline-block w-auto",children:(l||[]).map(((e,s)=>(0,i.jsx)("option",{value:e.value,children:e.text},s)))})]}),(0,i.jsxs)("span",{className:"me-3",children:["Page"," ",(0,i.jsxs)("strong",{children:[c," of ",s.pageOptions.length]})," "]}),(0,i.jsxs)("ul",{className:"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0",children:[(0,i.jsx)("li",{className:r()("page-item","paginate_button","previous",{disabled:1===g}),onClick:()=>{1!==g&&j(g-1)},children:(0,i.jsx)(t.N_,{to:"#",className:"page-link",children:(0,i.jsx)("i",{className:"mdi mdi-chevron-left"})})},"prevpage"),(u||[]).map(((e,s,l)=>l[s-1]+1<e?(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)("li",{className:"page-item disabled d-none d-xl-inline-block",children:(0,i.jsx)(t.N_,{to:"#",className:"page-link",children:"..."})}),(0,i.jsx)("li",{className:r()("page-item","d-none","d-xl-inline-block",{active:g===e}),onClick:s=>j(e),children:(0,i.jsx)(t.N_,{to:"#",className:"page-link",children:e})})]},e):(0,i.jsx)("li",{className:r()("page-item","d-none","d-xl-inline-block",{active:g===e}),onClick:s=>j(e),children:(0,i.jsx)(t.N_,{to:"#",className:"page-link",children:e})},e))),(0,i.jsx)("li",{className:r()("page-item","paginate_button","next",{disabled:g===s.pageCount}),onClick:()=>{g!==s.pageCount&&j(g+1)},children:(0,i.jsx)(t.N_,{to:"#",className:"page-link",children:(0,i.jsx)("i",{className:"mdi mdi-chevron-right"})})},"nextpage")]})]})})}},60301:(e,s,l)=>{l.r(s),l.d(s,{default:()=>$});var a=l(9950),t=l(56035),n=l(86781),r=l(68459),i=l(1093),d=l(97937),c=l(86133),o=l(27081),h=l(63790),x=l(22555),j=l(44268),u=l(584),m=l(90729);const g={1:"Mr.",2:"Miss.",3:"Mrs.",4:"Ms."},A={1:"Male",2:"Female"},p={1:"Yes",2:"No"};var v=l(44414);const b=e=>{let{labelClassName:s,label:l,valueClassName:a,value:t}=e;return(0,v.jsxs)("div",{className:"mb-2",children:[(0,v.jsxs)("span",{className:s+" fs-5",children:[l,":"]}),(0,v.jsx)("span",{className:a+" fs-5 ms-2",children:null!=t?t.toString():""})]})},_=e=>{let{data:s}=e;return(0,v.jsxs)(u.A,{children:[(0,v.jsx)(m.A,{className:"fw-bolder fs-4",children:"A. Applicants:"}),(0,v.jsxs)(n.A,{children:[(0,v.jsx)(m.A,{className:"fw-bolder fs-6",children:"First Applicant:"}),(0,v.jsx)(r.A,{lg:12,children:(0,v.jsx)(b,{label:"Email",value:s.email})}),(0,v.jsx)(r.A,{lg:3,children:(0,v.jsx)(b,{label:"Name",value:g[s.gender_first.toString()]+" "+s.last_name_first+" "+s.first_name_first})}),(0,v.jsx)(r.A,{lg:3,children:(0,v.jsx)(b,{label:"Home Phone ",value:s.home_phone_first})})]}),(0,v.jsx)(n.A,{children:(0,v.jsx)(r.A,{lg:3,children:(0,v.jsx)(b,{label:"Home Phone",value:s.home_phone_second})})})]})},f=e=>{let{data:s}=e;return(0,v.jsxs)(u.A,{children:[(0,v.jsx)(m.A,{className:"fw-bolder fs-4",children:"B. Household Composition:"}),(0,v.jsxs)(n.A,{children:[(0,v.jsx)(m.A,{className:"fw-bolder fs-6",children:"First Applicant:"}),(0,v.jsx)(r.A,{lg:3,children:(0,v.jsx)(b,{label:"Name",value:s.hc_last_name_first+" "+s.hc_first_name_first})}),(0,v.jsx)(r.A,{lg:3,children:(0,v.jsx)(b,{label:"Birth Date",value:s.hc_birth_date_first})}),(0,v.jsx)(r.A,{lg:2,children:(0,v.jsx)(b,{label:"Age",value:s.hc_age_first})}),(0,v.jsx)(r.A,{lg:2,children:(0,v.jsx)(b,{label:"Sex",value:A[s.hc_gender_first]})}),(0,v.jsx)(r.A,{lg:2,children:(0,v.jsx)(b,{label:"Relationship",value:s.hc_relationship_first})}),(0,v.jsx)(r.A,{lg:3,children:(0,v.jsx)(b,{label:"Disability",value:s.hc_disability_first})}),(0,v.jsx)(r.A,{lg:3,className:"p-0",children:(0,v.jsx)(b,{label:"Wheelchair?",value:p[s.hc_wheelchair_first]})})]})]})},N=e=>{let{data:s}=e;return(0,v.jsxs)(u.A,{children:[(0,v.jsx)(m.A,{className:"fw-bolder fs-4 ",children:"C. Residency History:"}),(0,v.jsx)(m.A,{className:"fw-bolder fs-6 ms-2",children:"Please list your address(es) for the past 2 years"}),(0,v.jsx)(n.A,{children:(0,v.jsx)(r.A,{lg:4,children:(0,v.jsx)(b,{label:"How long have you lived in B.C.?",value:s.long_term})})}),(0,v.jsxs)(n.A,{children:[(0,v.jsx)(m.A,{className:"fw-bolder fs-6",children:"Last Address:"}),(0,v.jsx)(r.A,{lg:4,children:(0,v.jsx)(b,{label:"Address",value:s.rh_address_first})}),(0,v.jsx)(r.A,{lg:3,children:(0,v.jsx)(b,{label:"Start Date",value:s.rh_start_date_first})}),(0,v.jsx)(r.A,{lg:3,children:(0,v.jsx)(b,{label:"End Date",value:s.rh_end_date_first})}),(0,v.jsx)(r.A,{lg:4,children:(0,v.jsx)(b,{label:"Landlord Name",value:s.landlord_name_first})}),(0,v.jsx)(r.A,{lg:3,children:(0,v.jsx)(b,{label:"Landlord Phone",value:s.landlord_phone_first})})]}),(0,v.jsxs)(n.A,{children:[(0,v.jsx)(m.A,{className:"fw-bolder fs-6",children:"Second Last Address:"}),(0,v.jsx)(r.A,{lg:4,children:(0,v.jsx)(b,{label:"Address",value:s.rh_address_second})}),(0,v.jsx)(r.A,{lg:3,children:(0,v.jsx)(b,{label:"Start Date",value:s.rh_start_date_second})}),(0,v.jsx)(r.A,{lg:3,children:(0,v.jsx)(b,{label:"End Date",value:s.rh_end_date_second})}),(0,v.jsx)(r.A,{lg:4,children:(0,v.jsx)(b,{label:"Landlord Name",value:s.landlord_name_second})}),(0,v.jsx)(r.A,{lg:3,children:(0,v.jsx)(b,{label:"Landlord Phone",value:s.landlord_phone_second})})]}),(0,v.jsxs)(n.A,{children:[(0,v.jsx)(m.A,{className:"fw-bolder fs-6",children:"Third Last Address:"}),(0,v.jsx)(r.A,{lg:4,children:(0,v.jsx)(b,{label:"Address",value:s.rh_address_third})}),(0,v.jsx)(r.A,{lg:3,children:(0,v.jsx)(b,{label:"Start Date",value:s.rh_start_date_third})}),(0,v.jsx)(r.A,{lg:3,children:(0,v.jsx)(b,{label:"End Date",value:s.rh_end_date_third})}),(0,v.jsx)(r.A,{lg:4,children:(0,v.jsx)(b,{label:"Landlord Name",value:s.landlord_name_third})}),(0,v.jsx)(r.A,{lg:3,children:(0,v.jsx)(b,{label:"Landlord Phone",value:s.landlord_phone_third})})]})]})},y=e=>{let{data:s}=e;return(0,v.jsxs)(u.A,{children:[(0,v.jsx)(m.A,{className:"fw-bolder fs-4 ",children:"D. Income Information:"}),(0,v.jsxs)(n.A,{children:[(0,v.jsx)(m.A,{className:"fw-bolder fs-6",children:"First Applicant:"}),(0,v.jsx)(r.A,{lg:3,children:(0,v.jsx)(b,{label:"First Name",value:s.ii_last_name_first})}),(0,v.jsx)(r.A,{lg:5,children:(0,v.jsx)(b,{label:"Source",value:s.ii_income_source_first})}),(0,v.jsx)(r.A,{lg:4,children:(0,v.jsx)(b,{label:"Gross Monthly Income ($)",value:s.ii_income_first})})]})]})},w=e=>{let{data:s}=e;return(0,v.jsxs)(u.A,{children:[(0,v.jsx)(m.A,{className:"fw-bolder fs-4 ",children:"E. Assets:"}),(0,v.jsxs)(n.A,{children:[(0,v.jsx)(r.A,{lg:4,children:(0,v.jsx)(b,{label:"Cash/ Bank Balance ($)",value:s.cash_balance})}),(0,v.jsx)(r.A,{lg:4,children:(0,v.jsx)(b,{label:"Stocks/Bonds/ Term deposits ($)",value:s.stock_deposit})}),(0,v.jsx)(r.A,{lg:4,children:(0,v.jsx)(b,{label:"Value of Real Estate Owned (list) ($)",value:s.value_real_estate})})]}),(0,v.jsxs)(n.A,{children:[(0,v.jsx)(r.A,{lg:8,children:(0,v.jsx)(b,{label:"RRSP\u2019s, Annuities, Mortgages, (held by yourself or household member - list) ($)",value:s.value_morgages})}),(0,v.jsx)(r.A,{lg:4,children:(0,v.jsx)(b,{label:"Other: (i.e. car - list) ($)",value:s.value_others})})]})]})},C=e=>{let{data:s}=e;return(0,v.jsxs)(u.A,{children:[(0,v.jsx)(m.A,{className:"fw-bolder fs-4 ",children:"F. Current Accommodation:"}),(0,v.jsx)(n.A,{children:(0,v.jsx)(r.A,{lg:8,children:(0,v.jsx)(b,{label:"Accommodation",value:s.accomodation})})}),(0,v.jsxs)(n.A,{children:[(0,v.jsx)(r.A,{lg:6,children:(0,v.jsx)(b,{label:"Please state your current monthly rent: ($)",value:s.monthly_rent})}),(0,v.jsx)(r.A,{lg:6,children:(0,v.jsx)(b,{label:"What does you rent include? (i.e. heat, electricity, cable, - list)",value:s.monthly_includes})})]})]})},S=e=>{let{data:s}=e;return(0,v.jsxs)("div",{children:[(0,v.jsx)(m.A,{className:"fw-bolder fs-4 ",children:"G. Reason for Move:"}),(0,v.jsx)(n.A,{children:(0,v.jsx)(r.A,{lg:8,children:(0,v.jsx)(b,{label:"Are you under a Notice to End Tenancy from your present address?",value:p[s.under_notice]})})}),(0,v.jsx)(n.A,{children:(0,v.jsx)(r.A,{lg:12,children:(0,v.jsx)(b,{label:"If you are not under notice, why do you wish to move?",value:s.wish_to_move})})})]})};var k=l(64055),F=l(42074),P=l(32393);const L=e=>{let{data:s}=e;return(0,v.jsxs)("div",{children:[(0,v.jsx)(m.A,{className:"fw-bolder fs-4 ",children:"G. For communications purposes only, please list the languages that you speak."}),(0,v.jsxs)(n.A,{children:[(0,v.jsx)(r.A,{lg:6,children:(0,v.jsx)(b,{label:"First Language",value:s.first_language})}),(0,v.jsx)(r.A,{lg:6,children:(0,v.jsx)(b,{label:"Second Language",value:s.second_language})}),(0,v.jsx)(r.A,{lg:12,children:(0,v.jsx)(k.A.Group,{className:"input-group",children:(0,v.jsx)(b,{label:"If English is NOT your first language, do you have access to a translator?",value:p[s.translator_required]})})})]}),(0,v.jsx)(m.A,{className:"fw-bolder fs-4 ",children:"Document attachment:"}),s.documents.map(((e,s)=>(0,v.jsx)("div",{children:(0,v.jsxs)(F.N_,{to:P.A.BASE_URL+"/"+e.document_name,target:"_blank",children:[" ","Document ",s+1," "]})})))]})};var E=l(96105),B=l(9449),D=l(19443),I=l(82612),H=l(88249);const O=e=>{let{okLabel:s="OK",cancelLabel:l="Cancel",title:t="Assign Flat",submitForm:n,show:r,targetId:i,handleClose:c}=e;const{register:h,handleSubmit:u,setError:m,setValue:g,formState:{errors:A}}=(0,B.mN)({defaultValues:{id:i}}),{flats:p}=(0,o.d4)((e=>({flats:e.Flat.flats}))),[b,_]=(0,a.useState)(""),[f,N]=(0,a.useState)(""),[y,w]=(0,a.useState)(!1),C=(0,o.wA)();(0,a.useEffect)((()=>{C((0,D.qx)()),g("id",i)}),[i]);const S=u((e=>{w(!0),C((0,x.mo)(e)).unwrap().then((e=>{e&&!0===e.status&&(_(e.message),n(10)),w(!1)})).catch((e=>{for(var s in e.errors)try{m(s,{message:e.errors[s].toString()})}catch(l){}w(!1)}))}));return(0,v.jsxs)(j.A,{show:r,onHide:c,backdropClassName:"backdrophigh",className:"backdrop",children:[(0,v.jsx)(j.A.Header,{closeButton:!0,children:(0,v.jsx)(j.A.Title,{children:t})}),(0,v.jsxs)(j.A.Body,{children:[b&&(0,v.jsx)("div",{className:"alert alert-success",children:b}),f&&(0,v.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:f}),(0,v.jsx)("form",{onSubmit:S,children:(0,v.jsxs)("fieldset",{children:[(0,v.jsx)(I.Z,{type:"hidden",name:"id",value:i.toString(),register:h}),(0,v.jsx)(I.Z,{type:"select",label:"Suite",name:"flat_id",containerClass:"mb-3 ",register:h,errors:A,children:p.length&&p.map((e=>(0,v.jsx)("optgroup",{label:e.name.toString(),children:e.flats.map((e=>e.has_occupied?(0,v.jsxs)("option",{value:e.id,disabled:!0,children:[e.name,e.has_occupied]},"flat"+e.id):(0,v.jsxs)("option",{value:e.id,children:[e.name,e.has_occupied]},"flat"+e.id)))},`apartment${e.id}`)))}),y?(0,v.jsx)(H.m,{}):(0,v.jsx)(d.A,{variant:"primary",type:"submit",className:"waves-effect waves-light me-1",children:"Submit"})]})})]}),(0,v.jsx)(j.A.Footer,{children:(0,v.jsx)(d.A,{variant:"primary",onClick:()=>c(),children:s})})]})},R=e=>{let{okLabel:s="OK",cancelLabel:l="Cancel",title:t="View Application",submitForm:n,show:r,handleClose:i,handleArchive:c,handleUnArchive:o,handleRemove:h,data:x}=e;const[u,m]=(0,a.useState)(!1),[g,A]=(0,a.useState)(!1);return x&&(0,v.jsxs)(j.A,{show:r,onHide:i,className:"print-me",size:"xl",children:[(0,v.jsx)(j.A.Header,{closeButton:!0,children:(0,v.jsx)(j.A.Title,{children:t})}),(0,v.jsxs)(j.A.Body,{children:[(0,v.jsx)(_,{data:x}),(0,v.jsx)(f,{data:x}),(0,v.jsx)(N,{data:x}),(0,v.jsx)(y,{data:x}),(0,v.jsx)(w,{data:x}),(0,v.jsx)(C,{data:x}),(0,v.jsx)(S,{data:x}),(0,v.jsx)(L,{data:x})]}),(0,v.jsxs)(j.A.Footer,{children:[1!==x.status?0===x.status?(0,v.jsx)(d.A,{variant:"primary",onClick:()=>c(),children:"Archive"}):(0,v.jsx)(d.A,{variant:"primary",onClick:()=>o(),children:"Un Archive"}):(0,v.jsx)(v.Fragment,{}),0===x.status?(0,v.jsx)(d.A,{variant:"primary",onClick:()=>A(!0),children:"Accept"}):(0,v.jsx)(v.Fragment,{}),(0,v.jsx)(d.A,{variant:"primary",onClick:()=>i(),children:s}),(0,v.jsx)(d.A,{variant:"primary",onClick:()=>{window.print()},children:"Print"}),1!==x.status?(0,v.jsx)(d.A,{variant:"primary",onClick:()=>{m(!0)},children:"Delete"}):(0,v.jsx)(v.Fragment,{}),(0,v.jsx)(O,{show:g,targetId:x.id,submitForm:e=>{A(!1),i()},handleClose:()=>{A(!1)}}),(0,v.jsx)(E.m,{show:u,targetId:x.id,submitForm:()=>{h(),i(),m(!1)},handleClose:()=>{m(!1)}})]})]})};var z=l(9326);const M=e=>{let{application:s}=e;const l=(0,o.wA)(),[c,h]=(0,a.useState)(""),[j,u]=(0,a.useState)(!1),[m,g]=(0,a.useState)(!1),[A,p]=(0,a.useState)(null),[b,_]=(0,a.useState)(0),[f,N]=(0,a.useState)(""),[y,w]=(0,a.useState)("");return(0,a.useEffect)((()=>{l((0,x.hz)({filter:c,page:1}))}),[c,m]),(0,v.jsx)(t.A,{children:(0,v.jsxs)(t.A.Body,{children:[f&&(0,v.jsx)("div",{className:"alert alert-success",children:f}),y&&(0,v.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:y}),(0,v.jsxs)(n.A,{children:[(0,v.jsx)(r.A,{lg:9,className:""}),(0,v.jsx)(r.A,{lg:3,children:(0,v.jsxs)(z.A,{type:"select",name:"application",onChange:e=>h(e.target.value),label:"Filter",containerClass:"d-flex",className:"mb-2 ms-2 form-check-inline",children:[(0,v.jsx)("option",{value:"",children:"Select Status"}),(0,v.jsx)("option",{value:0,children:"Open"}),(0,v.jsx)("option",{value:1,children:"Closed"}),(0,v.jsx)("option",{value:2,children:"Archived"})]})})]}),(0,v.jsx)("div",{className:"table-responsive",children:(0,v.jsxs)(i.A,{className:"mb-0 table-striped dt-responsive nowrap w-100",children:[(0,v.jsx)("thead",{className:"table-light",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"Id"}),(0,v.jsx)("th",{children:"Email"}),(0,v.jsx)("th",{children:"First Name"}),(0,v.jsx)("th",{children:"Approved By"}),(0,v.jsx)("th",{children:"Created At"}),(0,v.jsx)("th",{children:"Status"}),(0,v.jsx)("th",{children:"Action"})]})}),(0,v.jsx)("tbody",{children:s.data.length>0?s.data.map(((e,s)=>(0,v.jsxs)("tr",{className:"",children:[(0,v.jsx)("td",{children:e.id}),(0,v.jsx)("td",{children:e.email}),(0,v.jsx)("td",{children:e.first_name_first}),(0,v.jsx)("td",{children:e.approved_by?e.approved_by.first_name:""}),(0,v.jsx)("td",{children:e.created_at}),(0,v.jsx)("td",{children:2===e.status?"Archived":1===e.status?"Closed":"Open"}),(0,v.jsx)("td",{children:(0,v.jsx)(a.Fragment,{children:(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(d.A,{className:"btn-secondary",onClick:()=>{g(!0),p(e)},size:"sm",children:"View"})})})})]},s))):(0,v.jsx)("p",{children:"No Data Found"})})]})}),(0,v.jsx)(R,{show:m,data:A,submitForm:()=>{},handleArchive:()=>{null!==A&&void 0!==A&&A.id&&l((0,x.VT)(A.id)).unwrap().then((e=>{N(null===e||void 0===e?void 0:e.message),g(!1)}))},handleUnArchive:()=>{null!==A&&void 0!==A&&A.id&&l((0,x.kB)(A.id)).unwrap().then((e=>{N(null===e||void 0===e?void 0:e.message),g(!1)}))},handleRemove:()=>{null!==A&&void 0!==A&&A.id&&l((0,x.P6)(A.id)).unwrap().then((e=>{N(null===e||void 0===e?void 0:e.message),g(!1)}))},handleClose:()=>g(!1)})]})})},$=()=>{const e=(0,o.wA)(),[s,l]=(0,a.useState)(1),{application:t}=(0,o.d4)((e=>({application:e.Application.application})));return(0,a.useEffect)((()=>{e((0,x.hz)(s))}),[s]),(0,v.jsxs)(a.Fragment,{children:[(0,v.jsx)(c.A,{breadCrumbItems:[{label:"Application",path:"/notice",active:!0}],title:"Application"}),(0,v.jsx)(n.A,{children:(0,v.jsx)(r.A,{lg:12,children:t&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(M,{application:t}),(0,v.jsx)(h.A,{tableProps:{pageCount:t.last_page,state:{pageIndex:t.current_page},pageOptions:{length:t.total},gotoPage:e=>{l(e)}},sizePerPageList:[{text:"10",value:10}]})]})})})]})}}}]);