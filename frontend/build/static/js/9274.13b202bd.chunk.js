(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[9274],{96105:(e,t,s)=>{"use strict";s.d(t,{m:()=>c});var a=s(44268),n=s(97937),r=s(44414);const c=e=>{let{okLabel:t="OK",cancelLabel:s="Cancel",title:c="Confirmation",submitForm:l,show:i,targetId:o,handleClose:d}=e;return(0,r.jsxs)(a.A,{show:i,onHide:d,children:[(0,r.jsx)(a.A.Header,{closeButton:!0,children:(0,r.jsx)(a.A.Title,{children:c})}),(0,r.jsx)(a.A.Body,{children:"Do you really want to submit?"}),(0,r.jsxs)(a.A.Footer,{children:[(0,r.jsx)(n.A,{variant:"secondary",onClick:d,children:s}),(0,r.jsx)(n.A,{variant:"primary",onClick:()=>l(o),children:t})]})]})}},41033:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});s(9950);var a=s(86781),n=s(68459),r=s(81924),c=s(44414);const l=e=>(0,c.jsx)(a.A,{children:(0,c.jsx)(n.A,{children:(0,c.jsxs)("div",{className:"page-title-box",children:[(0,c.jsx)("div",{className:"page-title-right",children:(0,c.jsxs)(r.A,{className:"m-0",children:[(0,c.jsx)(r.A.Item,{href:"/",children:"Home"}),(e.breadCrumbItems||[]).map(((e,t)=>e.active?(0,c.jsx)(r.A.Item,{active:!0,children:e.label},t):(0,c.jsx)(r.A.Item,{href:e.path,children:e.label},t)))]})}),(0,c.jsx)("h4",{className:"page-title",children:e.title})]})})})},63790:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(9950),n=s(42074),r=s(48738),c=s.n(r),l=s(44414);const i=e=>{let{tableProps:t,sizePerPageList:s}=e;const[r,i]=(0,a.useState)(t.pageCount),[o,d]=(0,a.useState)(t.state.pageIndex);(0,a.useEffect)((()=>{i(t.pageCount),d(t.state.pageIndex)}),[t.pageCount,t.state.pageIndex]);const u=(0,a.useCallback)(((e,t)=>e.filter((e=>e<=r))),[r]),m=(0,a.useCallback)(((e,t)=>t<7?u([1,2,3,4,5,6],t):e%5>=0&&e>4&&e+2<t?[1,e-1,e,e+1,t]:e%5>=0&&e>4&&e+2>=t?[1,t-3,t-2,t-1,t]:[1,2,3,4,5,t]),[u]),h=e=>{if(e===o)return;const s=m(e,r);x(u(s,r)),t.gotoPage(e)};(0,a.useEffect)((()=>{const e=m(null,r);x(e)}),[r,m]);const[p,x]=(0,a.useState)(m(null,r)),g=o;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"d-lg-flex align-items-center text-center pb-1",children:[s.length>0&&(0,l.jsxs)("div",{className:"d-inline-block me-3",children:[(0,l.jsx)("label",{className:"me-1",children:"Display :"}),(0,l.jsx)("select",{value:t.state.pageSize,onChange:e=>{t.setPageSize(Number(e.target.value))},className:"form-select d-inline-block w-auto",children:(s||[]).map(((e,t)=>(0,l.jsx)("option",{value:e.value,children:e.text},t)))})]}),(0,l.jsxs)("span",{className:"me-3",children:["Page"," ",(0,l.jsxs)("strong",{children:[o," of ",t.pageOptions.length]})," "]}),(0,l.jsxs)("ul",{className:"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0",children:[(0,l.jsx)("li",{className:c()("page-item","paginate_button","previous",{disabled:1===g}),onClick:()=>{1!==g&&h(g-1)},children:(0,l.jsx)(n.N_,{to:"#",className:"page-link",children:(0,l.jsx)("i",{className:"mdi mdi-chevron-left"})})},"prevpage"),(p||[]).map(((e,t,s)=>s[t-1]+1<e?(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)("li",{className:"page-item disabled d-none d-xl-inline-block",children:(0,l.jsx)(n.N_,{to:"#",className:"page-link",children:"..."})}),(0,l.jsx)("li",{className:c()("page-item","d-none","d-xl-inline-block",{active:g===e}),onClick:t=>h(e),children:(0,l.jsx)(n.N_,{to:"#",className:"page-link",children:e})})]},e):(0,l.jsx)("li",{className:c()("page-item","d-none","d-xl-inline-block",{active:g===e}),onClick:t=>h(e),children:(0,l.jsx)(n.N_,{to:"#",className:"page-link",children:e})},e))),(0,l.jsx)("li",{className:c()("page-item","paginate_button","next",{disabled:g===t.pageCount}),onClick:()=>{g!==t.pageCount&&h(g+1)},children:(0,l.jsx)(n.N_,{to:"#",className:"page-link",children:(0,l.jsx)("i",{className:"mdi mdi-chevron-right"})})},"nextpage")]})]})})}},33914:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(86781),n=s(68459),r=s(41033),c=s(9950),l=s(28429),i=s(471),o=s(97937),d=s(1093),u=s(48738),m=s.n(u);const h={1:"Open",2:"In Progress",3:"Close"},p={1:"Low",2:"Medium",3:"High"};var x=s(49462),g=s(96105),b=s(27081),j=s(44414);const f=e=>{let{row:t}=e;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("b",{children:t.id})})},N=e=>{let{row:t}=e;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("span",{className:m()("badge",{"bg-soft-secondary text-secondary":1===t.priority,"bg-soft-warning text-warning":2===t.priority,"bg-soft-danger text-danger":3===t.priority}),children:p[t.priority.toString()]})})},y=e=>{let{row:t}=e;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("span",{className:m()("badge",{"bg-success":1===t.status,"bg-warning":2===t.status,"bg-secondary text-light":3===t.status}),children:h[t.status.toString()]})})},v=e=>{let{inspection:t,reload:s}=e,a=(0,l.Zp)();const[n,r]=(0,c.useState)(!1),[u,m]=(0,c.useState)(0),[h,p]=(0,c.useState)(""),v=(0,b.wA)(),[A,w]=(0,c.useState)("");return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(i.A,{children:(0,j.jsxs)(i.A.Body,{children:[h&&(0,j.jsx)("div",{className:"alert alert-success",children:h}),A&&(0,j.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:A}),(0,j.jsxs)(o.A,{className:"waves-effect waves-light mb-3",onClick:()=>{a("/inspection/new")},children:[(0,j.jsx)("i",{className:"mdi mdi-plus-circle me-1"})," Add New"]}),(0,j.jsxs)(d.A,{className:"mb-0 table-striped dt-responsive react-table nowrap w-100",children:[(0,j.jsx)("thead",{className:"table-light",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{children:"Id"}),(0,j.jsx)("th",{children:"Flat Number"}),(0,j.jsx)("th",{children:"Subject"}),(0,j.jsx)("th",{children:"Assignee"}),(0,j.jsx)("th",{children:"Priority"}),(0,j.jsx)("th",{children:"Status"}),(0,j.jsx)("th",{children:"Created Date"}),(0,j.jsx)("th",{children:"Completion Date"}),(0,j.jsx)("th",{children:"Action"})]})}),(0,j.jsx)("tbody",{children:t.data.length>0?t.data.map(((e,t)=>(0,j.jsxs)("tr",{className:"",children:[(0,j.jsxs)("td",{children:["#",(0,j.jsx)(f,{row:e})]}),(0,j.jsx)("td",{children:e.flat?e.flat.name:""}),(0,j.jsx)("td",{children:e.title}),(0,j.jsx)("td",{children:e.inspection_by instanceof Number?"":e.inspection_by.name}),(0,j.jsx)("td",{children:(0,j.jsx)(N,{row:e})}),(0,j.jsx)("td",{children:(0,j.jsx)(y,{row:e})}),(0,j.jsx)("td",{children:e.created_at}),(0,j.jsx)("td",{children:e.inspection_date}),(0,j.jsx)("td",{children:(0,j.jsx)(c.Fragment,{children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.A,{className:"btn-secondary",onClick:()=>{let t="/inspection/".concat(e.id);a(t)},size:"sm",children:"Edit"}),(0,j.jsx)(o.A,{className:"btn-secondary ms-2",onClick:()=>{m(e.id),r(!0)},size:"sm",children:"Delete"})]})})})]},t))):(0,j.jsx)("p",{children:"No Data Found"})})]}),(0,j.jsx)(g.m,{show:n,targetId:u,submitForm:e=>{v((0,x.WQ)(e)).unwrap().then((e=>{e&&!0===e.status&&(p(e.message),r(!1),s())})).catch((e=>{w(e.message),r(!1)}))},handleClose:()=>r(!1)})]})})})};var A=s(63790);const w=()=>{const{inspection:e}=(0,b.d4)((e=>({inspection:e.Inspection.inspection}))),t=(0,b.wA)(),[s,l]=(0,c.useState)(1);(0,c.useEffect)((()=>{t((0,x.fh)(s))}),[s]);const i=(0,c.useCallback)((()=>{t((0,x.fh)(s))}),[]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.A,{breadCrumbItems:[{label:"Maintanance Inspection History",path:"/apps/tickets/list",active:!0}],title:"Maintanance Inspection History"}),(0,j.jsx)(a.A,{children:(0,j.jsx)(n.A,{children:e&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(v,{inspection:e,reload:i}),(0,j.jsx)(A.A,{tableProps:{pageCount:e.last_page,state:{pageIndex:e.current_page},pageOptions:{length:e.total},gotoPage:e=>{l(e)}},sizePerPageList:[{text:"10",value:10}]})]})})})]})}},95624:(e,t,s)=>{"use strict";s.d(t,{sE:()=>r,y:()=>c});const a="data-rr-ui-",n="rrUi";function r(e){return"".concat(a).concat(e)}function c(e){return"".concat(n).concat(e)}},22413:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=Function.prototype.bind.call(Function.prototype.call,[].slice);function n(e,t){return a(e.querySelectorAll(t))}},43488:(e,t,s)=>{"use strict";var a=s(93959);function n(){}function r(){}r.resetWarningCache=n,e.exports=function(){function e(e,t,s,n,r,c){if(c!==a){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:n};return s.PropTypes=s,s}},11942:(e,t,s)=>{e.exports=s(43488)()},93959:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},97937:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var a=s(48738),n=s.n(a),r=s(9950),c=s(82111),l=s(44089),i=s(44414);const o=r.forwardRef(((e,t)=>{let{as:s,bsPrefix:a,variant:r="primary",size:o,active:d=!1,disabled:u=!1,className:m,...h}=e;const p=(0,l.oU)(a,"btn"),[x,{tagName:g}]=(0,c.Am)({tagName:s,disabled:u,...h}),b=g;return(0,i.jsx)(b,{...x,...h,ref:t,disabled:u,className:n()(m,p,d&&"active",r&&"".concat(p,"-").concat(r),o&&"".concat(p,"-").concat(o),h.href&&u&&"disabled")})}));o.displayName="Button";const d=o},44268:(e,t,s)=>{"use strict";s.d(t,{A:()=>U});var a,n=s(48738),r=s.n(n),c=s(8996),l=s(87534),i=s(19815),o=s(78557);function d(e){if((!a&&0!==a||e)&&l.A){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),a=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return a}var u=s(1134),m=s(19865),h=s(76230),p=s(79854),x=s(89679),g=s(9950),b=s(66762),j=s(70489),f=s(30095),N=s(44089),y=s(44414);const v=g.forwardRef(((e,t)=>{let{className:s,bsPrefix:a,as:n="div",...c}=e;return a=(0,N.oU)(a,"modal-body"),(0,y.jsx)(n,{ref:t,className:r()(s,a),...c})}));v.displayName="ModalBody";const A=v;var w=s(34153);const C=g.forwardRef(((e,t)=>{let{bsPrefix:s,className:a,contentClassName:n,centered:c,size:l,fullscreen:i,children:o,scrollable:d,...u}=e;s=(0,N.oU)(s,"modal");const m="".concat(s,"-dialog"),h="string"===typeof i?"".concat(s,"-fullscreen-").concat(i):"".concat(s,"-fullscreen");return(0,y.jsx)("div",{...u,ref:t,className:r()(m,a,l&&"".concat(s,"-").concat(l),c&&"".concat(m,"-centered"),d&&"".concat(m,"-scrollable"),i&&h),children:(0,y.jsx)("div",{className:r()("".concat(s,"-content"),n),children:o})})}));C.displayName="ModalDialog";const k=C,F=g.forwardRef(((e,t)=>{let{className:s,bsPrefix:a,as:n="div",...c}=e;return a=(0,N.oU)(a,"modal-footer"),(0,y.jsx)(n,{ref:t,className:r()(s,a),...c})}));F.displayName="ModalFooter";const P=F;var E=s(89103);const I=g.forwardRef(((e,t)=>{let{bsPrefix:s,className:a,closeLabel:n="Close",closeButton:c=!1,...l}=e;return s=(0,N.oU)(s,"modal-header"),(0,y.jsx)(E.A,{ref:t,...l,className:r()(a,s),closeLabel:n,closeButton:c})}));I.displayName="ModalHeader";const S=I;const _=(0,s(27611).A)("h4"),R=g.forwardRef(((e,t)=>{let{className:s,bsPrefix:a,as:n=_,...c}=e;return a=(0,N.oU)(a,"modal-title"),(0,y.jsx)(n,{ref:t,className:r()(s,a),...c})}));R.displayName="ModalTitle";const T=R;function O(e){return(0,y.jsx)(f.A,{...e,timeout:null})}function D(e){return(0,y.jsx)(f.A,{...e,timeout:null})}const H=g.forwardRef(((e,t)=>{let{bsPrefix:s,className:a,style:n,dialogClassName:f,contentClassName:v,children:A,dialogAs:C=k,"data-bs-theme":F,"aria-labelledby":P,"aria-describedby":E,"aria-label":I,show:S=!1,animation:_=!0,backdrop:R=!0,keyboard:T=!0,onEscapeKeyDown:H,onShow:U,onHide:z,container:M,autoFocus:B=!0,enforceFocus:L=!0,restoreFocus:W=!0,restoreFocusOptions:K,onEntered:q,onExit:Q,onExiting:V,onEnter:Y,onEntering:Z,onExited:G,backdropClassName:J,manager:X,...$}=e;const[ee,te]=(0,g.useState)({}),[se,ae]=(0,g.useState)(!1),ne=(0,g.useRef)(!1),re=(0,g.useRef)(!1),ce=(0,g.useRef)(null),[le,ie]=(0,u.A)(),oe=(0,h.A)(t,ie),de=(0,m.A)(z),ue=(0,N.Wz)();s=(0,N.oU)(s,"modal");const me=(0,g.useMemo)((()=>({onHide:de})),[de]);function he(){return X||(0,j.R)({isRTL:ue})}function pe(e){if(!l.A)return;const t=he().getScrollbarWidth()>0,s=e.scrollHeight>(0,i.A)(e).documentElement.clientHeight;te({paddingRight:t&&!s?d():void 0,paddingLeft:!t&&s?d():void 0})}const xe=(0,m.A)((()=>{le&&pe(le.dialog)}));(0,p.A)((()=>{(0,o.A)(window,"resize",xe),null==ce.current||ce.current()}));const ge=()=>{ne.current=!0},be=e=>{ne.current&&le&&e.target===le.dialog&&(re.current=!0),ne.current=!1},je=()=>{ae(!0),ce.current=(0,x.A)(le.dialog,(()=>{ae(!1)}))},fe=e=>{"static"!==R?re.current||e.target!==e.currentTarget?re.current=!1:null==z||z():(e=>{e.target===e.currentTarget&&je()})(e)},Ne=(0,g.useCallback)((e=>(0,y.jsx)("div",{...e,className:r()("".concat(s,"-backdrop"),J,!_&&"show")})),[_,J,s]),ye={...n,...ee};ye.display="block";return(0,y.jsx)(w.A.Provider,{value:me,children:(0,y.jsx)(b.A,{show:S,ref:oe,backdrop:R,container:M,keyboard:!0,autoFocus:B,enforceFocus:L,restoreFocus:W,restoreFocusOptions:K,onEscapeKeyDown:e=>{T?null==H||H(e):(e.preventDefault(),"static"===R&&je())},onShow:U,onHide:z,onEnter:(e,t)=>{e&&pe(e),null==Y||Y(e,t)},onEntering:(e,t)=>{null==Z||Z(e,t),(0,c.Ay)(window,"resize",xe)},onEntered:q,onExit:e=>{null==ce.current||ce.current(),null==Q||Q(e)},onExiting:V,onExited:e=>{e&&(e.style.display=""),null==G||G(e),(0,o.A)(window,"resize",xe)},manager:he(),transition:_?O:void 0,backdropTransition:_?D:void 0,renderBackdrop:Ne,renderDialog:e=>(0,y.jsx)("div",{role:"dialog",...e,style:ye,className:r()(a,s,se&&"".concat(s,"-static"),!_&&"show"),onClick:R?fe:void 0,onMouseUp:be,"data-bs-theme":F,"aria-label":I,"aria-labelledby":P,"aria-describedby":E,children:(0,y.jsx)(C,{...$,onMouseDown:ge,className:f,contentClassName:v,children:A})})})})}));H.displayName="Modal";const U=Object.assign(H,{Body:A,Header:S,Title:T,Footer:P,Dialog:k,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},1093:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(48738),n=s.n(a),r=s(9950),c=s(44089),l=s(44414);const i=r.forwardRef(((e,t)=>{let{bsPrefix:s,className:a,striped:r,bordered:i,borderless:o,hover:d,size:u,variant:m,responsive:h,...p}=e;const x=(0,c.oU)(s,"table"),g=n()(a,x,m&&"".concat(x,"-").concat(m),u&&"".concat(x,"-").concat(u),r&&"".concat(x,"-").concat("string"===typeof r?"striped-".concat(r):"striped"),i&&"".concat(x,"-bordered"),o&&"".concat(x,"-borderless"),d&&"".concat(x,"-hover")),b=(0,l.jsx)("table",{...p,className:g,ref:t});if(h){let e="".concat(x,"-responsive");return"string"===typeof h&&(e="".concat(e,"-").concat(h)),(0,l.jsx)("div",{className:e,children:b})}return b}))}}]);