"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[1636],{20192:(e,s,a)=>{a.d(s,{Z:()=>i});a(47313);var r=a(63849),l=a(31616),t=a(52198),n=a(46417);const i=e=>(0,n.jsx)(r.Z,{children:(0,n.jsx)(l.Z,{children:(0,n.jsxs)("div",{className:"page-title-box",children:[(0,n.jsx)("div",{className:"page-title-right",children:(0,n.jsxs)(t.Z,{className:"m-0",children:[(0,n.jsx)(t.Z.Item,{href:"/",children:"Home"}),(e.breadCrumbItems||[]).map(((e,s)=>e.active?(0,n.jsx)(t.Z.Item,{active:!0,children:e.label},s):(0,n.jsx)(t.Z.Item,{href:e.path,children:e.label},s)))]})}),(0,n.jsx)("h4",{className:"page-title",children:e.title})]})})})},52487:(e,s,a)=>{a.d(s,{y:()=>p,J:()=>n});var r=a(47313),l=a(75627),t=a(46417);const n=e=>{let{defaultValues:s,resolver:a,children:n,onSubmit:i,formClass:c}=e;const o=(0,l.cI)({defaultValues:s,resolver:a}),{handleSubmit:d,register:m,control:p,formState:{errors:h}}=o;return(0,t.jsx)("form",{onSubmit:d(i),className:c,noValidate:!0,children:Array.isArray(n)?n.map((e=>e.props&&e.props.name?r.createElement(e.type,{...{...e.props,register:m,key:e.props.name,errors:h,control:p}}):e)):n})};var i=a(38394),c=a(88178),o=a(72884),d=a.n(o);const m=e=>{let{name:s,placeholder:a,refCallback:l,errors:n,control:o,register:m,className:p}=e;const[h,u]=(0,r.useState)(!1);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(i.Z,{className:"mb-0",children:[(0,t.jsx)(c.Z.Control,{type:h?"text":"password",placeholder:a,name:s,id:s,as:"input",ref:e=>{l&&l(e)},className:p,isInvalid:!(!n||!n[s]),...m?m(s):{},autoComplete:s}),(0,t.jsx)("div",{className:d()("input-group-text","input-group-password",{"show-password":h}),"data-password":h?"true":"false",children:(0,t.jsx)("span",{className:"password-eye",onClick:()=>{u(!h)}})})]})})},p=e=>{let{label:s,type:a,name:r,placeholder:l,register:n,errors:i,control:o,className:d,labelClassName:p,containerClass:h,refCallback:u,children:x,rows:f,...b}=e;const j="textarea"===a?"textarea":"select"===a?"select":"input";return(0,t.jsx)(t.Fragment,{children:"hidden"===a?(0,t.jsx)("input",{type:a,name:r,id:r,...n?n(r):{},...b,className:d}):(0,t.jsx)(t.Fragment,{children:"password"===a?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(c.Z.Group,{className:h,children:[s?(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)(c.Z.Label,{className:p,children:s})," ",x," "]}):null,(0,t.jsx)(m,{name:r,placeholder:l,refCallback:u,errors:i,register:n,className:d}),i&&i[r]?(0,t.jsx)(c.Z.Control.Feedback,{type:"invalid",className:"d-block",children:i[r].message}):null]})}):(0,t.jsx)(t.Fragment,{children:"checkbox"===a||"radio"===a?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(c.Z.Group,{className:h,children:[(0,t.jsx)(c.Z.Check,{type:a,label:s,name:r,id:r,ref:e=>{u&&u(e)},className:d,isInvalid:!(!i||!i[r]),...n?n(r):{},...b}),i&&i[r]?(0,t.jsx)(c.Z.Control.Feedback,{type:"invalid",children:i[r].message}):null]})}):(0,t.jsxs)(c.Z.Group,{className:h,children:[s?(0,t.jsx)(c.Z.Label,{className:p,children:s}):null,(0,t.jsx)(c.Z.Control,{type:a,placeholder:l,name:r,id:r,as:j,ref:e=>{u&&u(e)},className:d,isInvalid:!(!i||!i[r]),...n?n(r):{},rows:f,...b,autoComplete:r,children:x||null}),i&&i[r]?(0,t.jsx)(c.Z.Control.Feedback,{type:"invalid",children:i[r].message}):null]})})})})}},91636:(e,s,a)=>{a.r(s),a.d(s,{default:()=>v});var r=a(47313),l=a(75627),t=a(51449),n=a(63849),i=a(31616),c=a(93298),o=a(20192),d=a(52487),m=a(58467),p=a(33689),h=a(56352),u=a(62563),x=a(3463),f=a(20253),b=a(46417);const j=()=>{const e=(0,h.I0)(),[s,a]=(0,r.useState)(""),[o,j]=(0,r.useState)(""),v=(0,u.X)(x.Ry().shape({})),{flats:N}=(0,h.v9)((e=>({flats:e.Flat.flats}))),[y]=(0,r.useState)(!0),g=(0,m.s0)(),Z=(0,m.UO)(),{register:w,handleSubmit:C,setValue:k,setError:F,formState:{errors:I}}=(0,l.cI)({defaultValues:{},resolver:v}),R=C((s=>{e((0,p.D0)(s)).unwrap().then((e=>{e&&!0===e.status&&a(e.message)})).catch((e=>{for(var s in e.errors)try{F(s,{message:e.errors[s].toString()})}catch(a){}}))}));return(0,r.useEffect)((()=>{e((0,f.i)()).unwrap().then((()=>{e((0,p.fB)(Z.id)).unwrap().then((e=>{k("id",e.user.id),k("email",e.user.email),e.user.flat&&k("flat_id",e.user.flat.flat_id),k("role_id",e.user.role)})).catch((e=>j(e)))}))}),[Z.id]),(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(t.Z,{children:(0,b.jsxs)(t.Z.Body,{children:[s&&(0,b.jsx)("div",{className:"alert alert-success",children:s}),o&&(0,b.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:o}),(0,b.jsx)(n.Z,{children:(0,b.jsx)(i.Z,{lg:6,children:(0,b.jsxs)("form",{onSubmit:R,className:y?"form-readonly":"",children:[(0,b.jsxs)("fieldset",{children:[(0,b.jsx)(d.y,{label:"Email",type:"email",register:w,name:"email",placeholder:"Email",containerClass:"mb-3",disabled:!0}),(0,b.jsxs)(d.y,{type:"select",label:"Role",name:"role_id",containerClass:"mb-3",register:w,errors:I,children:[(0,b.jsx)("option",{value:"",children:"Select Role"}),(0,b.jsx)("option",{value:"recident",children:"Tenant"})]}),(0,b.jsx)(d.y,{type:"select",label:"Apartment#",name:"flat_id",containerClass:"mb-3 ",register:w,errors:I,children:N.length&&N.map((e=>(0,b.jsx)("optgroup",{label:e.name.toString(),children:e.flats.map((e=>e.has_occupied?(0,b.jsxs)("option",{value:e.id,disabled:!0,children:[e.name,e.has_occupied]},"flat"+e.id):(0,b.jsxs)("option",{value:e.id,children:[e.name,e.has_occupied]},"flat"+e.id)))},"apartment".concat(e.id))))})]}),(0,b.jsx)(c.Z,{onClick:()=>g(-1),variant:"primary",className:"me-2",type:"submit",children:"Back"}),(0,b.jsx)(c.Z,{variant:"primary",type:"submit",children:"Submit"})]})})})]})})})},v=()=>(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)(o.Z,{breadCrumbItems:[{label:"Residents",path:"/resident"},{label:"Assign Permission",path:"/user",active:!0}],title:"Assign Permission"}),(0,b.jsx)(n.Z,{children:(0,b.jsx)(i.Z,{children:(0,b.jsx)(j,{})})})]})},93298:(e,s,a)=>{a.d(s,{Z:()=>d});var r=a(72884),l=a.n(r),t=a(47313),n=a(16184),i=a(68524),c=a(46417);const o=t.forwardRef(((e,s)=>{let{as:a,bsPrefix:r,variant:t="primary",size:o,active:d=!1,disabled:m=!1,className:p,...h}=e;const u=(0,i.vE)(r,"btn"),[x,{tagName:f}]=(0,n.FT)({tagName:a,disabled:m,...h}),b=f;return(0,c.jsx)(b,{...x,...h,ref:s,disabled:m,className:l()(p,u,d&&"active",t&&"".concat(u,"-").concat(t),o&&"".concat(u,"-").concat(o),h.href&&m&&"disabled")})}));o.displayName="Button";const d=o},46682:(e,s,a)=>{a.d(s,{UI:()=>l,XW:()=>t});var r=a(47313);function l(e,s){let a=0;return r.Children.map(e,(e=>r.isValidElement(e)?s(e,a++):e))}function t(e,s){return r.Children.toArray(e).some((e=>r.isValidElement(e)&&e.type===s))}},88178:(e,s,a)=>{a.d(s,{Z:()=>O});var r=a(72884),l=a.n(r),t=a(75192),n=a.n(t),i=a(47313),c=a(46417);const o={type:n().string,tooltip:n().bool,as:n().elementType},d=i.forwardRef(((e,s)=>{let{as:a="div",className:r,type:t="valid",tooltip:n=!1,...i}=e;return(0,c.jsx)(a,{...i,ref:s,className:l()(r,"".concat(t,"-").concat(n?"tooltip":"feedback"))})}));d.displayName="Feedback",d.propTypes=o;const m=d;var p=a(56084),h=a(5978),u=a(68524);const x=i.forwardRef(((e,s)=>{let{bsPrefix:a,className:r,htmlFor:t,...n}=e;const{controlId:o}=(0,i.useContext)(h.Z);return a=(0,u.vE)(a,"form-check-label"),(0,c.jsx)("label",{...n,ref:s,htmlFor:t||o,className:l()(r,a)})}));x.displayName="FormCheckLabel";const f=x;var b=a(46682);const j=i.forwardRef(((e,s)=>{let{id:a,bsPrefix:r,bsSwitchPrefix:t,inline:n=!1,reverse:o=!1,disabled:d=!1,isValid:x=!1,isInvalid:j=!1,feedbackTooltip:v=!1,feedback:N,feedbackType:y,className:g,style:Z,title:w="",type:C="checkbox",label:k,children:F,as:I="input",...R}=e;r=(0,u.vE)(r,"form-check"),t=(0,u.vE)(t,"form-switch");const{controlId:S}=(0,i.useContext)(h.Z),E=(0,i.useMemo)((()=>({controlId:a||S})),[S,a]),P=!F&&null!=k&&!1!==k||(0,b.XW)(F,f),V=(0,c.jsx)(p.Z,{...R,type:"switch"===C?"checkbox":C,ref:s,isValid:x,isInvalid:j,disabled:d,as:I});return(0,c.jsx)(h.Z.Provider,{value:E,children:(0,c.jsx)("div",{style:Z,className:l()(g,P&&r,n&&"".concat(r,"-inline"),o&&"".concat(r,"-reverse"),"switch"===C&&t),children:F||(0,c.jsxs)(c.Fragment,{children:[V,P&&(0,c.jsx)(f,{title:w,children:k}),N&&(0,c.jsx)(m,{type:y,tooltip:v,children:N})]})})})}));j.displayName="FormCheck";const v=Object.assign(j,{Input:p.Z,Label:f});a(21024);const N=i.forwardRef(((e,s)=>{let{bsPrefix:a,type:r,size:t,htmlSize:n,id:o,className:d,isValid:m=!1,isInvalid:p=!1,plaintext:x,readOnly:f,as:b="input",...j}=e;const{controlId:v}=(0,i.useContext)(h.Z);return a=(0,u.vE)(a,"form-control"),(0,c.jsx)(b,{...j,type:r,size:n,ref:s,readOnly:f,id:o||v,className:l()(d,x?"".concat(a,"-plaintext"):a,t&&"".concat(a,"-").concat(t),"color"===r&&"".concat(a,"-color"),m&&"is-valid",p&&"is-invalid")})}));N.displayName="FormControl";const y=Object.assign(N,{Feedback:m}),g=i.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:t="div",...n}=e;return r=(0,u.vE)(r,"form-floating"),(0,c.jsx)(t,{ref:s,className:l()(a,r),...n})}));g.displayName="FormFloating";const Z=g;var w=a(87021),C=a(41709);const k=i.forwardRef(((e,s)=>{let{bsPrefix:a,className:r,id:t,...n}=e;const{controlId:o}=(0,i.useContext)(h.Z);return a=(0,u.vE)(a,"form-range"),(0,c.jsx)("input",{...n,type:"range",ref:s,className:l()(r,a),id:t||o})}));k.displayName="FormRange";const F=k,I=i.forwardRef(((e,s)=>{let{bsPrefix:a,size:r,htmlSize:t,className:n,isValid:o=!1,isInvalid:d=!1,id:m,...p}=e;const{controlId:x}=(0,i.useContext)(h.Z);return a=(0,u.vE)(a,"form-select"),(0,c.jsx)("select",{...p,size:t,ref:s,className:l()(n,a,r&&"".concat(a,"-").concat(r),o&&"is-valid",d&&"is-invalid"),id:m||x})}));I.displayName="FormSelect";const R=I,S=i.forwardRef(((e,s)=>{let{bsPrefix:a,className:r,as:t="small",muted:n,...i}=e;return a=(0,u.vE)(a,"form-text"),(0,c.jsx)(t,{...i,ref:s,className:l()(r,a,n&&"text-muted")})}));S.displayName="FormText";const E=S,P=i.forwardRef(((e,s)=>(0,c.jsx)(v,{...e,ref:s,type:"switch"})));P.displayName="Switch";const V=Object.assign(P,{Input:v.Input,Label:v.Label}),T=i.forwardRef(((e,s)=>{let{bsPrefix:a,className:r,children:t,controlId:n,label:i,...o}=e;return a=(0,u.vE)(a,"form-floating"),(0,c.jsxs)(w.Z,{ref:s,className:l()(r,a),controlId:n,...o,children:[t,(0,c.jsx)("label",{htmlFor:n,children:i})]})}));T.displayName="FloatingLabel";const L=T,_={_ref:n().any,validated:n().bool,as:n().elementType},z=i.forwardRef(((e,s)=>{let{className:a,validated:r,as:t="form",...n}=e;return(0,c.jsx)(t,{...n,ref:s,className:l()(a,r&&"was-validated")})}));z.displayName="Form",z.propTypes=_;const O=Object.assign(z,{Group:w.Z,Control:y,Floating:Z,Check:v,Switch:V,Label:C.Z,Text:E,Range:F,Select:R,FloatingLabel:L})},56084:(e,s,a)=>{a.d(s,{Z:()=>d});var r=a(72884),l=a.n(r),t=a(47313),n=a(5978),i=a(68524),c=a(46417);const o=t.forwardRef(((e,s)=>{let{id:a,bsPrefix:r,className:o,type:d="checkbox",isValid:m=!1,isInvalid:p=!1,as:h="input",...u}=e;const{controlId:x}=(0,t.useContext)(n.Z);return r=(0,i.vE)(r,"form-check-input"),(0,c.jsx)(h,{...u,ref:s,type:d,id:a||x,className:l()(o,r,m&&"is-valid",p&&"is-invalid")})}));o.displayName="FormCheckInput";const d=o},87021:(e,s,a)=>{a.d(s,{Z:()=>i});var r=a(47313),l=a(5978),t=a(46417);const n=r.forwardRef(((e,s)=>{let{controlId:a,as:n="div",...i}=e;const c=(0,r.useMemo)((()=>({controlId:a})),[a]);return(0,t.jsx)(l.Z.Provider,{value:c,children:(0,t.jsx)(n,{...i,ref:s})})}));n.displayName="FormGroup";const i=n},38394:(e,s,a)=>{a.d(s,{Z:()=>h});var r=a(72884),l=a.n(r),t=a(47313),n=a(68524),i=a(56084),c=a(94354),o=a(46417);const d=t.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:t="span",...i}=e;return r=(0,n.vE)(r,"input-group-text"),(0,o.jsx)(t,{ref:s,className:l()(a,r),...i})}));d.displayName="InputGroupText";const m=d,p=t.forwardRef(((e,s)=>{let{bsPrefix:a,size:r,hasValidation:i,className:d,as:m="div",...p}=e;a=(0,n.vE)(a,"input-group");const h=(0,t.useMemo)((()=>({})),[]);return(0,o.jsx)(c.Z.Provider,{value:h,children:(0,o.jsx)(m,{ref:s,...p,className:l()(d,a,r&&"".concat(a,"-").concat(r),i&&"has-validation")})})}));p.displayName="InputGroup";const h=Object.assign(p,{Text:m,Radio:e=>(0,o.jsx)(m,{children:(0,o.jsx)(i.Z,{type:"radio",...e})}),Checkbox:e=>(0,o.jsx)(m,{children:(0,o.jsx)(i.Z,{type:"checkbox",...e})})})}}]);