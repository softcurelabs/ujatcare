"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[1373],{91373:(e,s,r)=>{r.r(s),r.d(s,{default:()=>g});var a=r(9950),t=r(9449),l=r(56035),i=r(86781),n=r(68459),c=r(97937),d=r(86133),m=r(82612),u=r(28429),o=r(80183),h=r(27081),f=r(26473),j=r(60666),x=r(19443),p=r(44414);const b=()=>{const e=(0,h.wA)(),[s,r]=(0,a.useState)(""),[d,b]=(0,a.useState)(""),g=(0,f.t)(j.Ik().shape({})),[A]=(0,a.useState)(!0),v=(0,u.Zp)(),S=(0,u.g)(),{register:y,handleSubmit:k,setValue:w,setError:C,formState:{errors:N}}=(0,t.mN)({defaultValues:{},resolver:g}),E=k((s=>{e((0,o.fS)(s)).unwrap().then((e=>{e&&!0===e.status&&r(e.message)})).catch((e=>{for(var s in e.errors)try{C(s,{message:e.errors[s].toString()})}catch(r){}}))}));return(0,a.useEffect)((()=>{e((0,x.qx)()).unwrap().then((()=>{e((0,o.Tv)(S.id)).unwrap().then((e=>{w("id",e.user.id),w("email",e.user.email),e.user.flat&&w("flat_id",e.user.flat.flat_id),w("role_id",e.user.role)})).catch((e=>b(e)))}))}),[S.id]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(l.A,{children:(0,p.jsxs)(l.A.Body,{children:[s&&(0,p.jsx)("div",{className:"alert alert-success",children:s}),d&&(0,p.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:d}),(0,p.jsx)(i.A,{children:(0,p.jsx)(n.A,{lg:6,children:(0,p.jsxs)("form",{onSubmit:E,className:A?"form-readonly":"",children:[(0,p.jsxs)("fieldset",{children:[(0,p.jsx)(m.Z,{label:"Email",type:"email",register:y,name:"email",placeholder:"Email",containerClass:"mb-3",disabled:!0}),(0,p.jsxs)(m.Z,{type:"select",label:"Role",name:"role_id",containerClass:"mb-3",register:y,errors:N,children:[(0,p.jsx)("option",{value:"",children:"Select Role"}),(0,p.jsx)("option",{value:"admin",children:"Admin"}),(0,p.jsx)("option",{value:"staff",children:"Staff"})]})]}),(0,p.jsx)(c.A,{onClick:()=>v(-1),variant:"primary",className:"me-2",type:"submit",children:"Back"}),(0,p.jsx)(c.A,{variant:"primary",type:"submit",children:"Submit"})]})})})]})})})},g=()=>(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(d.A,{breadCrumbItems:[{label:"Staff",path:"/staff"},{label:"Assign Permission",path:"/user",active:!0}],title:"Assign Permission"}),(0,p.jsx)(i.A,{children:(0,p.jsx)(n.A,{children:(0,p.jsx)(b,{})})})]})}}]);