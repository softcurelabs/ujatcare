(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[8178],{10726:(e,t,s)=>{"use strict";s.d(t,{T:()=>c});var n=s(47939),a=s(93298),r=s(46417);const c=e=>{let{okLabel:t="OK",cancelLabel:s="Cancel",title:c="Confirmation",submitForm:i,show:l,targetId:o,handleClose:d}=e;return(0,r.jsxs)(n.Z,{show:l,onHide:d,children:[(0,r.jsx)(n.Z.Header,{closeButton:!0,children:(0,r.jsx)(n.Z.Title,{children:c})}),(0,r.jsx)(n.Z.Body,{children:"Do you really want to submit?"}),(0,r.jsxs)(n.Z.Footer,{children:[(0,r.jsx)(a.Z,{variant:"secondary",onClick:d,children:s}),(0,r.jsx)(a.Z,{variant:"primary",onClick:()=>i(o),children:t})]})]})}},20192:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});s(47313);var n=s(63849),a=s(31616),r=s(52198),c=s(46417);const i=e=>(0,c.jsx)(n.Z,{children:(0,c.jsx)(a.Z,{children:(0,c.jsxs)("div",{className:"page-title-box",children:[(0,c.jsx)("div",{className:"page-title-right",children:(0,c.jsxs)(r.Z,{className:"m-0",children:[(0,c.jsx)(r.Z.Item,{href:"/",children:"Home"}),(e.breadCrumbItems||[]).map(((e,t)=>e.active?(0,c.jsx)(r.Z.Item,{active:!0,children:e.label},t):(0,c.jsx)(r.Z.Item,{href:e.path,children:e.label},t)))]})}),(0,c.jsx)("h4",{className:"page-title",children:e.title})]})})})},20433:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s(47313),a=s(2135),r=s(72884),c=s.n(r),i=s(46417);const l=e=>{let{tableProps:t,sizePerPageList:s}=e;const[r,l]=(0,n.useState)(t.pageCount),[o,d]=(0,n.useState)(t.state.pageIndex);(0,n.useEffect)((()=>{l(t.pageCount),d(t.state.pageIndex)}),[t.pageCount,t.state.pageIndex]);const u=(0,n.useCallback)(((e,t)=>e.filter((e=>e<=r))),[r]),m=(0,n.useCallback)(((e,t)=>t<7?u([1,2,3,4,5,6],t):e%5>=0&&e>4&&e+2<t?[1,e-1,e,e+1,t]:e%5>=0&&e>4&&e+2>=t?[1,t-3,t-2,t-1,t]:[1,2,3,4,5,t]),[u]),h=e=>{if(e===o)return;const s=m(e,r);x(u(s,r)),t.gotoPage(e)};(0,n.useEffect)((()=>{const e=m(null,r);x(e)}),[r,m]);const[p,x]=(0,n.useState)(m(null,r)),g=o;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"d-lg-flex align-items-center text-center pb-1",children:[s.length>0&&(0,i.jsxs)("div",{className:"d-inline-block me-3",children:[(0,i.jsx)("label",{className:"me-1",children:"Display :"}),(0,i.jsx)("select",{value:t.state.pageSize,onChange:e=>{t.setPageSize(Number(e.target.value))},className:"form-select d-inline-block w-auto",children:(s||[]).map(((e,t)=>(0,i.jsx)("option",{value:e.value,children:e.text},t)))})]}),(0,i.jsxs)("span",{className:"me-3",children:["Page"," ",(0,i.jsxs)("strong",{children:[o," of ",t.pageOptions.length]})," "]}),(0,i.jsxs)("ul",{className:"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0",children:[(0,i.jsx)("li",{className:c()("page-item","paginate_button","previous",{disabled:1===g}),onClick:()=>{1!==g&&h(g-1)},children:(0,i.jsx)(a.rU,{to:"#",className:"page-link",children:(0,i.jsx)("i",{className:"mdi mdi-chevron-left"})})},"prevpage"),(p||[]).map(((e,t,s)=>s[t-1]+1<e?(0,i.jsxs)(n.Fragment,{children:[(0,i.jsx)("li",{className:"page-item disabled d-none d-xl-inline-block",children:(0,i.jsx)(a.rU,{to:"#",className:"page-link",children:"..."})}),(0,i.jsx)("li",{className:c()("page-item","d-none","d-xl-inline-block",{active:g===e}),onClick:t=>h(e),children:(0,i.jsx)(a.rU,{to:"#",className:"page-link",children:e})})]},e):(0,i.jsx)("li",{className:c()("page-item","d-none","d-xl-inline-block",{active:g===e}),onClick:t=>h(e),children:(0,i.jsx)(a.rU,{to:"#",className:"page-link",children:e})},e))),(0,i.jsx)("li",{className:c()("page-item","paginate_button","next",{disabled:g===t.pageCount}),onClick:()=>{g!==t.pageCount&&h(g+1)},children:(0,i.jsx)(a.rU,{to:"#",className:"page-link",children:(0,i.jsx)("i",{className:"mdi mdi-chevron-right"})})},"nextpage")]})]})})}},12897:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Z});var n=s(63849),a=s(31616),r=s(20192),c=s(47313),i=s(58467),l=s(51449),o=s(93298),d=s(465),u=s(72884),m=s.n(u);const h={1:"Open",2:"In Progress",3:"Close"},p={1:"Low",2:"Medium",3:"High"};var x=s(61033),g=s(10726),b=s(56352),f=s(46417);const j=e=>{let{row:t}=e;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("b",{children:t.id})})},v=e=>{let{row:t}=e;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("span",{className:m()("badge",{"bg-soft-secondary text-secondary":1===t.priority,"bg-soft-warning text-warning":2===t.priority,"bg-soft-danger text-danger":3===t.priority}),children:p[t.priority.toString()]})})},N=e=>{let{row:t}=e;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("span",{className:m()("badge",{"bg-success":1===t.status,"bg-warning":2===t.status,"bg-secondary text-light":3===t.status}),children:h[t.status.toString()]})})},y=e=>{let{inspection:t,reload:s}=e,n=(0,i.s0)();const[a,r]=(0,c.useState)(!1),[u,m]=(0,c.useState)(0),[h,p]=(0,c.useState)(""),y=(0,b.I0)(),[w,Z]=(0,c.useState)("");return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(l.Z,{children:(0,f.jsxs)(l.Z.Body,{children:[h&&(0,f.jsx)("div",{className:"alert alert-success",children:h}),w&&(0,f.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:w}),(0,f.jsxs)(o.Z,{className:"waves-effect waves-light mb-3",onClick:()=>{n("/inspection/new")},children:[(0,f.jsx)("i",{className:"mdi mdi-plus-circle me-1"})," Add New"]}),(0,f.jsxs)(d.Z,{className:"mb-0 table-striped dt-responsive react-table nowrap w-100",children:[(0,f.jsx)("thead",{className:"table-light",children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"Id"}),(0,f.jsx)("th",{children:"Flat Number"}),(0,f.jsx)("th",{children:"Subject"}),(0,f.jsx)("th",{children:"Assignee"}),(0,f.jsx)("th",{children:"Priority"}),(0,f.jsx)("th",{children:"Status"}),(0,f.jsx)("th",{children:"Created Date"}),(0,f.jsx)("th",{children:"Completion Date"}),(0,f.jsx)("th",{children:"Action"})]})}),(0,f.jsx)("tbody",{children:t.data.length>0?t.data.map(((e,t)=>(0,f.jsxs)("tr",{className:"",children:[(0,f.jsxs)("td",{children:["#",(0,f.jsx)(j,{row:e})]}),(0,f.jsx)("td",{children:e.flat?e.flat.name:""}),(0,f.jsx)("td",{children:e.title}),(0,f.jsx)("td",{children:e.inspection_by instanceof Number?"":e.inspection_by.name}),(0,f.jsx)("td",{children:(0,f.jsx)(v,{row:e})}),(0,f.jsx)("td",{children:(0,f.jsx)(N,{row:e})}),(0,f.jsx)("td",{children:e.created_at}),(0,f.jsx)("td",{children:e.inspection_date}),(0,f.jsx)("td",{children:(0,f.jsx)(c.Fragment,{children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.Z,{className:"btn-secondary",onClick:()=>{let t="/inspection/".concat(e.id);n(t)},size:"sm",children:"Edit"}),(0,f.jsx)(o.Z,{className:"btn-secondary ms-2",onClick:()=>{m(e.id),r(!0)},size:"sm",children:"Delete"})]})})})]},t))):(0,f.jsx)("p",{children:"No Data Found"})})]}),(0,f.jsx)(g.T,{show:a,targetId:u,submitForm:e=>{y((0,x.fs)(e)).unwrap().then((e=>{e&&!0===e.status&&(p(e.message),r(!1),s())})).catch((e=>{Z(e.message),r(!1)}))},handleClose:()=>r(!1)})]})})})};var w=s(20433);const Z=()=>{const{inspection:e}=(0,b.v9)((e=>({inspection:e.Inspection.inspection}))),t=(0,b.I0)(),[s,i]=(0,c.useState)(1);(0,c.useEffect)((()=>{t((0,x.mY)(s))}),[s]);const l=(0,c.useCallback)((()=>{t((0,x.mY)(s))}),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(r.Z,{breadCrumbItems:[{label:"Maintanance Inspection History",path:"/apps/tickets/list",active:!0}],title:"Maintanance Inspection History"}),(0,f.jsx)(n.Z,{children:(0,f.jsx)(a.Z,{children:e&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(y,{inspection:e,reload:l}),(0,f.jsx)(w.Z,{tableProps:{pageCount:e.last_page,state:{pageIndex:e.current_page},pageOptions:{length:e.total},gotoPage:e=>{i(e)}},sizePerPageList:[{text:"10",value:10}]})]})})})]})}},86472:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var n=s(47313),a=s(78532);const r=(0,n.createContext)(a.Z?window:void 0);r.Provider;function c(){return(0,n.useContext)(r)}},46106:(e,t,s)=>{"use strict";function n(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}s.d(t,{Z:()=>n})},61729:(e,t,s)=>{"use strict";var n=s(79165);function a(){}function r(){}r.resetWarningCache=a,e.exports=function(){function e(e,t,s,a,r,c){if(c!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:a};return s.PropTypes=s,s}},75192:(e,t,s)=>{e.exports=s(61729)()},79165:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},93298:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var n=s(72884),a=s.n(n),r=s(47313),c=s(16184),i=s(68524),l=s(46417);const o=r.forwardRef(((e,t)=>{let{as:s,bsPrefix:n,variant:r="primary",size:o,active:d=!1,disabled:u=!1,className:m,...h}=e;const p=(0,i.vE)(n,"btn"),[x,{tagName:g}]=(0,c.FT)({tagName:s,disabled:u,...h}),b=g;return(0,l.jsx)(b,{...x,...h,ref:t,disabled:u,className:a()(m,p,d&&"active",r&&"".concat(p,"-").concat(r),o&&"".concat(p,"-").concat(o),h.href&&u&&"disabled")})}));o.displayName="Button";const d=o},47939:(e,t,s)=>{"use strict";s.d(t,{Z:()=>H});var n,a=s(72884),r=s.n(a),c=s(55506),i=s(78532),l=s(14987),o=s(18755);function d(e){if((!n&&0!==n||e)&&i.Z){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),n=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return n}var u=s(47313);var m=s(69125),h=s(57323),p=s(52904),x=s(27890),g=s(45292),b=s(16381),f=s(22868),j=s(68524),v=s(46417);const N=u.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="div",...c}=e;return n=(0,j.vE)(n,"modal-body"),(0,v.jsx)(a,{ref:t,className:r()(s,n),...c})}));N.displayName="ModalBody";const y=N;var w=s(30321);const Z=u.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,contentClassName:a,centered:c,size:i,fullscreen:l,children:o,scrollable:d,...u}=e;s=(0,j.vE)(s,"modal");const m="".concat(s,"-dialog"),h="string"===typeof l?"".concat(s,"-fullscreen-").concat(l):"".concat(s,"-fullscreen");return(0,v.jsx)("div",{...u,ref:t,className:r()(m,n,i&&"".concat(s,"-").concat(i),c&&"".concat(m,"-centered"),d&&"".concat(m,"-scrollable"),l&&h),children:(0,v.jsx)("div",{className:r()("".concat(s,"-content"),a),children:o})})}));Z.displayName="ModalDialog";const C=Z,k=u.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="div",...c}=e;return n=(0,j.vE)(n,"modal-footer"),(0,v.jsx)(a,{ref:t,className:r()(s,n),...c})}));k.displayName="ModalFooter";const E=k;var P=s(50195);const I=u.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,closeLabel:a="Close",closeButton:c=!1,...i}=e;return s=(0,j.vE)(s,"modal-header"),(0,v.jsx)(P.Z,{ref:t,...i,className:r()(n,s),closeLabel:a,closeButton:c})}));I.displayName="ModalHeader";const F=I;const S=(0,s(96205).Z)("h4"),T=u.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a=S,...c}=e;return n=(0,j.vE)(n,"modal-title"),(0,v.jsx)(a,{ref:t,className:r()(s,n),...c})}));T.displayName="ModalTitle";const R=T;function O(e){return(0,v.jsx)(f.Z,{...e,timeout:null})}function D(e){return(0,v.jsx)(f.Z,{...e,timeout:null})}const _=u.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,style:a,dialogClassName:f,contentClassName:N,children:y,dialogAs:Z=C,"data-bs-theme":k,"aria-labelledby":E,"aria-describedby":P,"aria-label":I,show:F=!1,animation:S=!0,backdrop:T=!0,keyboard:R=!0,onEscapeKeyDown:_,onShow:H,onHide:z,container:M,autoFocus:B=!0,enforceFocus:L=!0,restoreFocus:A=!0,restoreFocusOptions:U,onEntered:W,onExit:K,onExiting:Y,onEnter:q,onEntering:V,onExited:G,backdropClassName:J,manager:Q,...X}=e;const[$,ee]=(0,u.useState)({}),[te,se]=(0,u.useState)(!1),ne=(0,u.useRef)(!1),ae=(0,u.useRef)(!1),re=(0,u.useRef)(null),[ce,ie]=(0,u.useState)(null),le=(0,h.Z)(t,ie),oe=(0,m.Z)(z),de=(0,j.SC)();s=(0,j.vE)(s,"modal");const ue=(0,u.useMemo)((()=>({onHide:oe})),[oe]);function me(){return Q||(0,b.t)({isRTL:de})}function he(e){if(!i.Z)return;const t=me().getScrollbarWidth()>0,s=e.scrollHeight>(0,l.Z)(e).documentElement.clientHeight;ee({paddingRight:t&&!s?d():void 0,paddingLeft:!t&&s?d():void 0})}const pe=(0,m.Z)((()=>{ce&&he(ce.dialog)}));(0,p.Z)((()=>{(0,o.Z)(window,"resize",pe),null==re.current||re.current()}));const xe=()=>{ne.current=!0},ge=e=>{ne.current&&ce&&e.target===ce.dialog&&(ae.current=!0),ne.current=!1},be=()=>{se(!0),re.current=(0,x.Z)(ce.dialog,(()=>{se(!1)}))},fe=e=>{"static"!==T?ae.current||e.target!==e.currentTarget?ae.current=!1:null==z||z():(e=>{e.target===e.currentTarget&&be()})(e)},je=(0,u.useCallback)((e=>(0,v.jsx)("div",{...e,className:r()("".concat(s,"-backdrop"),J,!S&&"show")})),[S,J,s]),ve={...a,...$};ve.display="block";return(0,v.jsx)(w.Z.Provider,{value:ue,children:(0,v.jsx)(g.Z,{show:F,ref:le,backdrop:T,container:M,keyboard:!0,autoFocus:B,enforceFocus:L,restoreFocus:A,restoreFocusOptions:U,onEscapeKeyDown:e=>{R?null==_||_(e):(e.preventDefault(),"static"===T&&be())},onShow:H,onHide:z,onEnter:(e,t)=>{e&&he(e),null==q||q(e,t)},onEntering:(e,t)=>{null==V||V(e,t),(0,c.ZP)(window,"resize",pe)},onEntered:W,onExit:e=>{null==re.current||re.current(),null==K||K(e)},onExiting:Y,onExited:e=>{e&&(e.style.display=""),null==G||G(e),(0,o.Z)(window,"resize",pe)},manager:me(),transition:S?O:void 0,backdropTransition:S?D:void 0,renderBackdrop:je,renderDialog:e=>(0,v.jsx)("div",{role:"dialog",...e,style:ve,className:r()(n,s,te&&"".concat(s,"-static"),!S&&"show"),onClick:T?fe:void 0,onMouseUp:ge,"data-bs-theme":k,"aria-label":I,"aria-labelledby":E,"aria-describedby":P,children:(0,v.jsx)(Z,{...X,onMouseDown:xe,className:f,contentClassName:N,children:y})})})})}));_.displayName="Modal";const H=Object.assign(_,{Body:y,Header:F,Title:R,Footer:E,Dialog:C,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},465:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s(72884),a=s.n(n),r=s(47313),c=s(68524),i=s(46417);const l=r.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,striped:r,bordered:l,borderless:o,hover:d,size:u,variant:m,responsive:h,...p}=e;const x=(0,c.vE)(s,"table"),g=a()(n,x,m&&"".concat(x,"-").concat(m),u&&"".concat(x,"-").concat(u),r&&"".concat(x,"-").concat("string"===typeof r?"striped-".concat(r):"striped"),l&&"".concat(x,"-bordered"),o&&"".concat(x,"-borderless"),d&&"".concat(x,"-hover")),b=(0,i.jsx)("table",{...p,className:g,ref:t});if(h){let e="".concat(x,"-responsive");return"string"===typeof h&&(e="".concat(e,"-").concat(h)),(0,i.jsx)("div",{className:e,children:b})}return b}))},69125:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s(47313);const a=function(e){const t=(0,n.useRef)(e);return(0,n.useEffect)((()=>{t.current=e}),[e]),t};function r(e){const t=a(e);return(0,n.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}},52904:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s(47313);function a(e){const t=function(e){const t=(0,n.useRef)(e);return t.current=e,t}(e);(0,n.useEffect)((()=>()=>t.current()),[])}}}]);