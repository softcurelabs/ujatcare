"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[1890],{93379:(e,s,r)=>{r.r(s),r.d(s,{default:()=>N});var a=r(9950),t=r(9449),l=r(471),n=r(86781),i=r(68459),c=r(97937),o=r(41033),m=r(68984),d=r(28429),x=r(80183),u=r(27081),p=r(70030),h=r(26473),b=r(60666),f=r(19443),_=r(13236),g=r(98972),j=r(32393),y=r(63647),A=r(44414);const v=()=>{const e=(0,u.wA)(),{t:s}=(0,p.B)(),[r,o]=(0,a.useState)(""),[v,N]=(0,a.useState)(""),[C,k]=(0,a.useState)(!1),S=(0,h.t)(b.Ik().shape({}));let{user:w,customerUser:Z}=(0,u.d4)((e=>({user:e.Auth.user,customerUser:e.CustomerAuth.user})));w||(w=Z);const[F,E]=(0,a.useState)(new Date),[R,B]=(0,a.useState)(!0),I=(0,d.Zp)(),[$,U]=(0,a.useState)(null),{register:L,handleSubmit:M,setValue:P,setError:D,formState:{errors:T}}=(0,t.mN)({defaultValues:{unit:10,phone_number:"9601277532",parking_space:120,emergency_contact_number:"9601277532",emergency_contact_name:"jasmin",income_verification:230,total_rent:123,language:"eng",special_instruction:null},resolver:S}),V=M((s=>{k(!0),e((0,x.el)(s)).unwrap().then((e=>{e&&!0===e.status&&(o(e.message),window.scrollTo({top:0,behavior:"smooth"})),k(!1)})).catch((e=>{for(var s in e.errors)try{D(s,{message:e.errors[s].toString()})}catch(r){}k(!1)}))}));return(0,a.useEffect)((()=>{e((0,f.q)()).unwrap().then((()=>{e((0,x.Tv)(w.user_id)).unwrap().then((e=>{j.A.BASE_URL&&e.image_path&&U("".concat(j.A.BASE_URL,"/").concat(e.image_path)),P("id",e.user.id),P("unit",e.unit),P("name",e.user.name),P("email",e.user.email),P("phone_number",e.phone_number),e.user.flat&&P("flat_id",e.user.flat.flat_id),P("parking_space",e.parking_space),P("emergency_contact_number",e.emergency_contact_number),P("emergency_contact_name",e.emergency_contact_name),P("income_verification",e.income_verification),P("total_rent",e.total_rent),P("special_instruction",e.special_instruction),P("relationship",e.relationship),P("movein_date",e.movein_date)})).catch((e=>N(e.message)))}))}),[]),(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(l.A,{children:(0,A.jsxs)(l.A.Body,{children:[r&&(0,A.jsx)("div",{className:"alert alert-success",children:r}),v&&(0,A.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:v}),(0,A.jsxs)(n.A,{children:[(0,A.jsx)(i.A,{lg:6,children:(0,A.jsxs)("form",{onSubmit:V,className:R?"form-readonly":"",children:[(0,A.jsxs)("fieldset",{children:[(0,A.jsx)(m.Z,{label:"Name",type:"text",name:"name",className:"form-control-sm fs-5",containerClass:"mb-3 input-group",register:L,errors:T},"name"),(0,A.jsx)(m.Z,{label:"Phone#",type:"text",name:"phone_number",placeholder:"phone_number",className:"form-control-sm fs-5",containerClass:"mb-3 input-group",register:L,errors:T},"phone_number"),(0,A.jsx)(m.Z,{label:"Email",type:"email",name:"email",placeholder:"Email",className:"form-control-sm fs-5",containerClass:"mb-3 input-group",register:L,errors:T,disabled:!0},"email"),(0,A.jsxs)(m.Z,{type:"select",label:"Role",name:"role_id",className:"form-control-sm fs-5",containerClass:"mb-3 input-group",register:L,errors:T,children:[(0,A.jsx)("option",{value:"",children:"Select Role"}),(0,A.jsx)("option",{value:"admin",selected:!0,children:"Super Admin"}),(0,A.jsx)("option",{value:"staff",children:"Staff"})]})]}),(0,A.jsx)(c.A,{onClick:()=>I(-1),variant:"primary",className:"me-2",type:"submit",children:"Back"}),R?(0,A.jsx)("div",{}):C?(0,A.jsx)(y.m,{}):(0,A.jsx)(c.A,{variant:"primary",type:"submit",children:"Submit"})]})}),(0,A.jsxs)(i.A,{lg:6,children:[(0,A.jsx)("div",{className:"text-center",children:$&&(0,A.jsx)("img",{src:$,className:"rounded-4",alt:"{}",width:125})}),(0,A.jsx)("div",{className:"text-end pb-2",children:R?(0,A.jsx)(c.A,{variant:"primary",type:"submit",onClick:()=>B(!1),children:"Edit"}):(0,A.jsx)("div",{})}),(0,A.jsx)("div",{children:(0,A.jsx)(g.t,{id:w.user_id})}),(0,A.jsx)("div",{className:"pt-2",children:(0,A.jsx)(_.R,{email:w.email})})]})]})]})})})},N=()=>(0,A.jsxs)(a.Fragment,{children:[(0,A.jsx)(o.A,{breadCrumbItems:[{label:"Users",path:"/user"},{label:"My Account",path:"/user",active:!0}],title:"My Account"}),(0,A.jsx)(n.A,{children:(0,A.jsx)(i.A,{children:(0,A.jsx)(v,{})})})]})},11890:(e,s,r)=>{r.r(s),r.d(s,{default:()=>R});var a=r(27081),t=r(9950),l=r(9449),n=r(86781),i=r(68459),c=r(471),o=r(6863),m=r(83045),d=r(80409),x=r(64055),u=r(97937),p=r(41033),h=r(68984),b=r(63112),f=r(28429),_=r(80183),g=r(70030),j=r(26473),y=r(60666),A=r(19443),v=r(13236),N=r(98972),C=r(63758),k=r(32393),S=r(63647),w=r(44414);const Z=()=>{const e=(0,a.wA)(),{t:s}=(0,g.B)(),[r,p]=(0,t.useState)(""),[Z,F]=(0,t.useState)(),[E,R]=(0,t.useState)(""),B=(0,j.t)(y.Ik().shape({}));let{flats:I,user:$,customerUser:U}=(0,a.d4)((e=>({flats:e.Flat.flats,user:e.Auth.user,customerUser:e.CustomerAuth.user})));const[L,M]=(0,t.useState)(null);$||($=U);const[P,D]=(0,t.useState)(new Date),[T,V]=(0,t.useState)(new Date),[K,q]=(0,t.useState)(!0),[O,W]=(0,t.useState)(!1),z=(0,f.Zp)(),{register:G,handleSubmit:H,setValue:J,setError:Q,watch:X,formState:{errors:Y}}=(0,l.mN)({defaultValues:{unit:10,phone_number:"9601277532",parking_space:120,emergency_contact_number:"9601277532",emergency_contact_name:"jasmin",income_verification:230,total_rent:123,language:"eng",special_instruction:null},resolver:B}),ee=X("apartment_id"),se=H((s=>{W(!0),e((0,_.el)(s)).unwrap().then((e=>{e&&!0===e.status&&(p(e.message),window.scrollTo({top:0,behavior:"smooth"})),W(!1)})).catch((e=>{for(var s in e.errors)try{Q(s,{message:e.errors[s].toString()})}catch(r){}W(!1)}))}));return(0,t.useEffect)((()=>{e((0,A.q)()).unwrap().then((()=>{e((0,_.Tv)($.user_id)).unwrap().then((e=>{F(e),k.A.BASE_URL&&e.image_path&&M("".concat(k.A.BASE_URL,"/").concat(e.image_path)),J("id",e.user.id),J("unit",e.unit),J("first_name",e.user.first_name),J("last_name",e.user.last_name),J("email",e.user.email),J("phone_number",e.phone_number),e.user.apartment_id&&J("apartment_id",e.user.apartment_id),e.user.flat&&J("flat_id",e.user.flat.flat_id),J("parking_space",e.parking_space),J("locker",e.locker),J("emergency_contact_number",e.emergency_contact_number),J("emergency_contact_name",e.emergency_contact_name),J("income_verification",e.income_verification),J("total_rent",e.total_rent),J("special_instruction",e.special_instruction),J("relationship",e.relationship),J("birth_date",e.birth_date),J("movein_date",e.movein_date),J("emergency_contact_email",e.emergency_contact_email),J("base_rent",e.base_rent),J("utilities",e.utilities),J("maintenance_fees",e.maintenance_fees),J("property_taxes",e.property_taxes),J("rental_insurance",e.rental_insurance),J("parking_fees",e.parking_fees),J("service_fees",e.service_fees),J("administrative_fees",e.administrative_fees),J("storage_fees",e.storage_fees),J("cable_fees",e.cable_fees),J("wifi",e.wifi),D(new Date(e.movein_date)),V(new Date(e.birth_date))})).catch((e=>R(e.message)))}))}),[]),(0,w.jsxs)(w.Fragment,{children:[r&&(0,w.jsx)("div",{className:"alert alert-success",children:r}),E&&(0,w.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:E}),(0,w.jsxs)(n.A,{className:"gutters",children:[(0,w.jsx)(i.A,{lg:3,xl:3,md:12,children:(0,w.jsxs)(c.A,{children:[" ",Z&&(0,w.jsxs)(o.A,{children:[(0,w.jsxs)("div",{className:"text-center",children:[L&&(0,w.jsx)("img",{src:L,className:"rounded-4",alt:"{}",width:125}),(0,w.jsx)("h5",{className:"text-dark",children:null===Z||void 0===Z?void 0:Z.user.name}),(0,w.jsx)("h6",{className:"text-muted",children:null===Z||void 0===Z?void 0:Z.user.email})]}),(0,w.jsx)(N.t,{id:null===Z||void 0===Z?void 0:Z.user.id.toString()}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(v.R,{email:null===Z||void 0===Z?void 0:Z.user.email.toString()})}),(0,w.jsx)("div",{className:"mt-2",children:(0,w.jsx)(C.j,{id:null===Z||void 0===Z?void 0:Z.user.id.toString()})})]})]})}),(0,w.jsx)(i.A,{lg:9,xl:9,md:12,children:(0,w.jsx)(c.A,{children:(0,w.jsx)(o.A,{children:(0,w.jsxs)("form",{onSubmit:se,children:[(0,w.jsxs)(m.A,{defaultActiveKey:"profile",id:"fill-tab-example",className:"mb-3",children:[(0,w.jsxs)(d.A,{eventKey:"profile",title:"Profile",children:[(0,w.jsxs)(n.A,{className:"gutters",children:[(0,w.jsx)(i.A,{xl:12,children:(0,w.jsx)("h5",{className:"text-primary",children:"Personal information"})}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"First Name",type:"text",name:"first_name",className:"form-control-sm fs-5 ",containerClass:"mb-3",register:G,errors:Y,disabled:!0},"first_name")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Last Name",type:"text",name:"last_name",className:"form-control-sm fs-5 ",containerClass:"mb-3",register:G,errors:Y,disabled:!0},"last_name")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Phone#",type:"text",name:"phone_number",placeholder:"phone_number",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:G,errors:Y},"phone_number")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Email",type:"email",name:"email",placeholder:"Email",className:"form-control-sm fs-5 ",containerClass:"mb-3",register:G,errors:Y,disabled:!0},"email")}),(0,w.jsxs)(i.A,{xl:6,children:[(0,w.jsx)(h.Z,{type:"hidden",register:G,className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"me-2",name:"birth_date"},"birth_date"),(0,w.jsxs)("div",{className:"mb-3",children:[(0,w.jsx)("label",{className:"form-label",children:"Birth Date"})," ",(0,w.jsx)("br",{}),(0,w.jsx)(b.A,{hideAddon:!0,showTimeSelect:!1,maxDate:new Date,value:T,disabled:!0,onChange:e=>{V(e),J("birth_date",e.toLocaleString("sv-SE"))}}),Y&&Y.birth_date?(0,w.jsx)(x.A.Control.Feedback,{type:"invalid",children:Y.birth_date.message}):null]})]})]}),(0,w.jsxs)(n.A,{className:"gutters border border-success rounded mb-3",children:[(0,w.jsx)(i.A,{xl:12,children:(0,w.jsx)("h5",{className:"text-primary",children:"Emergency information"})}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Mobile Number",type:"text",name:"emergency_contact_number",placeholder:"Mobile Number",className:"form-control-sm fs-5",containerClass:"mb-3",register:G,errors:Y},"emergency_contact_number")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Emergency Contact Name",type:"text",name:"emergency_contact_name",placeholder:"Emergency Contact Name",className:"form-control-sm fs-5",containerClass:"mb-3 ",register:G,errors:Y},"emergency_contact_name")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Relationship",type:"text",name:"relationship",placeholder:"relationship",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:G,errors:Y},"relationship")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Emergency Contact Email",type:"text",name:"emergency_contact_email",placeholder:"Email",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:G,errors:Y},"emergency_contact_email")})]})]}),(0,w.jsx)(d.A,{eventKey:"rent",title:"Rents",children:(0,w.jsxs)(n.A,{className:"gutters",children:[(0,w.jsx)(i.A,{xl:12,children:(0,w.jsx)("h5",{className:"text-primary",children:"Tenant information"})}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Floorplan",type:"text",name:"unit",placeholder:"Floorplan",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:G,errors:Y,disabled:!0},"unit")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{type:"select",label:"Property",name:"apartment_id",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:G,errors:Y,disabled:!0,children:I.length&&I.map((e=>(0,w.jsx)("option",{value:e.id,children:e.name.toString()},"apartment".concat(e.id))))})}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{type:"select",label:"Suite",name:"flat_id",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:G,errors:Y,disabled:!0,children:$&&I.length&&I.map((e=>ee==e.id?(0,w.jsx)(w.Fragment,{children:e.flats.map((e=>(0,w.jsx)("option",{value:e.id,disabled:e.has_occupied,children:e.name},"flat"+e.id)))}):(0,w.jsx)(w.Fragment,{})))})}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Parking Space",type:"text",name:"parking_space",placeholder:"Parking",className:"form-control-sm fs-5 ",containerClass:"mb-3",register:G,errors:Y,disabled:!0},"parking_space")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Locker",type:"text",name:"locker",placeholder:"Locker",className:"form-control-sm fs-5",containerClass:"mb-3",register:G,errors:Y,disabled:!0},"locker")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Monthly Income",type:"text",name:"income_verification",placeholder:"Monthly Income",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:G,prefix:"$",errors:Y,disabled:!0},"income_verification")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Total Rent",type:"text",name:"total_rent",placeholder:"Rent",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:G,errors:Y,prefix:"$",disabled:!0},"total_rent")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Language",type:"text",name:"language",placeholder:"Language",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:G,errors:Y,disabled:!0},"language")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"FOB ID",type:"text",name:"fob",placeholder:"FOB",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:G,errors:Y,disabled:!0},"fob")}),(0,w.jsxs)(i.A,{xl:6,children:[(0,w.jsx)(h.Z,{type:"hidden",register:G,className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"me-2",name:"movein_date"},"movein_date"),(0,w.jsxs)("div",{className:"mb-3",children:[(0,w.jsx)("label",{className:"form-label",children:"Move In Date"})," ",(0,w.jsx)("br",{}),(0,w.jsx)(b.A,{hideAddon:!0,showTimeSelect:!1,value:P,disabled:!0,onChange:e=>{(e=>{e&&D(e)})(e),J("movein_date",e.toLocaleString("sv-SE"))}}),Y&&Y.movein_date?(0,w.jsx)(x.A.Control.Feedback,{type:"invalid",children:Y.movein_date.message}):null]})]}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Base Rent",type:"text",name:"base_rent",placeholder:"Base Rent",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:G,errors:Y,prefix:"$",disabled:!0},"base_rent")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Utilities",type:"text",name:"utilities",placeholder:"Utilities",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:G,errors:Y,prefix:"$",disabled:!0},"utilities")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Maintenance Fees",type:"text",name:"maintenance_fees",placeholder:"Maintenance Fees",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:G,errors:Y,prefix:"$",disabled:!0},"maintenance_fees")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Property Taxes",type:"text",name:"property_taxes",placeholder:"Property Taxes",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:G,errors:Y,prefix:"$",disabled:!0},"property_taxes")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Rental Insurance",type:"text",name:"rental_insurance",placeholder:"Rental Insurance",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:G,errors:Y,prefix:"$",disabled:!0},"rental_insurance")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Parking Fees",type:"text",name:"parking_fees",placeholder:"Parking Fees",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:G,errors:Y,prefix:"$",disabled:!0},"parking_fees")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Service Fees",type:"text",name:"service_fees",placeholder:"Service Fees",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:G,errors:Y,prefix:"$",disabled:!0},"service_fees")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Administrative Fees",type:"text",name:"administrative_fees",placeholder:"Administrative Fees",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:G,errors:Y,prefix:"$",disabled:!0},"administrative_fees")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Storage Fees",type:"text",name:"storage_fees",placeholder:"Storage Fees",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:G,errors:Y,prefix:"$",disabled:!0},"storage_fees")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Cable Fees",type:"text",name:"cable_fees",placeholder:"Cable Fees",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:G,errors:Y,prefix:"$",disabled:!0},"cable_fees")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"WIFI",type:"text",name:"wifi",placeholder:"WIFI",className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"d-block w-100",register:G,errors:Y,prefix:"$",disabled:!0},"wifi")}),(0,w.jsx)(i.A,{xl:6,children:(0,w.jsx)(h.Z,{label:"Special information",type:"textarea",name:"special_instruction",rows:"5",disabled:!0,className:"form-control-sm fs-5 ",containerClass:"mb-3",register:G,errors:Y},"special_instruction")})]})})]}),(0,w.jsx)(u.A,{onClick:()=>z(-1),variant:"primary",className:"me-2",type:"submit",children:"Back"}),O?(0,w.jsx)(S.m,{}):(0,w.jsx)(u.A,{variant:"primary",type:"submit",children:"Submit"})]})})})})]})]})},F=()=>(0,w.jsxs)(t.Fragment,{children:[(0,w.jsx)(p.A,{breadCrumbItems:[{label:"Users",path:"/user"},{label:"My Account",path:"/user",active:!0}],title:"My Account"}),(0,w.jsx)(n.A,{children:(0,w.jsx)(i.A,{children:(0,w.jsx)(Z,{})})})]});var E=r(93379);const R=()=>{let{user:e,userCustomer:s}=(0,a.d4)((e=>({user:e.Auth.user,userCustomer:e.CustomerAuth.user})));return s&&(e=s),(0,w.jsx)(w.Fragment,{children:e&&(e.user_role.includes("recident")?(0,w.jsx)(F,{}):(0,w.jsx)(E.default,{}))})}}}]);