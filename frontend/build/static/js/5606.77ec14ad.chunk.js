"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[5606],{80730:(e,s,t)=>{t.d(s,{A:()=>m});var a=t(9950),r=t(42074),l=t(471),n=t(86781),i=t(68459),o=t(36275),c=t(44414);const d=e=>{const[s,t]=(0,a.useState)([]),d=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";const t=s<0?0:s,a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(t))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.Ay,{...e,onDrop:a=>(a=>{var r=a;e.showPreview&&((a||[]).map((e=>Object.assign(e,{preview:"image"===e.type.split("/")[0]?URL.createObjectURL(e):null,formattedSize:d(e.size)}))),(r=s).push(...a),t(r)),e.onFileUpload&&e.onFileUpload(r)})(a),children:s=>{let{getRootProps:t,getInputProps:a}=s;return(0,c.jsx)("div",{className:"dropzone",children:(0,c.jsxs)("div",{className:"dz-message needsclick",...t(),children:[(0,c.jsx)("input",{...a()}),(0,c.jsx)("i",{className:"h3 text-muted dripicons-cloud-upload"}),(0,c.jsx)("h4",{children:e.title?e.title:"Drop Image or Document here or click to upload."}),(0,c.jsx)("span",{className:"text-muted font-13"})]})})}}),e.showPreview&&(0,c.jsx)("div",{className:"dropzone-previews mt-3",id:"uploadPreviewTemplate",children:(s||[]).map(((a,o)=>(0,c.jsx)(l.A,{className:"mt-1 mb-0 shadow-none border",children:(0,c.jsx)("div",{className:"p-2",children:(0,c.jsxs)(n.A,{className:"align-items-center",children:[a.preview&&(0,c.jsx)(i.A,{className:"col-auto",children:(0,c.jsx)("img",{"data-dz-thumbnail":"",className:"avatar-sm rounded bg-light",alt:a.name,src:a.preview})}),!a.preview&&(0,c.jsx)(i.A,{className:"col-auto",children:(0,c.jsx)("div",{className:"avatar-sm",children:(0,c.jsx)("span",{className:"avatar-title bg-primary rounded",children:a.type.split("/")[0]})})}),(0,c.jsxs)(i.A,{className:"ps-0",children:[(0,c.jsx)(r.N_,{to:"#",className:"text-muted fw-bold",children:a.name}),(0,c.jsx)("p",{className:"mb-0",children:(0,c.jsx)("strong",{children:a.formattedSize})})]}),(0,c.jsx)(i.A,{className:"text-end",children:(0,c.jsx)(r.N_,{to:"#",className:"btn btn-link btn-lg text-muted shadow-none",children:(0,c.jsx)("i",{className:"dripicons-cross",onClick:()=>(a=>{const r=[...s];r.splice(a,1),t(r),e.onFileUpload&&e.onFileUpload(r)})(o)})})})]})})},o+"-file")))})]})};d.defaultProps={showPreview:!0};const m=d},45606:(e,s,t)=>{t.r(s),t.d(s,{default:()=>N});var a=t(9950),r=t(86781),l=t(68459),n=t(97937),i=t(44268),o=t(60666),c=t(26473),d=t(68984),m=t(9449),u=t(80730),h=t(27081),x=t(80183),p=t(88249),j=t(44414);const g=e=>{let{show:s,onHide:t,onSubmit:r}=e;const l=(0,c.t)(o.Ik().shape({})),g=(0,h.wA)(),[N,v]=(0,a.useState)(""),[b,f]=(0,a.useState)(!1),[w,A]=(0,a.useState)("");(0,a.useEffect)((()=>{A(""),v("")}),[s]);const{register:S,handleSubmit:y,setValue:B,setError:k,reset:C,control:F,formState:{errors:U}}=(0,m.mN)({defaultValues:{},resolver:l}),z=y((e=>{f(!0),v(""),A(""),g((0,x._O)(e)).unwrap().then((e=>{e&&!0===e.status&&(v(e.message),A(e.errors),B("documents",[]),C()),f(!1)})).catch((e=>{A(e.message),v(""),f(!1)}))}));return(0,j.jsxs)(i.A,{show:s,onHide:t,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,dialogClassName:"modal-lg",children:[(0,j.jsx)(i.A.Header,{className:"bg-light",onHide:t,closeButton:!0,children:(0,j.jsx)(i.A.Title,{className:"m-0",children:"Create a bug or provide a suggesion"})}),(0,j.jsxs)(i.A.Body,{className:"p-4",children:[N&&(0,j.jsx)("div",{className:"alert alert-success",children:N}),w&&(0,j.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",dangerouslySetInnerHTML:{__html:w}}),(0,j.jsxs)("form",{onSubmit:z,children:[(0,j.jsx)(d.Z,{label:"Title",type:"text",name:"title",className:"form-control-sm fs-5",containerClass:"mb-3",register:S,errors:U},"title"),(0,j.jsx)(d.Z,{label:"Description",type:"textarea",name:"description",rows:"5",className:"form-control-sm fs-5",containerClass:"mb-3",register:S,errors:U},"description"),(0,j.jsx)(m.xI,{render:()=>(0,j.jsx)(u.A,{maxFiles:3,onFileUpload:e=>{B("documents",e)}}),name:"documents",control:F}),(0,j.jsxs)("div",{className:"text-end mt-2",children:[b?(0,j.jsx)(p.m,{}):(0,j.jsx)(n.A,{variant:"success",type:"submit",className:"waves-effect waves-light me-1",children:"Create"}),(0,j.jsx)(n.A,{variant:"danger",className:"waves-effect waves-light",onClick:t,children:"Exit"})]})]})]})]})},N=()=>{const e=(new Date).getFullYear();let{user:s,customerUser:t}=(0,h.d4)((e=>({user:e.Auth.user,customerUser:e.CustomerAuth.user})));s||(s=t);const[i,o]=(0,a.useState)(!1);return(0,j.jsxs)(a.Fragment,{children:[(0,j.jsxs)("footer",{className:"footer",children:[(0,j.jsx)("div",{className:"container-fluid",children:(0,j.jsx)(r.A,{children:(0,j.jsxs)(l.A,{md:6,children:[e," \xa9 Ujatcare "]})})}),(s.user_role.includes("admin")||s.user_role.includes("staff"))&&(0,j.jsxs)(n.A,{className:"position-fixed bottom-0 end-0 me-3 mb-3 z-3",onClick:()=>o(!0),children:["  ",(0,j.jsx)("i",{className:"bi bi-bug",title:" Experiencing issue?"})]})]}),(0,j.jsx)(g,{show:i,onHide:()=>{o(!1)},onSubmit:()=>{}})]})}}}]);