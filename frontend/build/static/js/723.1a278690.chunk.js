"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[723],{63647:(e,s,a)=>{a.d(s,{m:()=>l});var t=a(95252),r=a(44414);const l=()=>(0,r.jsx)(t.A,{animation:"border",role:"status",children:(0,r.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},63112:(e,s,a)=>{a.d(s,{A:()=>n});var t=a(72348),r=a.n(t),l=(a(4434),a(44414));const n=e=>(0,l.jsx)(l.Fragment,{children:e.showTimeSelectOnly?(0,l.jsx)(r(),{name:e.name,timeIntervals:e.tI,selected:e.value,onChange:s=>e.onChange(s),showTimeSelect:e.showTimeSelect,timeFormat:"hh:mm a",timeCaption:e.timeCaption,dateFormat:"hh:mm",className:"form-control",minDate:e.minDate,scrollableYearDropdown:!0,scrollableMonthYearDropdown:!0,maxDate:e.maxDate,disabled:e.disabled,monthsShown:e.monthsShown,wrapperClassName:"is-invalid",showTimeSelectOnly:e.showTimeSelectOnly,inline:e.inline,autoComplete:"off"}):(0,l.jsx)(r(),{name:e.name,timeIntervals:e.tI,selected:e.value,onChange:s=>e.onChange(s),showTimeSelect:e.showTimeSelect,timeFormat:"hh:mm a",timeCaption:e.timeCaption,dateFormat:e.dateFormat,minDate:e.minDate,disabled:e.disabled,wrapperClassName:"is-invalid",className:"form-control",maxDate:e.maxDate,showMonthDropdown:!0,showYearDropdown:!0,scrollableMonthYearDropdown:!0,monthsShown:e.monthsShown,showTimeSelectOnly:e.showTimeSelectOnly,inline:e.inline,autoComplete:"off"})})},41033:(e,s,a)=>{a.d(s,{A:()=>i});a(9950);var t=a(86781),r=a(68459),l=a(81924),n=a(44414);const i=e=>(0,n.jsx)(t.A,{children:(0,n.jsx)(r.A,{children:(0,n.jsxs)("div",{className:"page-title-box",children:[(0,n.jsx)("div",{className:"page-title-right",children:(0,n.jsxs)(l.A,{className:"m-0",children:[(0,n.jsx)(l.A.Item,{href:"/",children:"Home"}),(e.breadCrumbItems||[]).map(((e,s)=>e.active?(0,n.jsx)(l.A.Item,{active:!0,children:e.label},s):(0,n.jsx)(l.A.Item,{href:e.path,children:e.label},s)))]})}),(0,n.jsx)("h4",{className:"page-title",children:e.title})]})})})},68984:(e,s,a)=>{a.d(s,{Z:()=>h,z:()=>n});var t=a(9950),r=a(9449),l=a(44414);const n=e=>{let{defaultValues:s,resolver:a,children:n,onSubmit:i,formClass:o}=e;const c=(0,r.mN)({defaultValues:s,resolver:a}),{handleSubmit:d,register:m,control:h,formState:{errors:x}}=c;return(0,l.jsx)("form",{onSubmit:d(i),className:o,noValidate:!0,children:Array.isArray(n)?n.map((e=>e.props&&e.props.name?t.createElement(e.type,{...{...e.props,register:m,key:e.props.name,errors:x,control:h}}):e)):n})};var i=a(75623),o=a(64055),c=a(48738),d=a.n(c);const m=e=>{let{name:s,placeholder:a,refCallback:r,errors:n,control:c,register:m,className:h}=e;const[x,p]=(0,t.useState)(!1);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(i.A,{className:"mb-0",children:[(0,l.jsx)(o.A.Control,{type:x?"text":"password",placeholder:a,name:s,id:s,as:"input",ref:e=>{r&&r(e)},className:h,isInvalid:!(!n||!n[s]),...m?m(s):{},autoComplete:s}),(0,l.jsx)("div",{className:d()("input-group-text","input-group-password",{"show-password":x}),"data-password":x?"true":"false",children:(0,l.jsx)("span",{className:"password-eye",onClick:()=>{p(!x)}})})]})})},h=e=>{let{label:s,type:a,name:t,placeholder:r,register:n,errors:i,control:c,className:d,labelClassName:h,containerClass:x,refCallback:p,children:u,rows:j,prefix:b,...f}=e;const N="textarea"===a?"textarea":"select"===a?"select":"input";return(0,l.jsx)(l.Fragment,{children:"hidden"===a?(0,l.jsx)("input",{type:a,name:t,id:t,...n?n(t):{},...f,className:d}):(0,l.jsx)(l.Fragment,{children:"password"===a?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(o.A.Group,{className:x,children:[s?(0,l.jsxs)(l.Fragment,{children:[" ",(0,l.jsx)(o.A.Label,{className:h,children:s})," ",u," "]}):null,(0,l.jsx)(m,{name:t,placeholder:r,refCallback:p,errors:i,register:n,className:d}),i&&i[t]?(0,l.jsx)(o.A.Control.Feedback,{type:"invalid",className:"d-block",children:i[t].message}):null]})}):(0,l.jsx)(l.Fragment,{children:"checkbox"===a||"radio"===a?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(o.A.Group,{className:x,children:[(0,l.jsx)(o.A.Check,{type:a,label:s,name:t,id:t,ref:e=>{p&&p(e)},className:d,isInvalid:!(!i||!i[t]),...n?n(t):{},...f}),i&&i[t]?(0,l.jsx)(o.A.Control.Feedback,{type:"invalid",children:i[t].message}):null]})}):(0,l.jsxs)(o.A.Group,{className:x,children:[s?(0,l.jsx)(o.A.Label,{className:h,children:s}):null,b?(0,l.jsx)("span",{className:"input-group-text",id:t,children:b}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)(o.A.Control,{type:a,placeholder:r,name:t,id:t,as:N,ref:e=>{p&&p(e)},className:d,isInvalid:!(!i||!i[t]),...n?n(t):{},rows:j,...f,autoComplete:t,children:u||null}),i&&i[t]?(0,l.jsx)(o.A.Control.Feedback,{type:"invalid",children:i[t].message}):null]})})})})}},80723:(e,s,a)=>{a.r(s),a.d(s,{default:()=>S});var t=a(9950),r=a(64055),l=a(86781),n=a(68459),i=a(471),o=a(97937),c=a(28429),d=a(48738),m=a.n(d),h=a(41033),x=a(60666),p=a(27081),u=a(26473),j=a(41757),b=a(94166),f=a(9449),N=a(68984),v=a(63647),g=a(63112),y=a(44414);const w=e=>{let{row:s,register:a,errors:t}=e;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(N.Z,{label:"Status",type:"select",name:"invoice_status",className:"form-control-sm fs-5",containerClass:"mb-3",labelClassName:" d-none",register:a,errors:t,children:Object.keys(b.n).map((e=>(0,y.jsx)("option",{value:e,children:b.n[e]},"status".concat(e))))},"invoice_status")})},A=e=>{let{row:s}=e;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("h5",{children:(0,y.jsx)("span",{className:m()("badge",{"bg-success":null!==s.quickbook_id,"bg-warning":null===s.quickbook_id}),children:s.quickbook_id?"Syced":"Not Synced"})})})},C=e=>{let{invoice:s,register:a,errors:l,setValue:n}=e;console.log(s.due_date,"Asdf");const[i,o]=(0,t.useState)(new Date(s.due_date.toString()));return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"track-order-list",children:(0,y.jsxs)("ul",{className:"list-unstyled",children:[(0,y.jsxs)("li",{className:"completed",children:[(0,y.jsx)("div",{children:(0,y.jsx)("h5",{className:"mt-0 mb-1",children:"Invoice Created"})}),(0,y.jsx)("div",{children:(0,y.jsx)("p",{className:"text-muted",children:s.created_at})})]}),(0,y.jsxs)("li",{className:"completed",children:[(0,y.jsx)("h5",{className:"mt-0 mb-1",children:"Due Date"}),(0,y.jsxs)("div",{className:"text-muted",children:[(0,y.jsx)(g.A,{hideAddon:!0,showTimeSelect:!1,minDate:new Date,value:i,onChange:e=>{o(e),n("due_date",e.toLocaleString("sv-SE"))}}),l&&l.due_date?(0,y.jsx)(r.A.Control.Feedback,{type:"invalid",children:l.due_date.message}):null]})]})]})}),(0,y.jsx)("div",{children:(0,y.jsxs)("ul",{className:"list-group",children:[(0,y.jsxs)("li",{className:"list-group-item",children:[(0,y.jsx)("div",{children:(0,y.jsx)("h5",{className:"mt-0 mb-1",children:"QuickBook Status"})}),(0,y.jsx)("div",{className:"text-muted",children:(0,y.jsx)(A,{row:s})})]}),(0,y.jsxs)("li",{className:"list-group-item",children:[(0,y.jsx)("div",{children:(0,y.jsx)("h5",{className:"mt-0 mb-1",children:"Order Status"})}),(0,y.jsx)("div",{children:(0,y.jsx)("div",{className:"text-muted",children:(0,y.jsx)(w,{row:s,register:a,errors:l})})})]})]})})]})},k=e=>{let{invoice:s,register:a,errors:t}=e;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:"table-responsive mb-2",children:(0,y.jsxs)("table",{className:"table table-bordered table-centered mb-0",children:[(0,y.jsx)("thead",{className:"table-light",children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{children:"Name"}),(0,y.jsx)("th",{children:"Quantity"}),(0,y.jsx)("th",{children:"Total"})]})}),(0,y.jsxs)("tbody",{children:[(s.items||[]).map(((e,s)=>(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{scope:"row",children:(0,y.jsx)(N.Z,{label:"Name",type:"text",register:a,name:"name",errors:t,className:"form-control-sm",containerClass:"mb-3 input-group",labelClassName:"d-none",size:2},"name")}),(0,y.jsx)("td",{children:e.qty}),(0,y.jsx)("td",{children:(0,y.jsx)(N.Z,{label:"Total",type:"text",register:a,name:"total",errors:t,className:"form-control-sm",containerClass:"mb-3 input-group",labelClassName:"d-none",size:2},"total")})]},s))),(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{scope:"row",colSpan:2,className:"text-end",children:"Total :"}),(0,y.jsx)("td",{children:(0,y.jsxs)("div",{className:"fw-bold",children:[" ",s.items[0].total]})})]})]})]})})})},S=()=>{const e=(0,c.g)(),s=(0,u.t)(x.Ik().shape({})),a=(0,p.wA)(),[r,d]=(0,t.useState)(null),[m,b]=(0,t.useState)(""),[g,w]=(0,t.useState)(""),[A,S]=(0,t.useState)(!1);(0,t.useEffect)((()=>{a((0,j.XS)(e.id)).unwrap().then((e=>{d(e),P("name",e.items[0].name),P("invoice_status",e.status),P("due_date",e.due_date),P("total",e.items[0].total),P("id",e.id)}))}),[]);const F=(0,f.mN)({defaultValues:{},resolver:s}),{handleSubmit:I,register:T,setError:R,control:D,setValue:P,formState:{errors:_}}=F,O=I((async e=>{S(!0),a((0,j.RH)(e)).unwrap().then((e=>{e&&!0===e.status?(b(e.message),w(""),window.scrollTo({top:0,behavior:"smooth"})):w(null===e||void 0===e?void 0:e.message),S(!1)})).catch((e=>{for(var s in e.errors)try{R(s,{message:e.errors[s].toString()})}catch(a){}S(!1)}))}));return(0,y.jsxs)(t.Fragment,{children:[(0,y.jsx)(h.A,{breadCrumbItems:[{label:"Rent History",path:"/invoice"},{label:"Rent Edit",path:"/invoice/id",active:!0}],title:"Rent Edit"}),r&&(0,y.jsxs)("form",{onSubmit:O,children:[m&&(0,y.jsx)("div",{className:"alert alert-success",children:m}),g&&(0,y.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",dangerouslySetInnerHTML:{__html:g}}),(0,y.jsxs)(l.A,{children:[(0,y.jsx)(n.A,{lg:4,children:(0,y.jsx)(i.A,{children:(0,y.jsxs)(i.A.Body,{children:[(0,y.jsx)("h4",{className:"header-title mb-3",children:"Track Order"}),(0,y.jsxs)(l.A,{children:[(0,y.jsx)(n.A,{lg:6,children:(0,y.jsxs)("div",{className:"mb-4",children:[(0,y.jsx)("h5",{className:"mt-0",children:"Order ID:"}),(0,y.jsx)("p",{children:r.id})]})}),(0,y.jsx)(n.A,{lg:6,children:(0,y.jsxs)("div",{className:"mb-4",children:[(0,y.jsx)("h5",{className:"mt-0",children:"Quickbook ID:"}),(0,y.jsx)("p",{children:r.quickbook_id})]})})]}),(0,y.jsx)(N.Z,{type:"hidden",register:T,name:"id"}),(0,y.jsx)(C,{invoice:r,register:T,errors:_,setValue:P})]})})}),(0,y.jsx)(n.A,{lg:8,children:(0,y.jsx)(i.A,{children:(0,y.jsxs)(i.A.Body,{children:[(0,y.jsxs)("h4",{className:"header-title mb-3",children:["Items from Order ",r.id]}),(0,y.jsx)(k,{invoice:r,register:T,errors:_}),A?(0,y.jsx)(v.m,{}):(0,y.jsx)(o.A,{variant:"primary",type:"submit",children:"Submit"})]})})}),(0,y.jsx)(n.A,{lg:12})]})]})]})}},94166:(e,s,a)=>{a.d(s,{n:()=>t});const t={0:"Unpaid",1:"Payment Failed",2:"Paid"}},97937:(e,s,a)=>{a.d(s,{A:()=>d});var t=a(48738),r=a.n(t),l=a(9950),n=a(82111),i=a(44089),o=a(44414);const c=l.forwardRef(((e,s)=>{let{as:a,bsPrefix:t,variant:l="primary",size:c,active:d=!1,disabled:m=!1,className:h,...x}=e;const p=(0,i.oU)(t,"btn"),[u,{tagName:j}]=(0,n.Am)({tagName:a,disabled:m,...x}),b=j;return(0,o.jsx)(b,{...u,...x,ref:s,disabled:m,className:r()(h,p,d&&"active",l&&"".concat(p,"-").concat(l),c&&"".concat(p,"-").concat(c),x.href&&m&&"disabled")})}));c.displayName="Button";const d=c},22890:(e,s,a)=>{a.d(s,{Tj:()=>r,jJ:()=>l,mf:()=>n});var t=a(9950);function r(e,s){let a=0;return t.Children.map(e,(e=>t.isValidElement(e)?s(e,a++):e))}function l(e,s){let a=0;t.Children.forEach(e,(e=>{t.isValidElement(e)&&s(e,a++)}))}function n(e,s){return t.Children.toArray(e).some((e=>t.isValidElement(e)&&e.type===s))}},64055:(e,s,a)=>{a.d(s,{A:()=>z});var t=a(48738),r=a.n(t),l=a(11942),n=a.n(l),i=a(9950),o=a(44414);const c={type:n().string,tooltip:n().bool,as:n().elementType},d=i.forwardRef(((e,s)=>{let{as:a="div",className:t,type:l="valid",tooltip:n=!1,...i}=e;return(0,o.jsx)(a,{...i,ref:s,className:r()(t,"".concat(l,"-").concat(n?"tooltip":"feedback"))})}));d.displayName="Feedback",d.propTypes=c;const m=d;var h=a(14531),x=a(99288),p=a(44089);const u=i.forwardRef(((e,s)=>{let{bsPrefix:a,className:t,htmlFor:l,...n}=e;const{controlId:c}=(0,i.useContext)(x.A);return a=(0,p.oU)(a,"form-check-label"),(0,o.jsx)("label",{...n,ref:s,htmlFor:l||c,className:r()(t,a)})}));u.displayName="FormCheckLabel";const j=u;var b=a(22890);const f=i.forwardRef(((e,s)=>{let{id:a,bsPrefix:t,bsSwitchPrefix:l,inline:n=!1,reverse:c=!1,disabled:d=!1,isValid:u=!1,isInvalid:f=!1,feedbackTooltip:N=!1,feedback:v,feedbackType:g,className:y,style:w,title:A="",type:C="checkbox",label:k,children:S,as:F="input",...I}=e;t=(0,p.oU)(t,"form-check"),l=(0,p.oU)(l,"form-switch");const{controlId:T}=(0,i.useContext)(x.A),R=(0,i.useMemo)((()=>({controlId:a||T})),[T,a]),D=!S&&null!=k&&!1!==k||(0,b.mf)(S,j),P=(0,o.jsx)(h.A,{...I,type:"switch"===C?"checkbox":C,ref:s,isValid:u,isInvalid:f,disabled:d,as:F});return(0,o.jsx)(x.A.Provider,{value:R,children:(0,o.jsx)("div",{style:w,className:r()(y,D&&t,n&&"".concat(t,"-inline"),c&&"".concat(t,"-reverse"),"switch"===C&&l),children:S||(0,o.jsxs)(o.Fragment,{children:[P,D&&(0,o.jsx)(j,{title:A,children:k}),v&&(0,o.jsx)(m,{type:g,tooltip:N,children:v})]})})})}));f.displayName="FormCheck";const N=Object.assign(f,{Input:h.A,Label:j});a(2241);const v=i.forwardRef(((e,s)=>{let{bsPrefix:a,type:t,size:l,htmlSize:n,id:c,className:d,isValid:m=!1,isInvalid:h=!1,plaintext:u,readOnly:j,as:b="input",...f}=e;const{controlId:N}=(0,i.useContext)(x.A);return a=(0,p.oU)(a,"form-control"),(0,o.jsx)(b,{...f,type:t,size:n,ref:s,readOnly:j,id:c||N,className:r()(d,u?"".concat(a,"-plaintext"):a,l&&"".concat(a,"-").concat(l),"color"===t&&"".concat(a,"-color"),m&&"is-valid",h&&"is-invalid")})}));v.displayName="FormControl";const g=Object.assign(v,{Feedback:m}),y=i.forwardRef(((e,s)=>{let{className:a,bsPrefix:t,as:l="div",...n}=e;return t=(0,p.oU)(t,"form-floating"),(0,o.jsx)(l,{ref:s,className:r()(a,t),...n})}));y.displayName="FormFloating";const w=y;var A=a(584),C=a(90729);const k=i.forwardRef(((e,s)=>{let{bsPrefix:a,className:t,id:l,...n}=e;const{controlId:c}=(0,i.useContext)(x.A);return a=(0,p.oU)(a,"form-range"),(0,o.jsx)("input",{...n,type:"range",ref:s,className:r()(t,a),id:l||c})}));k.displayName="FormRange";const S=k,F=i.forwardRef(((e,s)=>{let{bsPrefix:a,size:t,htmlSize:l,className:n,isValid:c=!1,isInvalid:d=!1,id:m,...h}=e;const{controlId:u}=(0,i.useContext)(x.A);return a=(0,p.oU)(a,"form-select"),(0,o.jsx)("select",{...h,size:l,ref:s,className:r()(n,a,t&&"".concat(a,"-").concat(t),c&&"is-valid",d&&"is-invalid"),id:m||u})}));F.displayName="FormSelect";const I=F,T=i.forwardRef(((e,s)=>{let{bsPrefix:a,className:t,as:l="small",muted:n,...i}=e;return a=(0,p.oU)(a,"form-text"),(0,o.jsx)(l,{...i,ref:s,className:r()(t,a,n&&"text-muted")})}));T.displayName="FormText";const R=T,D=i.forwardRef(((e,s)=>(0,o.jsx)(N,{...e,ref:s,type:"switch"})));D.displayName="Switch";const P=Object.assign(D,{Input:N.Input,Label:N.Label}),_=i.forwardRef(((e,s)=>{let{bsPrefix:a,className:t,children:l,controlId:n,label:i,...c}=e;return a=(0,p.oU)(a,"form-floating"),(0,o.jsxs)(A.A,{ref:s,className:r()(t,a),controlId:n,...c,children:[l,(0,o.jsx)("label",{htmlFor:n,children:i})]})}));_.displayName="FloatingLabel";const O=_,V={_ref:n().any,validated:n().bool,as:n().elementType},U=i.forwardRef(((e,s)=>{let{className:a,validated:t,as:l="form",...n}=e;return(0,o.jsx)(l,{...n,ref:s,className:r()(a,t&&"was-validated")})}));U.displayName="Form",U.propTypes=V;const z=Object.assign(U,{Group:A.A,Control:g,Floating:w,Check:N,Switch:P,Label:C.A,Text:R,Range:S,Select:I,FloatingLabel:O})},14531:(e,s,a)=>{a.d(s,{A:()=>d});var t=a(48738),r=a.n(t),l=a(9950),n=a(99288),i=a(44089),o=a(44414);const c=l.forwardRef(((e,s)=>{let{id:a,bsPrefix:t,className:c,type:d="checkbox",isValid:m=!1,isInvalid:h=!1,as:x="input",...p}=e;const{controlId:u}=(0,l.useContext)(n.A);return t=(0,i.oU)(t,"form-check-input"),(0,o.jsx)(x,{...p,ref:s,type:d,id:a||u,className:r()(c,t,m&&"is-valid",h&&"is-invalid")})}));c.displayName="FormCheckInput";const d=c},584:(e,s,a)=>{a.d(s,{A:()=>i});var t=a(9950),r=a(99288),l=a(44414);const n=t.forwardRef(((e,s)=>{let{controlId:a,as:n="div",...i}=e;const o=(0,t.useMemo)((()=>({controlId:a})),[a]);return(0,l.jsx)(r.A.Provider,{value:o,children:(0,l.jsx)(n,{...i,ref:s})})}));n.displayName="FormGroup";const i=n},75623:(e,s,a)=>{a.d(s,{A:()=>x});var t=a(48738),r=a.n(t),l=a(9950),n=a(44089),i=a(14531),o=a(54947),c=a(44414);const d=l.forwardRef(((e,s)=>{let{className:a,bsPrefix:t,as:l="span",...i}=e;return t=(0,n.oU)(t,"input-group-text"),(0,c.jsx)(l,{ref:s,className:r()(a,t),...i})}));d.displayName="InputGroupText";const m=d,h=l.forwardRef(((e,s)=>{let{bsPrefix:a,size:t,hasValidation:i,className:d,as:m="div",...h}=e;a=(0,n.oU)(a,"input-group");const x=(0,l.useMemo)((()=>({})),[]);return(0,c.jsx)(o.A.Provider,{value:x,children:(0,c.jsx)(m,{ref:s,...h,className:r()(d,a,t&&"".concat(a,"-").concat(t),i&&"has-validation")})})}));h.displayName="InputGroup";const x=Object.assign(h,{Text:m,Radio:e=>(0,c.jsx)(m,{children:(0,c.jsx)(i.A,{type:"radio",...e})}),Checkbox:e=>(0,c.jsx)(m,{children:(0,c.jsx)(i.A,{type:"checkbox",...e})})})},95252:(e,s,a)=>{a.d(s,{A:()=>c});var t=a(48738),r=a.n(t),l=a(9950),n=a(44089),i=a(44414);const o=l.forwardRef(((e,s)=>{let{bsPrefix:a,variant:t,animation:l="border",size:o,as:c="div",className:d,...m}=e;a=(0,n.oU)(a,"spinner");const h="".concat(a,"-").concat(l);return(0,i.jsx)(c,{ref:s,...m,className:r()(d,h,o&&"".concat(h,"-").concat(o),t&&"text-".concat(t))})}));o.displayName="Spinner";const c=o}}]);