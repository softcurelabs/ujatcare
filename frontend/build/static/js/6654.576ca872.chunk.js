"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[6654],{6654:(e,r,a)=>{a.r(r),a.d(r,{default:()=>g});var s=a(47313),t=a(65832),l=a(63849),n=a(31616),i=a(93298),c=a(51450),o=a(52487),d=a(62563),m=a(3463),h=a(24511),u=a(75627),j=a(1084),x=a(20253),p=a(33689),b=a(46417);const f=()=>{const{t:e}=(0,h.$)(),r=(0,d.X)(m.Ry().shape({name:m.Z_().required(e("Please select name")),email:m.Z_().required(e("Please select name")).email(e("Please valid Email")),role_id:m.Z_().required(e("Please select role"))})),[a,c]=(0,s.useState)(""),[f,g]=(0,s.useState)(""),y=(0,j.I0)(),{flats:v}=(0,j.v9)((e=>({flats:e.Flat.flats})));(0,s.useEffect)((()=>{y((0,x.i)())}),[]);const{register:Z,handleSubmit:S,setError:w,setValue:C,reset:_,formState:{errors:N}}=(0,u.cI)({defaultValues:{},resolver:r}),k=S((async e=>{y((0,p.Uy)(e)).unwrap().then((e=>{e&&!0===e.status&&c(e.message)})).catch((e=>{for(var r in e.errors)try{w(r,{message:e.errors[r].toString()})}catch(a){}}))}));return(0,b.jsxs)(b.Fragment,{children:[a&&(0,b.jsx)("div",{className:"alert alert-success",children:a}),f&&(0,b.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:f}),(0,b.jsx)(t.Z,{children:(0,b.jsx)(t.Z.Body,{children:(0,b.jsxs)(l.Z,{children:[(0,b.jsx)(n.Z,{lg:6,children:(0,b.jsxs)("form",{onSubmit:k,children:[(0,b.jsx)(o.y,{label:"Name",type:"text",register:Z,name:"name",errors:N,rows:"5",containerClass:"mb-3"},"name"),(0,b.jsx)(o.y,{label:"Email",type:"text",register:Z,name:"email",errors:N,rows:"5",containerClass:"mb-3"},"email"),(0,b.jsxs)(o.y,{type:"select",label:"Role",name:"role_id",containerClass:"mb-3",register:Z,errors:N,children:[(0,b.jsx)("option",{value:"",children:"Select Role"}),(0,b.jsx)("option",{value:"renter",children:"Renter"}),(0,b.jsx)("option",{value:"admin",children:"Admin"})]}),(0,b.jsx)(o.y,{type:"select",label:"Apartment#",name:"flat_id",containerClass:"mb-3",register:Z,errors:N,children:v.length&&v.map((e=>(0,b.jsx)("optgroup",{label:e.name.toString(),children:e.flats.map((e=>(0,b.jsx)("option",{value:e.id,children:e.name},"flat"+e.id)))},"apartment".concat(e.id))))}),(0,b.jsx)(i.Z,{variant:"primary",type:"submit",children:"Create User"})]})}),(0,b.jsx)(n.Z,{lg:6}),(0,b.jsx)(n.Z,{lg:3})]})})})]})},g=()=>(0,b.jsxs)(s.Fragment,{children:[(0,b.jsx)(c.Z,{breadCrumbItems:[{label:"Dashboard",path:"/dashboard-2"},{label:"Users",path:"/user"},{label:"New Staff",path:"/notice/new",active:!0}],title:"New Staff"}),(0,b.jsx)(l.Z,{children:(0,b.jsx)(n.Z,{children:(0,b.jsx)(f,{})})})]})}}]);