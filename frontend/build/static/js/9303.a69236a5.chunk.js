"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[9303],{49172:(e,t,n)=>{n.d(t,{A:()=>c});n(9950);var s=n(90706),a=n(28339),l=n(36404),r=n(79947),i=n(63996),d=n(44414);const c=e=>{let{onDateClick:t,onEventClick:n,onDrop:c,onEventDrop:o,events:m}=e;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{id:"calendar",children:(0,d.jsx)(s.Ay$,{initialView:"dayGridMonth",plugins:[a.Ay,l.Ay,r.A,i.A],handleWindowResize:!0,themeSystem:"bootstrap",buttonText:{today:"Today",month:"Month",week:"Week",day:"Day",list:"List",prev:"Prev",next:"Next"},headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},editable:!0,selectable:!0,droppable:!0,events:m,dateClick:e=>{t(e)},eventClick:e=>{n(e)},drop:e=>{c(e)},eventDrop:e=>{o(e)}})})})}},99303:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var s=n(9950),a=n(86781),l=n(68459),r=n(56035),i=(n(90706),n(36404)),d=n(86133),c=n(49172),o=n(9449),m=n(44268),h=n(97937),v=n(60666),x=n(26473),p=n(82612),u=n(44414);const j=e=>{let{isOpen:t,onClose:n,isEditable:r,eventData:i,onRemoveEvent:d,onUpdateEvent:c,onAddEvent:j}=e;const[g]=(0,s.useState)(i),b=(0,x.t)(v.Ik().shape({title:v.Yj().required("Please enter event name"),className:v.Yj().required("Please select category")})),A=(0,o.mN)({defaultValues:{title:g.title,className:g.className?String(g.className):"bg-danger"},resolver:b}),{handleSubmit:N,register:y,control:E,formState:{errors:f}}=A;return(0,u.jsxs)(m.A,{show:t,onHide:n,children:[(0,u.jsx)(m.A.Header,{className:"py-3 px-4 border-bottom-0",closeButton:!0,children:(0,u.jsx)(m.A.Title,{as:"h5",id:"modal-title",children:r?"Edit Event":"Add New Event"})}),(0,u.jsx)(m.A.Body,{className:"px-4 pb-4 pt-0",children:(0,u.jsxs)("form",{noValidate:!0,name:"chat-form",id:"chat-form",onSubmit:N((e=>{r?c(e):j(e)})),children:[(0,u.jsxs)(a.A,{children:[(0,u.jsx)(l.A,{sm:12,children:(0,u.jsx)(p.Z,{type:"text",label:"Event Name",name:"title",className:"form-control",placeholder:"Insert Event Name",containerClass:"mb-3",register:y,errors:f,control:E},"title")}),(0,u.jsx)(l.A,{sm:12,children:(0,u.jsxs)(p.Z,{type:"select",label:"Category",name:"className",containerClass:"mb-3",register:y,errors:f,control:E,children:[(0,u.jsx)("option",{value:"bg-danger",children:"Danger"}),(0,u.jsx)("option",{value:"bg-success",children:"Success"}),(0,u.jsx)("option",{value:"bg-primary",children:"Primary"}),(0,u.jsx)("option",{value:"bg-info",children:"Info"}),(0,u.jsx)("option",{value:"bg-dark",children:"Dark"}),(0,u.jsx)("option",{value:"bg-warning",children:"Warning"})]},"className")})]}),(0,u.jsxs)(a.A,{className:"mt-2",children:[(0,u.jsx)(l.A,{xs:4,children:r?(0,u.jsx)(h.A,{variant:"danger",onClick:d,children:"Delete"}):null}),(0,u.jsxs)(l.A,{xs:8,className:"text-end",children:[(0,u.jsx)(h.A,{className:"btn btn-light me-1",onClick:n,children:"Close"}),(0,u.jsx)(h.A,{variant:"success",type:"submit",className:"btn btn-success",children:"Save"})]})]})]})})]})};var g=n(49462),b=n(75733);const A=()=>(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{id:"external-events"})}),N=()=>{const[e,t]=(0,s.useState)(!1),n=()=>{t(!1),y({}),f({})},o=()=>t(!0),[m,h]=(0,s.useState)(!1),v=(0,b.j)(),[x,p]=(0,s.useState)([]),[N,y]=(0,s.useState)({}),[E,f]=(0,s.useState)({});(0,s.useEffect)((()=>{let e=document.getElementById("external-events");new i.sx(e,{itemSelector:".external-event"})}),[]);return(0,s.useEffect)((()=>{v((0,g.v6)()).unwrap().then((e=>{p(e)}))}),[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(d.A,{breadCrumbItems:[{label:"Apps",path:"/apps/calendar"},{label:"Calendar",path:"/apps/calendar",active:!0}],title:"Calendar"}),(0,u.jsx)(a.A,{children:(0,u.jsx)(l.A,{children:(0,u.jsx)(r.A,{children:(0,u.jsx)(r.A.Body,{children:(0,u.jsxs)(a.A,{children:[(0,u.jsx)(l.A,{lg:3,children:(0,u.jsx)(A,{})}),(0,u.jsx)(l.A,{lg:12,children:(0,u.jsx)(c.A,{onDateClick:e=>{f(e),o(),h(!1)},onEventClick:e=>{const t={id:String(e.event.id),title:e.event.title,className:e.event.classNames[0]};y(t),h(!0),o()},onDrop:e=>{const t=e,n=t.draggedEl.title;if(null==n);else{let e={id:String(x.length+1),title:n,start:t?t.dateStr:new Date,className:t.draggedEl.attributes["data-class"].value};const s=[...x];s.push(e),p(s)}},onEventDrop:e=>{const t=[...x],n=t.findIndex((t=>t.id===e.event.id));t[n].title=e.event.title,t[n].className=e.event.classNames,t[n].start=e.event.start,t[n].end=e.event.end,p(t),h(!1)},events:x})})]})})})})}),e?(0,u.jsx)(j,{isOpen:e,onClose:n,isEditable:m,eventData:N,onUpdateEvent:e=>{const t=[...x],s=t.findIndex((e=>e.id===N.id));t[s].title=e.title,t[s].className=e.className,p(t),n(),h(!1)},onRemoveEvent:()=>{var e=[...x];const t=e.findIndex((e=>e.id===N.id));e.splice(t,1),p(e),n()},onAddEvent:e=>{const t=[...x],s={id:String(t.length+1),title:e.title,start:0!==Object.keys(E).length?E.date:new Date,className:e.className};t.push(s),p(t),n()}}):null]})}}}]);