"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[7162],{95251:(e,a,r)=>{r.d(a,{Z:()=>d});var s=r(47313),t=r(2135),n=r(65832),l=r(63849),i=r(31616),c=r(80614),o=r(46417);const m=e=>{const[a,r]=(0,s.useState)([]),m=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";const r=a<0?0:a,s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(r))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][s]};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.ZP,{...e,onDrop:a=>(a=>{var s=a;e.showPreview&&((a||[]).map((e=>Object.assign(e,{preview:"image"===e.type.split("/")[0]?URL.createObjectURL(e):null,formattedSize:m(e.size)}))),(s=[]).push(...a),r(s)),e.onFileUpload&&e.onFileUpload(s)})(a),children:e=>{let{getRootProps:a,getInputProps:r}=e;return(0,o.jsx)("div",{className:"dropzone",children:(0,o.jsxs)("div",{className:"dz-message needsclick",...a(),children:[(0,o.jsx)("input",{...r()}),(0,o.jsx)("i",{className:"h3 text-muted dripicons-cloud-upload"}),(0,o.jsx)("h4",{children:"Drop Image here or click to upload."}),(0,o.jsx)("span",{className:"text-muted font-13"})]})})}}),e.showPreview&&(0,o.jsx)("div",{className:"dropzone-previews mt-3",id:"uploadPreviewTemplate",children:(a||[]).map(((s,c)=>(0,o.jsx)(n.Z,{className:"mt-1 mb-0 shadow-none border",children:(0,o.jsx)("div",{className:"p-2",children:(0,o.jsxs)(l.Z,{className:"align-items-center",children:[s.preview&&(0,o.jsx)(i.Z,{className:"col-auto",children:(0,o.jsx)("img",{"data-dz-thumbnail":"",className:"avatar-sm rounded bg-light",alt:s.name,src:s.preview})}),!s.preview&&(0,o.jsx)(i.Z,{className:"col-auto",children:(0,o.jsx)("div",{className:"avatar-sm",children:(0,o.jsx)("span",{className:"avatar-title bg-primary rounded",children:s.type.split("/")[0]})})}),(0,o.jsxs)(i.Z,{className:"ps-0",children:[(0,o.jsx)(t.rU,{to:"#",className:"text-muted fw-bold",children:s.name}),(0,o.jsx)("p",{className:"mb-0",children:(0,o.jsx)("strong",{children:s.formattedSize})})]}),(0,o.jsx)(i.Z,{className:"text-end",children:(0,o.jsx)(t.rU,{to:"#",className:"btn btn-link btn-lg text-muted shadow-none",children:(0,o.jsx)("i",{className:"dripicons-cross",onClick:()=>(s=>{const t=[...a];t.splice(s,1),r(t),e.onFileUpload&&e.onFileUpload(t)})(c)})})})]})})},c+"-file")))})]})};m.defaultProps={showPreview:!0};const d=m},87162:(e,a,r)=>{r.r(a),r.d(a,{default:()=>N});var s=r(47313),t=r(75627),n=r(65832),l=r(63849),i=r(31616),c=r(93298),o=r(51450),m=r(52487),d=r(5191),p=r(58467),u=r(33689),h=r(1084),x=r(24511),g=r(62563),j=r(3463),b=r(20253),y=r(16752),v=r(53877),_=r(46417);const f=()=>{const e=(0,h.I0)(),{t:a}=(0,x.$)(),[r,o]=(0,s.useState)(""),[f,N]=(0,s.useState)(""),w=(0,g.X)(j.Ry().shape({})),{flats:S}=(0,h.v9)((e=>({flats:e.Flat.flats}))),[C,Z]=(0,s.useState)(new Date),[k,U]=(0,s.useState)(!0),B=(0,p.s0)(),E=(0,p.UO)(),{register:F,handleSubmit:P,setValue:I,setError:R,formState:{errors:z}}=(0,t.cI)({defaultValues:{unit:10,phone_number:"9601277532",parking_space:120,emergency_contact_number:"9601277532",emergency_contact_name:"jasmin",income_verification:230,rent_calculation:123,language:"eng",special_instruction:null},resolver:w}),M=P((a=>{e((0,u.yT)(a)).unwrap().then((e=>{e&&!0===e.status&&(o(e.message),window.scrollTo({top:0,behavior:"smooth"}))})).catch((e=>{for(var a in e.errors)try{R(a,{message:e.errors[a].toString()})}catch(r){}}))}));return(0,s.useEffect)((()=>{e((0,b.i)()).unwrap().then((()=>{e((0,u.fB)(E.id)).unwrap().then((e=>{I("id",e.user.id),I("unit",e.unit),I("name",e.user.name),I("email",e.user.email),I("phone_number",e.phone_number),e.user.flat&&I("flat_id",e.user.flat.flat_id),I("parking_space",e.parking_space),I("emergency_contact_number",e.emergency_contact_number),I("emergency_contact_name",e.emergency_contact_name),I("income_verification",e.income_verification),I("rent_calculation",e.rent_calculation),I("special_instruction",e.special_instruction),I("relationship",e.relationship),I("movein_date",e.movein_date)})).catch((e=>N(e)))}))}),[]),(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(n.Z,{children:(0,_.jsxs)(n.Z.Body,{children:[r&&(0,_.jsx)("div",{className:"alert alert-success",children:r}),f&&(0,_.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:f}),(0,_.jsxs)(l.Z,{children:[(0,_.jsx)(i.Z,{lg:6,children:(0,_.jsxs)("form",{onSubmit:M,className:k?"form-readonly":"",children:[(0,_.jsxs)("fieldset",{children:[(0,_.jsx)(m.y,{label:"Emergency Contact",type:"text",name:"emergency_contact_number",placeholder:"Emergency Contact Number",containerClass:"mb-3",register:F,errors:z},"emergency_contact_number"),(0,_.jsx)(m.y,{label:"Emergency Contact Name",type:"text",name:"emergency_contact_name",placeholder:"Emergency Contact Name",containerClass:"mb-3",register:F,errors:z},"emergency_contact_name"),(0,_.jsx)(m.y,{label:"Name",type:"text",name:"name",containerClass:"mb-3",register:F,errors:z},"name"),(0,_.jsx)(m.y,{label:"Phone#",type:"text",name:"phone_number",placeholder:"phone_number",containerClass:"mb-3",register:F,errors:z},"phone_number"),(0,_.jsx)(m.y,{label:"Email",type:"email",name:"email",placeholder:"Email",containerClass:"mb-3",register:F,errors:z,disabled:!0},"email"),(0,_.jsx)(m.y,{label:"Unit",type:"text",name:"unit",placeholder:"Unit",containerClass:"mb-3",register:F,errors:z},"unit"),(0,_.jsx)(m.y,{label:"Relationship",type:"text",name:"relationship",placeholder:"relationship",containerClass:"mb-3",register:F,errors:z},"relationship"),(0,_.jsx)(m.y,{type:"select",label:"Apartment#",name:"flat_id",containerClass:"mb-3",register:F,errors:z,children:S.length&&S.map((e=>(0,_.jsx)("optgroup",{label:e.name.toString(),children:e.flats.map((e=>(0,_.jsx)("option",{value:e.id,children:e.name},"flat"+e.id)))},"apartment".concat(e.id))))}),(0,_.jsx)(m.y,{label:"Parking Space",type:"text",name:"parking",placeholder:"Parking",containerClass:"mb-3",register:F,errors:z},"parking"),(0,_.jsx)(m.y,{label:"Income Verification",type:"text",name:"income_verification",placeholder:"Contact",containerClass:"mb-3",register:F,errors:z},"income_verification"),(0,_.jsx)(m.y,{label:"Rent Calculation",type:"text",name:"rent_calculation",placeholder:"Rent",containerClass:"mb-3",register:F,errors:z},"rent_calculation"),(0,_.jsx)(m.y,{label:"Language",type:"text",name:"language",placeholder:"Language",containerClass:"mb-3",register:F,errors:z},"language"),(0,_.jsx)(m.y,{label:"Special information",type:"textarea",name:"special_instruction",rows:"5",containerClass:"mb-3",register:F,errors:z},"special_instruction"),(0,_.jsx)(m.y,{type:"hidden",register:F,name:"movein_date"},"movein_date"),(0,_.jsxs)("div",{className:"mb-3",children:[(0,_.jsx)("label",{className:"form-label",children:"Move In Date"})," ",(0,_.jsx)("br",{}),(0,_.jsx)(d.Z,{hideAddon:!0,showTimeSelect:!1,value:C,onChange:e=>{(e=>{e&&Z(e)})(e),I("movein_date",e.toLocaleString("sv-SE"))}})]})]}),(0,_.jsx)(c.Z,{onClick:()=>B(-1),variant:"primary",className:"me-2",type:"submit",children:"Back"}),k?(0,_.jsx)("div",{}):(0,_.jsx)(c.Z,{variant:"primary",type:"submit",children:"Submit"})]})}),(0,_.jsxs)(i.Z,{lg:6,children:[(0,_.jsx)("div",{className:"text-end pb-2",children:k?(0,_.jsx)(c.Z,{variant:"primary",type:"submit",onClick:()=>U(!1),children:"Edit"}):(0,_.jsx)("div",{})}),(0,_.jsx)(v.z,{id:E.id}),(0,_.jsx)("div",{className:"pt-5",children:(0,_.jsx)(y.t,{id:E.id})})]})]})]})})})},N=()=>(0,_.jsxs)(s.Fragment,{children:[(0,_.jsx)(o.Z,{breadCrumbItems:[{label:"Users",path:"/user"},{label:"My Account",path:"/user",active:!0}],title:"My Account"}),(0,_.jsx)(l.Z,{children:(0,_.jsx)(i.Z,{children:(0,_.jsx)(f,{})})})]})},16752:(e,a,r)=>{r.d(a,{t:()=>u});var s=r(93298),t=r(52487),n=r(1084),l=r(24511),i=r(47313),c=r(62563),o=r(75627),m=r(33689),d=r(3463),p=r(46417);const u=e=>{let{id:a}=e;const r=(0,n.I0)(),{t:u}=(0,l.$)(),[h,x]=(0,i.useState)(""),[g,j]=(0,i.useState)(""),b=(0,c.X)(d.Ry().shape({})),{register:y,handleSubmit:v,setError:_,formState:{errors:f}}=(0,o.cI)({defaultValues:{id:a},resolver:b}),N=v((e=>{r((0,m.H)(e)).unwrap().then((e=>{e&&!0===e.status&&x(e.message)})).catch((e=>{for(var a in e.errors)try{_(a,{message:e.errors[a].toString()})}catch(r){}}))}));return(0,p.jsxs)("form",{onSubmit:N,children:[h&&(0,p.jsx)("div",{className:"alert alert-success",children:h}),g&&(0,p.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:g}),(0,p.jsx)(t.y,{label:"Reset Password",type:"password",name:"password",register:y,placeholder:"password",containerClass:"mb-3",errors:f},"password"),(0,p.jsx)(t.y,{type:"hidden",name:"id",register:y}),(0,p.jsx)(s.Z,{variant:"primary",type:"submit",children:"Reset"})]})}},53877:(e,a,r)=>{r.d(a,{z:()=>g});var s=r(95251),t=r(93298),n=r(52487),l=r(1084),i=r(24511),c=r(47313),o=r(62563),m=r(75627),d=r(33689),p=r(3463),u=r(85592),h=r(61875),x=r(46417);const g=e=>{let{id:a}=e;const r=(0,l.I0)(),{t:g}=(0,i.$)(),[j,b]=(0,c.useState)(""),[y,v]=(0,c.useState)(""),[_,f]=(0,c.useState)(!1),N=(0,o.X)(p.Ry().shape({})),{register:w,handleSubmit:S,setValue:C,setError:Z,control:k,formState:{errors:U}}=(0,m.cI)({defaultValues:{id:a},resolver:N}),B=S((e=>{f(!0),r((0,d.ou)(e)).unwrap().then((e=>{e&&!0===e.status&&(b(e.message),v(""),r((0,u.eF)())),f(!1)})).catch((e=>{v(e.message),b(""),f(!1)}))}));return(0,x.jsxs)("form",{onSubmit:B,children:[j&&(0,x.jsx)("div",{className:"alert alert-success",children:j}),y&&(0,x.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:y}),(0,x.jsxs)("fieldset",{children:[(0,x.jsx)(m.Qr,{render:()=>(0,x.jsx)(s.Z,{maxFiles:1,onFileUpload:e=>{console.log("Uploaded files - ",e),C("image",e[0])}}),name:"image",control:k}),(0,x.jsx)(n.y,{type:"hidden",name:"id",register:w}),_?(0,x.jsx)(h.Z,{}):(0,x.jsx)(t.Z,{type:"submit",className:"waves-effect waves-light me-1",children:"Submit"})]})]})}}}]);