"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[3085],{33856:(e,s,a)=>{a.d(s,{l:()=>l});var r=a(44030),t=a(46417);const l=()=>(0,t.jsx)(r.Z,{animation:"border",role:"status",children:(0,t.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},20800:(e,s,a)=>{a.d(s,{Z:()=>n});var r=a(61378),t=a.n(r),l=(a(72632),a(46417));const n=e=>(0,l.jsx)(l.Fragment,{children:e.showTimeSelectOnly?(0,l.jsx)(t(),{name:e.name,timeIntervals:e.tI,selected:e.value,onChange:s=>e.onChange(s),showTimeSelect:e.showTimeSelect,timeFormat:"hh:mm a",timeCaption:e.timeCaption,dateFormat:"hh:mm",className:"is-invalid",minDate:e.minDate,scrollableYearDropdown:!0,scrollableMonthYearDropdown:!0,maxDate:e.maxDate,disabled:e.disabled,monthsShown:e.monthsShown,wrapperClassName:"is-invalid",showTimeSelectOnly:e.showTimeSelectOnly,inline:e.inline,autoComplete:"off"}):(0,l.jsx)(t(),{name:e.name,timeIntervals:e.tI,selected:e.value,onChange:s=>e.onChange(s),showTimeSelect:e.showTimeSelect,timeFormat:"hh:mm a",timeCaption:e.timeCaption,dateFormat:e.dateFormat,minDate:e.minDate,disabled:e.disabled,wrapperClassName:"is-invalid",maxDate:e.maxDate,showMonthDropdown:!0,showYearDropdown:!0,scrollableMonthYearDropdown:!0,monthsShown:e.monthsShown,showTimeSelectOnly:e.showTimeSelectOnly,inline:e.inline,autoComplete:"off"})})},95251:(e,s,a)=>{a.d(s,{Z:()=>d});var r=a(47313),t=a(2135),l=a(51449),n=a(63849),i=a(31616),c=a(80614),o=a(46417);const m=e=>{const[s,a]=(0,r.useState)([]),m=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";const a=s<0?0:s,r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.ZP,{...e,onDrop:r=>(r=>{var t=r;e.showPreview&&((r||[]).map((e=>Object.assign(e,{preview:"image"===e.type.split("/")[0]?URL.createObjectURL(e):null,formattedSize:m(e.size)}))),(t=s).push(...r),a(t)),e.onFileUpload&&e.onFileUpload(t)})(r),children:s=>{let{getRootProps:a,getInputProps:r}=s;return(0,o.jsx)("div",{className:"dropzone",children:(0,o.jsxs)("div",{className:"dz-message needsclick",...a(),children:[(0,o.jsx)("input",{...r()}),(0,o.jsx)("i",{className:"h3 text-muted dripicons-cloud-upload"}),(0,o.jsx)("h4",{children:e.title?e.title:"Drop Image or Document here or click to upload."}),(0,o.jsx)("span",{className:"text-muted font-13"})]})})}}),e.showPreview&&(0,o.jsx)("div",{className:"dropzone-previews mt-3",id:"uploadPreviewTemplate",children:(s||[]).map(((r,c)=>(0,o.jsx)(l.Z,{className:"mt-1 mb-0 shadow-none border",children:(0,o.jsx)("div",{className:"p-2",children:(0,o.jsxs)(n.Z,{className:"align-items-center",children:[r.preview&&(0,o.jsx)(i.Z,{className:"col-auto",children:(0,o.jsx)("img",{"data-dz-thumbnail":"",className:"avatar-sm rounded bg-light",alt:r.name,src:r.preview})}),!r.preview&&(0,o.jsx)(i.Z,{className:"col-auto",children:(0,o.jsx)("div",{className:"avatar-sm",children:(0,o.jsx)("span",{className:"avatar-title bg-primary rounded",children:r.type.split("/")[0]})})}),(0,o.jsxs)(i.Z,{className:"ps-0",children:[(0,o.jsx)(t.rU,{to:"#",className:"text-muted fw-bold",children:r.name}),(0,o.jsx)("p",{className:"mb-0",children:(0,o.jsx)("strong",{children:r.formattedSize})})]}),(0,o.jsx)(i.Z,{className:"text-end",children:(0,o.jsx)(t.rU,{to:"#",className:"btn btn-link btn-lg text-muted shadow-none",children:(0,o.jsx)("i",{className:"dripicons-cross",onClick:()=>(r=>{const t=[...s];t.splice(r,1),a(t),e.onFileUpload&&e.onFileUpload(t)})(c)})})})]})})},c+"-file")))})]})};m.defaultProps={showPreview:!0};const d=m},20192:(e,s,a)=>{a.d(s,{Z:()=>i});a(47313);var r=a(63849),t=a(31616),l=a(52198),n=a(46417);const i=e=>(0,n.jsx)(r.Z,{children:(0,n.jsx)(t.Z,{children:(0,n.jsxs)("div",{className:"page-title-box",children:[(0,n.jsx)("div",{className:"page-title-right",children:(0,n.jsxs)(l.Z,{className:"m-0",children:[(0,n.jsx)(l.Z.Item,{href:"/",children:"Home"}),(e.breadCrumbItems||[]).map(((e,s)=>e.active?(0,n.jsx)(l.Z.Item,{active:!0,children:e.label},s):(0,n.jsx)(l.Z.Item,{href:e.path,children:e.label},s)))]})}),(0,n.jsx)("h4",{className:"page-title",children:e.title})]})})})},52487:(e,s,a)=>{a.d(s,{y:()=>h,J:()=>n});var r=a(47313),t=a(75627),l=a(46417);const n=e=>{let{defaultValues:s,resolver:a,children:n,onSubmit:i,formClass:c}=e;const o=(0,t.cI)({defaultValues:s,resolver:a}),{handleSubmit:m,register:d,control:h,formState:{errors:u}}=o;return(0,l.jsx)("form",{onSubmit:m(i),className:c,noValidate:!0,children:Array.isArray(n)?n.map((e=>e.props&&e.props.name?r.createElement(e.type,{...{...e.props,register:d,key:e.props.name,errors:u,control:h}}):e)):n})};var i=a(38394),c=a(88178),o=a(72884),m=a.n(o);const d=e=>{let{name:s,placeholder:a,refCallback:t,errors:n,control:o,register:d,className:h}=e;const[u,x]=(0,r.useState)(!1);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(i.Z,{className:"mb-0",children:[(0,l.jsx)(c.Z.Control,{type:u?"text":"password",placeholder:a,name:s,id:s,as:"input",ref:e=>{t&&t(e)},className:h,isInvalid:!(!n||!n[s]),...d?d(s):{},autoComplete:s}),(0,l.jsx)("div",{className:m()("input-group-text","input-group-password",{"show-password":u}),"data-password":u?"true":"false",children:(0,l.jsx)("span",{className:"password-eye",onClick:()=>{x(!u)}})})]})})},h=e=>{let{label:s,type:a,name:r,placeholder:t,register:n,errors:i,control:o,className:m,labelClassName:h,containerClass:u,refCallback:x,children:p,rows:j,...g}=e;const b="textarea"===a?"textarea":"select"===a?"select":"input";return(0,l.jsx)(l.Fragment,{children:"hidden"===a?(0,l.jsx)("input",{type:a,name:r,id:r,...n?n(r):{},...g,className:m}):(0,l.jsx)(l.Fragment,{children:"password"===a?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(c.Z.Group,{className:u,children:[s?(0,l.jsxs)(l.Fragment,{children:[" ",(0,l.jsx)(c.Z.Label,{className:h,children:s})," ",p," "]}):null,(0,l.jsx)(d,{name:r,placeholder:t,refCallback:x,errors:i,register:n,className:m}),i&&i[r]?(0,l.jsx)(c.Z.Control.Feedback,{type:"invalid",className:"d-block",children:i[r].message}):null]})}):(0,l.jsx)(l.Fragment,{children:"checkbox"===a||"radio"===a?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(c.Z.Group,{className:u,children:[(0,l.jsx)(c.Z.Check,{type:a,label:s,name:r,id:r,ref:e=>{x&&x(e)},className:m,isInvalid:!(!i||!i[r]),...n?n(r):{},...g}),i&&i[r]?(0,l.jsx)(c.Z.Control.Feedback,{type:"invalid",children:i[r].message}):null]})}):(0,l.jsxs)(c.Z.Group,{className:u,children:[s?(0,l.jsx)(c.Z.Label,{className:h,children:s}):null,(0,l.jsx)(c.Z.Control,{type:a,placeholder:t,name:r,id:r,as:b,ref:e=>{x&&x(e)},className:m,isInvalid:!(!i||!i[r]),...n?n(r):{},rows:j,...g,autoComplete:r,children:p||null}),i&&i[r]?(0,l.jsx)(c.Z.Control.Feedback,{type:"invalid",children:i[r].message}):null]})})})})}},5825:(e,s,a)=>{a.d(s,{d:()=>N});var r=a(95251),t=a(41709),l=a(93298),n=a(52487),i=a(56352),c=a(24511),o=a(47313),m=a(62563),d=a(75627),h=a(33689),u=a(3463),x=a(85592),p=a(33856),j=a(51449),g=a(63849),b=a(31616),f=a(2135),v=a(32335),y=a(46417);const _=e=>{let{documents:s,type:a,refresh:r}=e;const t=(0,i.I0)();return(0,y.jsx)(y.Fragment,{children:s.map((e=>e.type===a?(0,y.jsx)("div",{children:(0,y.jsx)(j.Z,{className:"mt-1 mb-1 shadow-none border",children:(0,y.jsx)("div",{className:"p-2",children:(0,y.jsxs)(g.Z,{className:"align-items-center",children:[(0,y.jsx)(b.Z,{className:"ps-0 ms-2",children:(0,y.jsx)(f.rU,{to:"".concat(v.Z.BASE_URL,"/").concat(e.document_path),className:"text-muted fw-bold",target:"_blank",children:e.document_name})}),(0,y.jsx)(b.Z,{className:"text-end",children:(0,y.jsx)(f.rU,{to:"#",className:"btn btn-link btn-lg text-muted shadow-none",children:(0,y.jsx)("i",{className:"dripicons-cross",onClick:()=>{t((0,h.Jt)(e.id)).unwrap().then((e=>{r()}))}})})})]})})},e.id+"-file")}):(0,y.jsx)(y.Fragment,{})))})},N=e=>{let{id:s}=e;const a=(0,i.I0)(),[j,g]=(0,o.useState)([]),{t:b}=(0,c.$)(),[f,v]=(0,o.useState)(""),[N,Z]=(0,o.useState)(""),[w,S]=(0,o.useState)(!1),C=(0,m.X)(u.Ry().shape({}));(0,o.useEffect)((()=>{a((0,h.fB)(s)).unwrap().then((e=>{console.log(e.user),g(e.user.documents)}))}),[]);const k=(0,o.useCallback)((()=>{a((0,h.fB)(s)).unwrap().then((e=>{g(e.user.documents)}))}),[]),{register:F,handleSubmit:D,setValue:I,setError:U,control:E,formState:{errors:B}}=(0,d.cI)({defaultValues:{user_id:s},resolver:C}),A=D((e=>{S(!0),a((0,h.Ap)(e)).unwrap().then((e=>{e&&!0===e.status&&(v(e.message),Z(""),a((0,x.eF)())),S(!1)})).catch((e=>{Z(e.message),v(""),S(!1)}))}));return(0,y.jsxs)("form",{onSubmit:A,children:[f&&(0,y.jsx)("div",{className:"alert alert-success",children:f}),N&&(0,y.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:N}),(0,y.jsxs)("fieldset",{children:[(0,y.jsx)(t.Z,{children:"Licence"}),(0,y.jsx)(_,{documents:j,type:0,refresh:k}),(0,y.jsx)(d.Qr,{render:()=>(0,y.jsx)(r.Z,{maxFiles:2,title:"Drag or upload Licence",onFileUpload:e=>{I("licence",e)}}),name:"licence",control:E}),(0,y.jsx)(t.Z,{children:"Passport"}),(0,y.jsx)(_,{documents:j,type:1,refresh:k}),(0,y.jsx)(d.Qr,{render:()=>(0,y.jsx)(r.Z,{maxFiles:2,title:"Upload passport",onFileUpload:e=>{I("passport",e)}}),name:"passport",control:E}),(0,y.jsx)(t.Z,{children:"Other Documents"}),(0,y.jsx)(_,{documents:j,type:2,refresh:k}),(0,y.jsx)(d.Qr,{render:()=>(0,y.jsx)(r.Z,{maxFiles:2,title:"Drag or click Other documents",onFileUpload:e=>{I("other_document",e)}}),name:"other_document",control:E}),(0,y.jsx)(t.Z,{children:"Document"}),(0,y.jsx)(_,{documents:j,type:3,refresh:k}),(0,y.jsx)(d.Qr,{render:()=>(0,y.jsx)(r.Z,{maxFiles:2,title:"Drag or click documents",onFileUpload:e=>{I("documents",e)}}),name:"documents",control:E}),(0,y.jsx)(n.y,{type:"hidden",name:"user_id",register:F}),w?(0,y.jsx)(p.l,{}):(0,y.jsx)(l.Z,{type:"submit",className:"waves-effect waves-light me-1",children:"Submit"})]})]})}},36407:(e,s,a)=>{a.r(s),a.d(s,{default:()=>Z});var r=a(47313),t=a(75627),l=a(51449),n=a(63849),i=a(31616),c=a(93298),o=a(20192),m=a(52487),d=a(58467),h=a(33689),u=a(56352),x=a(24511),p=a(62563),j=a(3463),g=a(20253),b=a(16752),f=a(53877),v=a(32335),y=a(33856),_=a(46417);const N=()=>{const e=(0,u.I0)(),{t:s}=(0,x.$)(),[a,o]=(0,r.useState)(""),[N,Z]=(0,r.useState)(""),[w,S]=(0,r.useState)(!1),C=(0,p.X)(j.Ry().shape({}));let{user:k,customerUser:F}=(0,u.v9)((e=>({user:e.Auth.user,customerUser:e.CustomerAuth.user})));k||(k=F);const[D,I]=(0,r.useState)(new Date),[U,E]=(0,r.useState)(!0),B=(0,d.s0)(),[A,R]=(0,r.useState)(null),{register:L,handleSubmit:P,setValue:T,setError:M,formState:{errors:V}}=(0,t.cI)({defaultValues:{unit:10,phone_number:"9601277532",parking_space:120,emergency_contact_number:"9601277532",emergency_contact_name:"jasmin",income_verification:230,rent_calculation:123,language:"eng",special_instruction:null},resolver:C}),z=P((s=>{S(!0),e((0,h.yT)(s)).unwrap().then((e=>{e&&!0===e.status&&(o(e.message),window.scrollTo({top:0,behavior:"smooth"})),S(!1)})).catch((e=>{for(var s in e.errors)try{M(s,{message:e.errors[s].toString()})}catch(a){}S(!1)}))}));return(0,r.useEffect)((()=>{e((0,g.i)()).unwrap().then((()=>{e((0,h.fB)(k.user_id)).unwrap().then((e=>{v.Z.BASE_URL&&e.image_path&&R("".concat(v.Z.BASE_URL,"/").concat(e.image_path)),T("id",e.user.id),T("unit",e.unit),T("name",e.user.name),T("email",e.user.email),T("phone_number",e.phone_number),e.user.flat&&T("flat_id",e.user.flat.flat_id),T("parking_space",e.parking_space),T("emergency_contact_number",e.emergency_contact_number),T("emergency_contact_name",e.emergency_contact_name),T("income_verification",e.income_verification),T("rent_calculation",e.rent_calculation),T("special_instruction",e.special_instruction),T("relationship",e.relationship),T("movein_date",e.movein_date)})).catch((e=>Z(e.message)))}))}),[]),(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(l.Z,{children:(0,_.jsxs)(l.Z.Body,{children:[a&&(0,_.jsx)("div",{className:"alert alert-success",children:a}),N&&(0,_.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:N}),(0,_.jsxs)(n.Z,{children:[(0,_.jsx)(i.Z,{lg:6,children:(0,_.jsxs)("form",{onSubmit:z,className:U?"form-readonly":"",children:[(0,_.jsxs)("fieldset",{children:[(0,_.jsx)(m.y,{label:"Name",type:"text",name:"name",className:"form-control-sm fs-5",containerClass:"mb-3 input-group",register:L,errors:V},"name"),(0,_.jsx)(m.y,{label:"Phone#",type:"text",name:"phone_number",placeholder:"phone_number",className:"form-control-sm fs-5",containerClass:"mb-3 input-group",register:L,errors:V},"phone_number"),(0,_.jsx)(m.y,{label:"Email",type:"email",name:"email",placeholder:"Email",className:"form-control-sm fs-5",containerClass:"mb-3 input-group",register:L,errors:V,disabled:!0},"email"),(0,_.jsxs)(m.y,{type:"select",label:"Role",name:"role_id",className:"form-control-sm fs-5",containerClass:"mb-3 input-group",register:L,errors:V,children:[(0,_.jsx)("option",{value:"",children:"Select Role"}),(0,_.jsx)("option",{value:"admin",selected:!0,children:"admin"}),(0,_.jsx)("option",{value:"staff",children:"Staff"})]})]}),(0,_.jsx)(c.Z,{onClick:()=>B(-1),variant:"primary",className:"me-2",type:"submit",children:"Back"}),U?(0,_.jsx)("div",{}):w?(0,_.jsx)(y.l,{}):(0,_.jsx)(c.Z,{variant:"primary",type:"submit",children:"Submit"})]})}),(0,_.jsxs)(i.Z,{lg:6,children:[(0,_.jsx)("div",{className:"text-center",children:A&&(0,_.jsx)("img",{src:A,className:"rounded-4",alt:"{}",width:125})}),(0,_.jsx)("div",{className:"text-end pb-2",children:U?(0,_.jsx)(c.Z,{variant:"primary",type:"submit",onClick:()=>E(!1),children:"Edit"}):(0,_.jsx)("div",{})}),(0,_.jsx)("div",{children:(0,_.jsx)(f.z,{id:k.user_id})}),(0,_.jsx)("div",{className:"pt-2",children:(0,_.jsx)(b.t,{id:k.user_id})})]})]})]})})})},Z=()=>(0,_.jsxs)(r.Fragment,{children:[(0,_.jsx)(o.Z,{breadCrumbItems:[{label:"Users",path:"/user"},{label:"My Account",path:"/user",active:!0}],title:"My Account"}),(0,_.jsx)(n.Z,{children:(0,_.jsx)(i.Z,{children:(0,_.jsx)(N,{})})})]})},33085:(e,s,a)=>{a.r(s),a.d(s,{default:()=>D});var r=a(56352),t=a(47313),l=a(75627),n=a(63849),i=a(31616),c=a(51449),o=a(44709),m=a(88178),d=a(93298),h=a(20192),u=a(52487),x=a(20800),p=a(58467),j=a(33689),g=a(24511),b=a(62563),f=a(3463),v=a(20253),y=a(16752),_=a(53877),N=a(5825),Z=a(32335),w=a(33856),S=a(46417);const C=()=>{const e=(0,r.I0)(),{t:s}=(0,g.$)(),[a,h]=(0,t.useState)(""),[C,k]=(0,t.useState)(),[F,D]=(0,t.useState)(""),I=(0,b.X)(f.Ry().shape({}));let{flats:U,user:E,customerUser:B}=(0,r.v9)((e=>({flats:e.Flat.flats,user:e.Auth.user,customerUser:e.CustomerAuth.user})));const[A,R]=(0,t.useState)(null);E||(E=B);const[L,P]=(0,t.useState)(new Date),[T,M]=(0,t.useState)(new Date),[V,z]=(0,t.useState)(!0),[O,Q]=(0,t.useState)(!1),X=(0,p.s0)(),{register:Y,handleSubmit:G,setValue:$,setError:H,formState:{errors:J}}=(0,l.cI)({defaultValues:{unit:10,phone_number:"9601277532",parking_space:120,emergency_contact_number:"9601277532",emergency_contact_name:"jasmin",income_verification:230,rent_calculation:123,language:"eng",special_instruction:null},resolver:I}),K=G((s=>{Q(!0),e((0,j.yT)(s)).unwrap().then((e=>{e&&!0===e.status&&(h(e.message),window.scrollTo({top:0,behavior:"smooth"})),Q(!1)})).catch((e=>{for(var s in e.errors)try{H(s,{message:e.errors[s].toString()})}catch(a){}Q(!1)}))}));return(0,t.useEffect)((()=>{e((0,v.i)()).unwrap().then((()=>{e((0,j.fB)(E.user_id)).unwrap().then((e=>{k(e),Z.Z.BASE_URL&&e.image_path&&R("".concat(Z.Z.BASE_URL,"/").concat(e.image_path)),$("id",e.user.id),$("unit",e.unit),$("name",e.user.name),$("email",e.user.email),$("phone_number",e.phone_number),e.user.flat&&$("flat_id",e.user.flat.flat_id),$("parking_space",e.parking_space),$("locker",e.locker),$("emergency_contact_number",e.emergency_contact_number),$("emergency_contact_name",e.emergency_contact_name),$("income_verification",e.income_verification),$("rent_calculation",e.rent_calculation),$("special_instruction",e.special_instruction),$("relationship",e.relationship),$("birth_date",e.birth_date),$("movein_date",e.movein_date),P(new Date(e.movein_date)),M(new Date(e.birth_date))})).catch((e=>D(e.message)))}))}),[]),(0,S.jsxs)(S.Fragment,{children:[a&&(0,S.jsx)("div",{className:"alert alert-success",children:a}),F&&(0,S.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:F}),(0,S.jsxs)(n.Z,{className:"gutters",children:[(0,S.jsx)(i.Z,{lg:3,xl:3,md:12,children:(0,S.jsxs)(c.Z,{children:[" ",C&&(0,S.jsxs)(o.Z,{children:[(0,S.jsxs)("div",{className:"text-center",children:[A&&(0,S.jsx)("img",{src:A,className:"rounded-4",alt:"{}",width:125}),(0,S.jsx)("h5",{className:"text-dark",children:null===C||void 0===C?void 0:C.user.name}),(0,S.jsx)("h6",{className:"text-muted",children:null===C||void 0===C?void 0:C.user.email})]}),(0,S.jsx)(_.z,{id:null===C||void 0===C?void 0:C.user.id.toString()}),(0,S.jsx)("div",{className:"mt-4",children:(0,S.jsx)(y.t,{id:null===C||void 0===C?void 0:C.user.id.toString()})}),(0,S.jsx)("div",{className:"mt-2",children:(0,S.jsx)(N.d,{id:null===C||void 0===C?void 0:C.user.id.toString()})})]})]})}),(0,S.jsx)(i.Z,{lg:9,xl:9,md:12,children:(0,S.jsx)(c.Z,{children:(0,S.jsx)(o.Z,{children:(0,S.jsxs)("form",{onSubmit:K,children:[(0,S.jsxs)(n.Z,{className:"gutters",children:[(0,S.jsx)(i.Z,{xl:12,children:(0,S.jsx)("h5",{className:"text-primary",children:"Personal information"})}),(0,S.jsx)(i.Z,{xl:6,children:(0,S.jsx)(u.y,{label:"Name",type:"text",name:"name",className:"form-control-sm fs-5 ",containerClass:"mb-3",register:Y,errors:J},"name")}),(0,S.jsx)(i.Z,{xl:6,children:(0,S.jsx)(u.y,{label:"Phone#",type:"text",name:"phone_number",placeholder:"phone_number",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:Y,errors:J},"phone_number")}),(0,S.jsx)(i.Z,{xl:6,children:(0,S.jsx)(u.y,{label:"Email",type:"email",name:"email",placeholder:"Email",className:"form-control-sm fs-5 ",containerClass:"mb-3",register:Y,errors:J,disabled:!0},"email")}),(0,S.jsxs)(i.Z,{xl:6,children:[(0,S.jsx)(u.y,{type:"hidden",register:Y,className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"me-2",name:"birth_date"},"birth_date"),(0,S.jsxs)("div",{className:"mb-3",children:[(0,S.jsx)("label",{className:"form-label",children:"Birth Date"})," ",(0,S.jsx)("br",{}),(0,S.jsx)(x.Z,{hideAddon:!0,showTimeSelect:!1,maxDate:new Date,value:T,onChange:e=>{M(e),$("birth_date",e.toLocaleString("sv-SE"))}}),J&&J.birth_date?(0,S.jsx)(m.Z.Control.Feedback,{type:"invalid",children:J.birth_date.message}):null]})]})]}),(0,S.jsxs)(n.Z,{className:"gutters border border-success rounded",children:[(0,S.jsx)(i.Z,{xl:12,children:(0,S.jsx)("h5",{className:"text-primary",children:"Emergency information"})}),(0,S.jsx)(i.Z,{xl:6,children:(0,S.jsx)(u.y,{label:"Emergency Contact",type:"text",name:"emergency_contact_number",placeholder:"Emergency Contact Number",className:"form-control-sm fs-5",containerClass:"mb-3",register:Y,errors:J},"emergency_contact_number")}),(0,S.jsx)(i.Z,{xl:6,children:(0,S.jsx)(u.y,{label:"Emergency Contact Name",type:"text",name:"emergency_contact_name",placeholder:"Emergency Contact Name",className:"form-control-sm fs-5",containerClass:"mb-3 ",register:Y,errors:J},"emergency_contact_name")}),(0,S.jsx)(i.Z,{xl:6,children:(0,S.jsx)(u.y,{label:"Relationship",type:"text",name:"relationship",placeholder:"relationship",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:Y,errors:J},"relationship")})]}),(0,S.jsxs)(n.Z,{className:"gutters",children:[(0,S.jsx)(i.Z,{xl:12,children:(0,S.jsx)("h5",{className:"text-primary",children:"Resident information"})}),(0,S.jsx)(i.Z,{xl:6,children:(0,S.jsx)(u.y,{label:"Unit",type:"text",name:"unit",placeholder:"Unit",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:Y,errors:J},"unit")}),(0,S.jsx)(i.Z,{xl:6,children:(0,S.jsx)(u.y,{type:"select",label:"Apartment#",name:"flat_id",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:Y,errors:J,children:U.length&&U.map((e=>(0,S.jsx)("optgroup",{label:e.name.toString(),children:e.flats.map((e=>(0,S.jsx)("option",{value:e.id,children:e.name},"flat"+e.id)))},"apartment".concat(e.id))))})}),(0,S.jsx)(i.Z,{xl:6,children:(0,S.jsx)(u.y,{label:"Parking Space",type:"text",name:"parking_space",placeholder:"Parking",className:"form-control-sm fs-5 ",containerClass:"mb-3",register:Y,errors:J},"parking_space")}),(0,S.jsx)(i.Z,{xl:6,children:(0,S.jsx)(u.y,{label:"Locker#",type:"text",name:"locker",placeholder:"Locker",className:"form-control-sm fs-5",containerClass:"mb-3",register:Y,errors:J},"locker")}),(0,S.jsx)(i.Z,{xl:6,children:(0,S.jsx)(u.y,{label:"Income Verification",type:"text",name:"income_verification",placeholder:"Contact",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:Y,errors:J},"income_verification")}),(0,S.jsx)(i.Z,{xl:6,children:(0,S.jsx)(u.y,{label:"Rent Calculation",type:"text",name:"rent_calculation",placeholder:"Rent",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:Y,errors:J},"rent_calculation")}),(0,S.jsx)(i.Z,{xl:6,children:(0,S.jsx)(u.y,{label:"Language",type:"text",name:"language",placeholder:"Language",className:"form-control-sm fs-5 ",containerClass:"mb-3 ",register:Y,errors:J},"language")}),(0,S.jsxs)(i.Z,{xl:6,children:[(0,S.jsx)(u.y,{type:"hidden",register:Y,className:"form-control-sm fs-5 ",containerClass:"mb-3 input-group",labelClassName:"me-2",name:"movein_date"},"movein_date"),(0,S.jsxs)("div",{className:"mb-3",children:[(0,S.jsx)("label",{className:"form-label",children:"Move In Date"})," ",(0,S.jsx)("br",{}),(0,S.jsx)(x.Z,{hideAddon:!0,showTimeSelect:!1,value:L,onChange:e=>{(e=>{e&&P(e)})(e),$("movein_date",e.toLocaleString("sv-SE"))}}),J&&J.movein_date?(0,S.jsx)(m.Z.Control.Feedback,{type:"invalid",children:J.movein_date.message}):null]})]}),(0,S.jsx)(i.Z,{xl:6,children:(0,S.jsx)(u.y,{label:"Special information",type:"textarea",name:"special_instruction",rows:"5",className:"form-control-sm fs-5 ",containerClass:"mb-3",register:Y,errors:J},"special_instruction")})]}),(0,S.jsx)(d.Z,{onClick:()=>X(-1),variant:"primary",className:"me-2",type:"submit",children:"Back"}),O?(0,S.jsx)(w.l,{}):(0,S.jsx)(d.Z,{variant:"primary",type:"submit",children:"Submit"})]})})})})]})]})},k=()=>(0,S.jsxs)(t.Fragment,{children:[(0,S.jsx)(h.Z,{breadCrumbItems:[{label:"Users",path:"/user"},{label:"My Account",path:"/user",active:!0}],title:"My Account"}),(0,S.jsx)(n.Z,{children:(0,S.jsx)(i.Z,{children:(0,S.jsx)(C,{})})})]});var F=a(36407);const D=()=>{let{user:e,userCustomer:s}=(0,r.v9)((e=>({user:e.Auth.user,userCustomer:e.CustomerAuth.user})));return s&&(e=s),(0,S.jsx)(S.Fragment,{children:e&&(e.user_role.includes("recident")?(0,S.jsx)(k,{}):(0,S.jsx)(F.default,{}))})}},16752:(e,s,a)=>{a.d(s,{t:()=>x});var r=a(93298),t=a(52487),l=a(56352),n=a(24511),i=a(47313),c=a(62563),o=a(75627),m=a(33689),d=a(3463),h=a(33856),u=a(46417);const x=e=>{let{id:s}=e;const a=(0,l.I0)(),{t:x}=(0,n.$)(),[p,j]=(0,i.useState)(""),[g,b]=(0,i.useState)(""),[f,v]=(0,i.useState)(!1),y=(0,c.X)(d.Ry().shape({})),{register:_,handleSubmit:N,setError:Z,formState:{errors:w}}=(0,o.cI)({defaultValues:{id:s},resolver:y}),S=N((e=>{v(!0),a((0,m.H)(e)).unwrap().then((e=>{e&&!0===e.status&&j(e.message),v(!1)})).catch((e=>{for(var s in e.errors)try{Z(s,{message:e.errors[s].toString()})}catch(a){}v(!1)}))}));return(0,u.jsxs)("form",{onSubmit:S,children:[p&&(0,u.jsx)("div",{className:"alert alert-success",children:p}),g&&(0,u.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:g}),(0,u.jsx)(t.y,{label:"Reset Password",type:"password",name:"password",register:_,placeholder:"password",containerClass:"mb-3",errors:w},"password"),(0,u.jsx)(t.y,{type:"hidden",name:"id",register:_}),f?(0,u.jsx)(h.l,{}):(0,u.jsx)(r.Z,{variant:"primary",type:"submit",children:"Reset"})]})}},53877:(e,s,a)=>{a.d(s,{z:()=>p});var r=a(95251),t=a(93298),l=a(52487),n=a(56352),i=a(47313),c=a(62563),o=a(75627),m=a(33689),d=a(3463),h=a(85592),u=a(33856),x=a(46417);const p=e=>{let{id:s}=e;const a=(0,n.I0)(),[p,j]=(0,i.useState)(""),[g,b]=(0,i.useState)(""),[f,v]=(0,i.useState)(!1),y=(0,c.X)(d.Ry().shape({})),{register:_,handleSubmit:N,setValue:Z,control:w}=(0,o.cI)({defaultValues:{id:s},resolver:y}),S=N((e=>{v(!0),a((0,m.ou)(e)).unwrap().then((e=>{e&&!0===e.status&&(j(e.message),b(""),a((0,h.eF)())),v(!1)})).catch((e=>{b(e.message),j(""),v(!1)}))}));return(0,x.jsxs)("form",{onSubmit:S,children:[p&&(0,x.jsx)("div",{className:"alert alert-success",children:p}),g&&(0,x.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:g}),(0,x.jsxs)("fieldset",{className:"mt-4",children:[(0,x.jsx)(o.Qr,{render:()=>(0,x.jsx)(r.Z,{title:"Drag Profile pic or click here to upload",maxFiles:1,onFileUpload:e=>{Z("image",e[0])}}),name:"image",control:w}),(0,x.jsx)(l.y,{type:"hidden",name:"id",register:_}),f?(0,x.jsx)(u.l,{}):(0,x.jsx)(t.Z,{type:"submit",className:"waves-effect waves-light me-1",children:"Submit"})]})]})}}}]);