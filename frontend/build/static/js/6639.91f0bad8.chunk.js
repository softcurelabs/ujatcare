"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[6639],{41033:(e,n,t)=>{t.d(n,{A:()=>r});t(9950);var s=t(86781),a=t(68459),c=t(81924),l=t(44414);const r=e=>(0,l.jsx)(s.A,{children:(0,l.jsx)(a.A,{children:(0,l.jsxs)("div",{className:"page-title-box",children:[(0,l.jsx)("div",{children:(0,l.jsxs)(c.A,{className:"m-0 mb-0",children:[(0,l.jsx)(c.A.Item,{href:"/",children:"Home"}),(e.breadCrumbItems||[]).map(((e,n)=>e.active?(0,l.jsx)(c.A.Item,{active:!0,children:e.label},n):(0,l.jsx)(c.A.Item,{href:e.path,children:e.label},n)))]})}),(0,l.jsx)("h4",{className:"page-title",children:e.title})]})})})},63790:(e,n,t)=>{t.d(n,{A:()=>i});var s=t(9950),a=t(42074),c=t(48738),l=t.n(c),r=t(44414);const i=e=>{let{tableProps:n,sizePerPageList:t}=e;const[c,i]=(0,s.useState)(n.pageCount),[o,d]=(0,s.useState)(n.state.pageIndex);(0,s.useEffect)((()=>{i(n.pageCount),d(n.state.pageIndex)}),[n.pageCount,n.state.pageIndex]);const u=(0,s.useCallback)(((e,n)=>e.filter((e=>e<=c))),[c]),m=(0,s.useCallback)(((e,n)=>n<7?u([1,2,3,4,5,6],n):e%5>=0&&e>4&&e+2<n?[1,e-1,e,e+1,n]:e%5>=0&&e>4&&e+2>=n?[1,n-3,n-2,n-1,n]:[1,2,3,4,5,n]),[u]),h=e=>{if(e===o)return;const t=m(e,c);p(u(t,c)),n.gotoPage(e)};(0,s.useEffect)((()=>{const e=m(null,c);p(e)}),[c,m]);const[x,p]=(0,s.useState)(m(null,c)),j=o;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"d-lg-flex align-items-center text-center pb-1",children:[t.length>0&&(0,r.jsxs)("div",{className:"d-inline-block me-3",children:[(0,r.jsx)("label",{className:"me-1",children:"Display :"}),(0,r.jsx)("select",{value:n.state.pageSize,onChange:e=>{n.setPageSize(Number(e.target.value))},className:"form-select d-inline-block w-auto",children:(t||[]).map(((e,n)=>(0,r.jsx)("option",{value:e.value,children:e.text},n)))})]}),(0,r.jsxs)("span",{className:"me-3",children:["Page"," ",(0,r.jsxs)("strong",{children:[o," of ",n.pageOptions.length]})," "]}),(0,r.jsxs)("ul",{className:"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0",children:[(0,r.jsx)("li",{className:l()("page-item","paginate_button","previous",{disabled:1===j}),onClick:()=>{1!==j&&h(j-1)},children:(0,r.jsx)(a.N_,{to:"#",className:"page-link",children:(0,r.jsx)("i",{className:"mdi mdi-chevron-left"})})},"prevpage"),(x||[]).map(((e,n,t)=>t[n-1]+1<e?(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)("li",{className:"page-item disabled d-none d-xl-inline-block",children:(0,r.jsx)(a.N_,{to:"#",className:"page-link",children:"..."})}),(0,r.jsx)("li",{className:l()("page-item","d-none","d-xl-inline-block",{active:j===e}),onClick:n=>h(e),children:(0,r.jsx)(a.N_,{to:"#",className:"page-link",children:e})})]},e):(0,r.jsx)("li",{className:l()("page-item","d-none","d-xl-inline-block",{active:j===e}),onClick:n=>h(e),children:(0,r.jsx)(a.N_,{to:"#",className:"page-link",children:e})},e))),(0,r.jsx)("li",{className:l()("page-item","paginate_button","next",{disabled:j===n.pageCount}),onClick:()=>{j!==n.pageCount&&h(j+1)},children:(0,r.jsx)(a.N_,{to:"#",className:"page-link",children:(0,r.jsx)("i",{className:"mdi mdi-chevron-right"})})},"nextpage")]})]})})}},50306:(e,n,t)=>{t.r(n),t.d(n,{default:()=>b});var s=t(9950),a=t(471),c=t(1093),l=t(72530),r=t(86781),i=t(68459),o=t(97937),d=t(48738),u=t.n(d),m=t(41033),h=t(28429),x=t(27081),p=t(63790),j=t(13059),g=t(44414);const v=e=>{let{maintanance:n}=e;const t=(0,x.wA)();let{user:r,userCustomer:i}=(0,x.d4)((e=>({user:e.Auth.user,userCustomer:e.CustomerAuth.user})));i&&(r=i);const[o,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(""),[h,p]=(0,s.useState)("");return(0,s.useEffect)((()=>{t((0,j.kz)(1))}),[o]),(0,g.jsx)(a.A,{children:(0,g.jsxs)(a.A.Body,{children:[u&&(0,g.jsx)("div",{className:"alert alert-success",children:u}),h&&(0,g.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:h}),(0,g.jsx)("div",{className:"table-responsive",children:(0,g.jsxs)(c.A,{className:"table table-centered react-table dt-responsive nowrap w-100",children:[(0,g.jsx)("thead",{className:"table-light",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"ID"}),(0,g.jsx)("th",{children:"Requested By"}),(0,g.jsx)("th",{children:"Work to be done"}),(0,g.jsx)("th",{children:"Assignee"}),(0,g.jsx)("th",{children:"Status"}),(0,g.jsx)("th",{children:"Created At"}),(0,g.jsx)("th",{children:"Resolved At"}),(0,g.jsx)("th",{children:"Actions"})]})}),(0,g.jsx)("tbody",{children:n&&n.data.length>0?n.data.map(((e,n)=>(0,g.jsxs)("tr",{role:"row",children:[(0,g.jsx)("td",{role:"cell",children:e.id}),(0,g.jsx)("td",{role:"cell",children:e.tanent_name}),(0,g.jsx)("td",{role:"cell",children:e.work_requested}),(0,g.jsx)("td",{role:"cell",children:e.repaired_username}),(0,g.jsx)("td",{role:"cell",children:(0,g.jsx)(f,{status:e.status_name})}),(0,g.jsx)("td",{role:"cell",children:e.created_at}),(0,g.jsx)("td",{role:"cell",children:e.action_date}),(0,g.jsx)("td",{role:"cell",children:(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(l.A,{className:"btn-group",align:"end",children:[(0,g.jsx)(l.A.Toggle,{variant:"light",className:"table-action-btn btn-sm",children:(0,g.jsx)("i",{className:"mdi mdi-dots-horizontal"})}),(0,g.jsxs)(l.A.Menu,{children:[" ",(0,g.jsxs)(l.A.Item,{href:"maintanance/".concat(e.id),children:[(0,g.jsx)("i",{className:"mdi mdi-check-all me-2 text-muted font-18 vertical-middle"}),r&&(r.user_role.includes("admin")||r.user_role.includes("staff"))?(0,g.jsx)("span",{children:"Edit Maintanance"}):(0,g.jsx)("span",{children:"View Maintanance"})]})]})]})})})]},n))):(0,g.jsx)("p",{children:"No Data Found"})})]})})]})})},f=e=>{let{status:n}=e;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("span",{className:u()("badge",{"bg-success":"Done"===n,"bg-secondary text-light":["In Progress","Pending","On Hold"].includes(n)}),children:n})})},b=()=>{const e=(0,x.wA)(),[n,t]=(0,s.useState)(1),{maintanance:a}=(0,x.d4)((e=>({maintanance:e.Maintanance.maintanance})));let c=(0,h.Zp)();return(0,s.useEffect)((()=>{e((0,j.kz)(n))}),[n]),(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(m.A,{breadCrumbItems:[{label:"All Maintenance Requests",path:"/maintanance",active:!0}],title:"All Maintenance Requests"}),(0,g.jsx)(r.A,{children:(0,g.jsxs)(i.A,{lg:12,children:[(0,g.jsxs)(o.A,{className:"waves-effect waves-light mb-3",onClick:()=>{c("/maintanance/create")},children:[(0,g.jsx)("i",{className:"mdi mdi-plus-circle me-1"})," Add New"]}),a&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v,{maintanance:a}),(0,g.jsx)(p.A,{tableProps:{pageCount:a.last_page,state:{pageIndex:a.current_page},pageOptions:{length:a.total},gotoPage:e=>{t(e)}},sizePerPageList:[{text:"10",value:10}]})]})]})})]})}},76230:(e,n,t)=>{t.d(n,{A:()=>c});var s=t(9950);const a=e=>e&&"function"!==typeof e?n=>{e.current=n}:e;const c=function(e,n){return(0,s.useMemo)((()=>function(e,n){const t=a(e),s=a(n);return e=>{t&&t(e),s&&s(e)}}(e,n)),[e,n])}},95624:(e,n,t)=>{t.d(n,{sE:()=>c,y:()=>l});const s="data-rr-ui-",a="rrUi";function c(e){return"".concat(s).concat(e)}function l(e){return"".concat(a).concat(e)}},78452:(e,n,t)=>{t.d(n,{A:()=>l});var s=t(9950),a=t(87534);const c=(0,s.createContext)(a.A?window:void 0);c.Provider;function l(){return(0,s.useContext)(c)}},8996:(e,n,t)=>{t.d(n,{Ay:()=>r});var s=t(87534),a=!1,c=!1;try{var l={get passive(){return a=!0},get once(){return c=a=!0}};s.A&&(window.addEventListener("test",l,l),window.removeEventListener("test",l,!0))}catch(i){}const r=function(e,n,t,s){if(s&&"boolean"!==typeof s&&!c){var l=s.once,r=s.capture,i=t;!c&&l&&(i=t.__once||function e(s){this.removeEventListener(n,e,r),t.call(this,s)},t.__once=i),e.addEventListener(n,i,a?s:r)}e.addEventListener(n,t,s)}},87534:(e,n,t)=>{t.d(n,{A:()=>s});const s=!("undefined"===typeof window||!window.document||!window.document.createElement)},18336:(e,n,t)=>{function s(e,n){return e.contains?e.contains(n):e.compareDocumentPosition?e===n||!!(16&e.compareDocumentPosition(n)):void 0}t.d(n,{A:()=>s})},67410:(e,n,t)=>{t.d(n,{A:()=>c});var s=t(8996),a=t(78557);const c=function(e,n,t,c){return(0,s.Ay)(e,n,t,c),function(){(0,a.A)(e,n,t,c)}}},19815:(e,n,t)=>{function s(e){return e&&e.ownerDocument||document}t.d(n,{A:()=>s})},22413:(e,n,t)=>{t.d(n,{A:()=>a});var s=Function.prototype.bind.call(Function.prototype.call,[].slice);function a(e,n){return s(e.querySelectorAll(n))}},78557:(e,n,t)=>{t.d(n,{A:()=>s});const s=function(e,n,t,s){var a=s&&"boolean"!==typeof s?s.capture:s;e.removeEventListener(n,t,a),t.__once&&e.removeEventListener(n,t.__once,a)}},54947:(e,n,t)=>{t.d(n,{A:()=>a});const s=t(9950).createContext(null);s.displayName="InputGroupContext";const a=s},1093:(e,n,t)=>{t.d(n,{A:()=>i});var s=t(48738),a=t.n(s),c=t(9950),l=t(44089),r=t(44414);const i=c.forwardRef(((e,n)=>{let{bsPrefix:t,className:s,striped:c,bordered:i,borderless:o,hover:d,size:u,variant:m,responsive:h,...x}=e;const p=(0,l.oU)(t,"table"),j=a()(s,p,m&&"".concat(p,"-").concat(m),u&&"".concat(p,"-").concat(u),c&&"".concat(p,"-").concat("string"===typeof c?"striped-".concat(c):"striped"),i&&"".concat(p,"-bordered"),o&&"".concat(p,"-borderless"),d&&"".concat(p,"-hover")),g=(0,r.jsx)("table",{...x,className:j,ref:n});if(h){let e="".concat(p,"-responsive");return"string"===typeof h&&(e="".concat(e,"-").concat(h)),(0,r.jsx)("div",{className:e,children:g})}return g}))},2241:e=>{var n=function(){};e.exports=n},98587:(e,n,t)=>{function s(e,n){if(null==e)return{};var t={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(n.indexOf(s)>=0)continue;t[s]=e[s]}return t}t.d(n,{A:()=>s})}}]);