"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[1756],{95251:(e,s,a)=>{a.d(s,{Z:()=>d});var r=a(47313),t=a(2135),l=a(65832),n=a(63849),i=a(31616),c=a(80614),o=a(46417);const m=e=>{const[s,a]=(0,r.useState)([]),m=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";const a=s<0?0:s,r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.ZP,{...e,onDrop:s=>(s=>{var r=s;e.showPreview&&((s||[]).map((e=>Object.assign(e,{preview:"image"===e.type.split("/")[0]?URL.createObjectURL(e):null,formattedSize:m(e.size)}))),(r=[]).push(...s),a(r)),e.onFileUpload&&e.onFileUpload(r)})(s),children:e=>{let{getRootProps:s,getInputProps:a}=e;return(0,o.jsx)("div",{className:"dropzone",children:(0,o.jsxs)("div",{className:"dz-message needsclick",...s(),children:[(0,o.jsx)("input",{...a()}),(0,o.jsx)("i",{className:"h3 text-muted dripicons-cloud-upload"}),(0,o.jsx)("h4",{children:"Drop Image here or click to upload."}),(0,o.jsx)("span",{className:"text-muted font-13"})]})})}}),e.showPreview&&(0,o.jsx)("div",{className:"dropzone-previews mt-3",id:"uploadPreviewTemplate",children:(s||[]).map(((r,c)=>(0,o.jsx)(l.Z,{className:"mt-1 mb-0 shadow-none border",children:(0,o.jsx)("div",{className:"p-2",children:(0,o.jsxs)(n.Z,{className:"align-items-center",children:[r.preview&&(0,o.jsx)(i.Z,{className:"col-auto",children:(0,o.jsx)("img",{"data-dz-thumbnail":"",className:"avatar-sm rounded bg-light",alt:r.name,src:r.preview})}),!r.preview&&(0,o.jsx)(i.Z,{className:"col-auto",children:(0,o.jsx)("div",{className:"avatar-sm",children:(0,o.jsx)("span",{className:"avatar-title bg-primary rounded",children:r.type.split("/")[0]})})}),(0,o.jsxs)(i.Z,{className:"ps-0",children:[(0,o.jsx)(t.rU,{to:"#",className:"text-muted fw-bold",children:r.name}),(0,o.jsx)("p",{className:"mb-0",children:(0,o.jsx)("strong",{children:r.formattedSize})})]}),(0,o.jsx)(i.Z,{className:"text-end",children:(0,o.jsx)(t.rU,{to:"#",className:"btn btn-link btn-lg text-muted shadow-none",children:(0,o.jsx)("i",{className:"dripicons-cross",onClick:()=>(r=>{const t=[...s];t.splice(r,1),a(t),e.onFileUpload&&e.onFileUpload(t)})(c)})})})]})})},c+"-file")))})]})};m.defaultProps={showPreview:!0};const d=m},61875:(e,s,a)=>{a.d(s,{Z:()=>t});a(47313);var r=a(46417);const t=()=>(0,r.jsx)("div",{className:"preloader position-absolute",id:"preloader",children:(0,r.jsx)("div",{className:"status",id:"status",children:(0,r.jsx)("div",{className:"spinner"})})})},21756:(e,s,a)=>{a.r(s),a.d(s,{default:()=>C});var r=a(47313),t=a(75627),l=a(65832),n=a(63849),i=a(31616),c=a(41709),o=a(93298),m=a(51450),d=a(52487),u=a(5191),p=a(58467),h=a(33689),x=a(1084),j=a(24511),g=a(62563),b=a(3463),y=a(20253),v=a(16752),f=a(53877),_=a(95251),N=a(61875),S=a(46417);const w=e=>{let{id:s}=e;(0,x.I0)();const{t:a}=(0,j.$)(),[l,n]=(0,r.useState)(""),[i,m]=(0,r.useState)(""),[u,p]=(0,r.useState)(!1),h=(0,g.X)(b.Ry().shape({})),{register:y,handleSubmit:v,setValue:f,setError:w,control:Z,formState:{errors:C}}=(0,t.cI)({defaultValues:{id:s},resolver:h}),U=v((e=>{}));return(0,S.jsxs)("form",{onSubmit:U,children:[l&&(0,S.jsx)("div",{className:"alert alert-success",children:l}),i&&(0,S.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:i}),(0,S.jsxs)("fieldset",{children:[(0,S.jsx)(c.Z,{children:"Licence"}),(0,S.jsx)(t.Qr,{render:()=>(0,S.jsx)(_.Z,{maxFiles:1,onFileUpload:e=>{console.log("Uploaded files - ",e),f("image",e[0])}}),name:"image",control:Z}),(0,S.jsx)(c.Z,{children:"Passport"}),(0,S.jsx)(t.Qr,{render:()=>(0,S.jsx)(_.Z,{maxFiles:1,onFileUpload:e=>{console.log("Uploaded files - ",e),f("image",e[0])}}),name:"image",control:Z}),(0,S.jsx)(c.Z,{children:"Other Documents"}),(0,S.jsx)(t.Qr,{render:()=>(0,S.jsx)(_.Z,{maxFiles:1,onFileUpload:e=>{console.log("Uploaded files - ",e),f("image",e[0])}}),name:"image",control:Z}),(0,S.jsx)(c.Z,{children:"Document"}),(0,S.jsx)(t.Qr,{render:()=>(0,S.jsx)(_.Z,{maxFiles:1,onFileUpload:e=>{console.log("Uploaded files - ",e),f("image",e[0])}}),name:"image",control:Z}),(0,S.jsx)(d.y,{type:"hidden",name:"id",register:y}),u?(0,S.jsx)(N.Z,{}):(0,S.jsx)(o.Z,{type:"submit",className:"waves-effect waves-light me-1",children:"Submit"})]})]})},Z=()=>{const e=(0,x.I0)(),{t:s}=(0,j.$)(),[a,m]=(0,r.useState)(""),[_,N]=(0,r.useState)(""),Z=(0,g.X)(b.Ry().shape({}));let{flats:C,user:U,customerUser:F}=(0,x.v9)((e=>({flats:e.Flat.flats,user:e.Auth.user,customerUser:e.CustomerAuth.user})));U||(U=F);const[k,B]=(0,r.useState)(new Date),[E,I]=(0,r.useState)(!0),P=(0,p.s0)(),{register:R,handleSubmit:z,setValue:D,setError:M,formState:{errors:V}}=(0,t.cI)({defaultValues:{unit:10,phone_number:"9601277532",parking_space:120,emergency_contact_number:"9601277532",emergency_contact_name:"jasmin",income_verification:230,rent_calculation:123,language:"eng",special_instruction:null},resolver:Z}),A=z((s=>{e((0,h.yT)(s)).unwrap().then((e=>{e&&!0===e.status&&(m(e.message),window.scrollTo({top:0,behavior:"smooth"}))})).catch((e=>{for(var s in e.errors)try{M(s,{message:e.errors[s].toString()})}catch(a){}}))}));return(0,r.useEffect)((()=>{e((0,y.i)()).unwrap().then((()=>{e((0,h.fB)(U.user_id)).unwrap().then((e=>{D("id",e.user.id),D("unit",e.unit),D("name",e.user.name),D("email",e.user.email),D("phone_number",e.phone_number),e.user.flat&&D("flat_id",e.user.flat.flat_id),D("parking_space",e.parking_space),D("emergency_contact_number",e.emergency_contact_number),D("emergency_contact_name",e.emergency_contact_name),D("income_verification",e.income_verification),D("rent_calculation",e.rent_calculation),D("special_instruction",e.special_instruction),D("relationship",e.relationship),D("movein_date",e.movein_date)})).catch((e=>N(e.message)))}))}),[]),(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(l.Z,{children:(0,S.jsxs)(l.Z.Body,{children:[a&&(0,S.jsx)("div",{className:"alert alert-success",children:a}),_&&(0,S.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:_}),(0,S.jsxs)(n.Z,{children:[(0,S.jsx)(i.Z,{lg:6,children:(0,S.jsxs)("form",{onSubmit:A,className:E?"form-readonly":"",children:[(0,S.jsxs)("fieldset",{children:[(0,S.jsx)(d.y,{label:"Emergency Contact",type:"text",name:"emergency_contact_number",placeholder:"Emergency Contact Number",containerClass:"mb-3",register:R,errors:V},"emergency_contact_number"),(0,S.jsx)(d.y,{label:"Emergency Contact Name",type:"text",name:"emergency_contact_name",placeholder:"Emergency Contact Name",containerClass:"mb-3",register:R,errors:V},"emergency_contact_name"),(0,S.jsx)(d.y,{label:"Name",type:"text",name:"name",containerClass:"mb-3",register:R,errors:V},"name"),(0,S.jsx)(d.y,{label:"Phone#",type:"text",name:"phone_number",placeholder:"phone_number",containerClass:"mb-3",register:R,errors:V},"phone_number"),(0,S.jsx)(d.y,{label:"Email",type:"email",name:"email",placeholder:"Email",containerClass:"mb-3",register:R,errors:V,disabled:!0},"email"),(0,S.jsx)(d.y,{label:"Unit",type:"text",name:"unit",placeholder:"Unit",containerClass:"mb-3",register:R,errors:V},"unit"),(0,S.jsx)(d.y,{label:"Relationship",type:"text",name:"relationship",placeholder:"relationship",containerClass:"mb-3",register:R,errors:V},"relationship"),(0,S.jsx)(d.y,{type:"select",label:"Apartment#",name:"flat_id",containerClass:"mb-3",register:R,disabled:!0,errors:V,children:C.length&&C.map((e=>(0,S.jsx)("optgroup",{label:e.name.toString(),children:e.flats.map((e=>(0,S.jsx)("option",{value:e.id,children:e.name},"flat"+e.id)))},"apartment".concat(e.id))))}),(0,S.jsx)(d.y,{label:"Parking Space",type:"text",name:"parking",placeholder:"Parking",containerClass:"mb-3",register:R,errors:V},"parking"),(0,S.jsx)(d.y,{label:"Income Verification",type:"text",name:"income_verification",placeholder:"Contact",containerClass:"mb-3",register:R,errors:V},"income_verification"),(0,S.jsx)(d.y,{label:"Rent Calculation",type:"text",name:"rent_calculation",placeholder:"Rent",containerClass:"mb-3",register:R,errors:V},"rent_calculation"),(0,S.jsx)(d.y,{label:"Language",type:"text",name:"language",placeholder:"Language",containerClass:"mb-3",register:R,errors:V},"language"),(0,S.jsx)(d.y,{label:"Special information",type:"textarea",name:"special_instruction",rows:"5",containerClass:"mb-3",register:R,errors:V},"special_instruction"),(0,S.jsx)(d.y,{type:"hidden",register:R,name:"movein_date"},"movein_date"),(0,S.jsxs)("div",{className:"mb-3",children:[(0,S.jsx)("label",{className:"form-label",children:"Move In Date"})," ",(0,S.jsx)("br",{}),(0,S.jsx)(u.Z,{hideAddon:!0,showTimeSelect:!1,value:k,onChange:e=>{(e=>{e&&B(e)})(e),D("movein_date",e.toLocaleString("sv-SE"))}})]}),(0,S.jsxs)("div",{className:"mb-3",children:[(0,S.jsx)("label",{className:"form-label",children:"Birth Date"})," ",(0,S.jsx)("br",{}),(0,S.jsx)(u.Z,{hideAddon:!0,showTimeSelect:!1,showTimeSelectOnly:!1,value:k,onChange:e=>{}})]}),(0,S.jsxs)("div",{className:"mb-3 input-group",children:[(0,S.jsx)(c.Z,{htmlFor:"small",className:"me-2",children:"I am"}),(0,S.jsx)(d.y,{type:"radio",className:"form-check-inline",name:"confidential",label:"Handicapped",value:"1",register:R}),(0,S.jsx)(d.y,{type:"radio",className:"form-check-inline",name:"confidential",label:"Diabetes",value:"2",register:R})]}),U.user_role.includes("admin")&&(0,S.jsx)(d.y,{label:"Staff Note",type:"textarea",name:"staff_notes",rows:"5",containerClass:"mb-3",register:R,errors:V},"staff_notes")]}),(0,S.jsx)(o.Z,{onClick:()=>P(-1),variant:"primary",className:"me-2",type:"submit",children:"Back"}),E?(0,S.jsx)("div",{}):(0,S.jsx)(o.Z,{variant:"primary",type:"submit",children:"Submit"})]})}),(0,S.jsxs)(i.Z,{lg:6,children:[(0,S.jsx)("div",{className:"text-end pb-2",children:E?(0,S.jsx)(o.Z,{variant:"primary",type:"submit",onClick:()=>I(!1),children:"Edit"}):(0,S.jsx)("div",{})}),(0,S.jsx)("div",{children:(0,S.jsx)(f.z,{id:U.user_id})}),(0,S.jsx)("div",{className:"pt-2",children:(0,S.jsx)(v.t,{id:U.user_id})}),(0,S.jsx)("div",{className:"pt-2",children:(0,S.jsx)(w,{id:U.user_id})})]})]})]})})})},C=()=>(0,S.jsxs)(r.Fragment,{children:[(0,S.jsx)(m.Z,{breadCrumbItems:[{label:"Users",path:"/user"},{label:"My Account",path:"/user",active:!0}],title:"My Account"}),(0,S.jsx)(n.Z,{children:(0,S.jsx)(i.Z,{children:(0,S.jsx)(Z,{})})})]})},16752:(e,s,a)=>{a.d(s,{t:()=>p});var r=a(93298),t=a(52487),l=a(1084),n=a(24511),i=a(47313),c=a(62563),o=a(75627),m=a(33689),d=a(3463),u=a(46417);const p=e=>{let{id:s}=e;const a=(0,l.I0)(),{t:p}=(0,n.$)(),[h,x]=(0,i.useState)(""),[j,g]=(0,i.useState)(""),b=(0,c.X)(d.Ry().shape({})),{register:y,handleSubmit:v,setError:f,formState:{errors:_}}=(0,o.cI)({defaultValues:{id:s},resolver:b}),N=v((e=>{a((0,m.H)(e)).unwrap().then((e=>{e&&!0===e.status&&x(e.message)})).catch((e=>{for(var s in e.errors)try{f(s,{message:e.errors[s].toString()})}catch(a){}}))}));return(0,u.jsxs)("form",{onSubmit:N,children:[h&&(0,u.jsx)("div",{className:"alert alert-success",children:h}),j&&(0,u.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:j}),(0,u.jsx)(t.y,{label:"Reset Password",type:"password",name:"password",register:y,placeholder:"password",containerClass:"mb-3",errors:_},"password"),(0,u.jsx)(t.y,{type:"hidden",name:"id",register:y}),(0,u.jsx)(r.Z,{variant:"primary",type:"submit",children:"Reset"})]})}},53877:(e,s,a)=>{a.d(s,{z:()=>j});var r=a(95251),t=a(93298),l=a(52487),n=a(1084),i=a(24511),c=a(47313),o=a(62563),m=a(75627),d=a(33689),u=a(3463),p=a(85592),h=a(61875),x=a(46417);const j=e=>{let{id:s}=e;const a=(0,n.I0)(),{t:j}=(0,i.$)(),[g,b]=(0,c.useState)(""),[y,v]=(0,c.useState)(""),[f,_]=(0,c.useState)(!1),N=(0,o.X)(u.Ry().shape({})),{register:S,handleSubmit:w,setValue:Z,setError:C,control:U,formState:{errors:F}}=(0,m.cI)({defaultValues:{id:s},resolver:N}),k=w((e=>{_(!0),a((0,d.ou)(e)).unwrap().then((e=>{e&&!0===e.status&&(b(e.message),v(""),a((0,p.eF)())),_(!1)})).catch((e=>{v(e.message),b(""),_(!1)}))}));return(0,x.jsxs)("form",{onSubmit:k,children:[g&&(0,x.jsx)("div",{className:"alert alert-success",children:g}),y&&(0,x.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:y}),(0,x.jsxs)("fieldset",{children:[(0,x.jsx)(m.Qr,{render:()=>(0,x.jsx)(r.Z,{maxFiles:1,onFileUpload:e=>{console.log("Uploaded files - ",e),Z("image",e[0])}}),name:"image",control:U}),(0,x.jsx)(l.y,{type:"hidden",name:"id",register:S}),f?(0,x.jsx)(h.Z,{}):(0,x.jsx)(t.Z,{type:"submit",className:"waves-effect waves-light me-1",children:"Submit"})]})]})}}}]);