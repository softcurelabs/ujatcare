"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[7415,581],{52487:(e,r,a)=>{a.d(r,{y:()=>m,J:()=>l});var t=a(47313),n=a(75627),s=a(46417);const l=e=>{let{defaultValues:r,resolver:a,children:l,onSubmit:o,formClass:c}=e;const i=(0,n.cI)({defaultValues:r,resolver:a}),{handleSubmit:d,register:u,control:m,formState:{errors:f}}=i;return(0,s.jsx)("form",{onSubmit:d(o),className:c,noValidate:!0,children:Array.isArray(l)?l.map((e=>e.props&&e.props.name?t.createElement(e.type,{...{...e.props,register:u,key:e.props.name,errors:f,control:m}}):e)):l})};var o=a(38394),c=a(88178),i=a(72884),d=a.n(i);const u=e=>{let{name:r,placeholder:a,refCallback:n,errors:l,control:i,register:u,className:m}=e;const[f,p]=(0,t.useState)(!1);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(o.Z,{className:"mb-0",children:[(0,s.jsx)(c.Z.Control,{type:f?"text":"password",placeholder:a,name:r,id:r,as:"input",ref:e=>{n&&n(e)},className:m,isInvalid:!(!l||!l[r]),...u?u(r):{},autoComplete:r}),(0,s.jsx)("div",{className:d()("input-group-text","input-group-password",{"show-password":f}),"data-password":f?"true":"false",children:(0,s.jsx)("span",{className:"password-eye",onClick:()=>{p(!f)}})})]})})},m=e=>{let{label:r,type:a,name:t,placeholder:n,register:l,errors:o,control:i,className:d,labelClassName:m,containerClass:f,refCallback:p,children:h,rows:g,...x}=e;const b="textarea"===a?"textarea":"select"===a?"select":"input";return(0,s.jsx)(s.Fragment,{children:"hidden"===a?(0,s.jsx)("input",{type:a,name:t,id:t,...l?l(t):{},...x,className:d}):(0,s.jsx)(s.Fragment,{children:"password"===a?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(c.Z.Group,{className:f,children:[r?(0,s.jsxs)(s.Fragment,{children:[" ",(0,s.jsx)(c.Z.Label,{className:m,children:r})," ",h," "]}):null,(0,s.jsx)(u,{name:t,placeholder:n,refCallback:p,errors:o,register:l,className:d}),o&&o[t]?(0,s.jsx)(c.Z.Control.Feedback,{type:"invalid",className:"d-block",children:o[t].message}):null]})}):(0,s.jsx)(s.Fragment,{children:"checkbox"===a||"radio"===a?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(c.Z.Group,{className:f,children:[(0,s.jsx)(c.Z.Check,{type:a,label:r,name:t,id:t,ref:e=>{p&&p(e)},className:d,isInvalid:!(!o||!o[t]),...l?l(t):{},...x}),o&&o[t]?(0,s.jsx)(c.Z.Control.Feedback,{type:"invalid",children:o[t].message}):null]})}):(0,s.jsxs)(c.Z.Group,{className:f,children:[r?(0,s.jsx)(c.Z.Label,{className:m,children:r}):null,(0,s.jsx)(c.Z.Control,{type:a,placeholder:n,name:t,id:t,as:b,ref:e=>{p&&p(e)},className:d,isInvalid:!(!o||!o[t]),...l?l(t):{},rows:g,...x,autoComplete:t,children:h||null}),o&&o[t]?(0,s.jsx)(c.Z.Control.Feedback,{type:"invalid",children:o[t].message}):null]})})})})}},47415:(e,r,a)=>{a.r(r),a.d(r,{default:()=>w});var t=a(47313),n=a(63849),s=a(31616),l=a(42304),o=a(93298),c=a(2135),i=a(58467),d=a(56352),u=a(3463),m=a(62563),f=a(24511),p=a(52487),h=a(22102),g=a(10195),x=a(12007),b=a(46417);const v=e=>{let{bottomLinks:r,children:a,isCombineForm:l}=e;(0,t.useEffect)((()=>(document.body&&document.body.classList.add("authentication-bg","authentication-bg-pattern"),()=>{document.body&&document.body.classList.remove("authentication-bg","authentication-bg-pattern")})),[]);let d=(0,i.s0)();return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"account-pages mt-5 mb-5",children:(0,b.jsx)(h.Z,{children:(0,b.jsx)(n.Z,{className:"justify-content-center",children:(0,b.jsxs)(s.Z,{md:8,lg:8,xl:l?9:4,children:[(0,b.jsx)(g.Z,{className:"bg-pattern",children:(0,b.jsxs)(g.Z.Body,{className:"p-4",children:[(0,b.jsxs)("div",{className:"text-center w-95 m-auto row",children:[(0,b.jsx)("div",{className:"col-lg-2",children:(0,b.jsx)(o.Z,{onClick:()=>{d("/application")},className:"btn-sm",children:"Start Application"})}),(0,b.jsx)("div",{className:"auth-brand col-lg-8",children:(0,b.jsx)(c.rU,{to:"/",className:"logo logo-dark text-center",children:(0,b.jsx)("span",{className:"logo-lg",children:(0,b.jsx)("img",{src:x,alt:"",height:"100"})})})}),(0,b.jsx)("div",{className:"col-lg-2",children:(0,b.jsx)(o.Z,{onClick:()=>{d("/auth/login")},className:"btn-sm",children:"Staff Login"})})]}),a]})}),r]})})})})})};var j=a(99300),y=a(20253);const N=()=>{const{t:e}=(0,f.$)();return(0,b.jsx)(n.Z,{className:"mt-3",children:(0,b.jsx)(s.Z,{className:"text-center",children:(0,b.jsx)("p",{children:(0,b.jsx)(c.rU,{to:"/auth/forget-password",className:"text-white-50 ms-1",children:e("Forgot your password?")})})})})},w=()=>{var e;const{t:r}=(0,f.$)(),a=(0,d.I0)(),{user:c,userLoggedIn:h,loading:g,flats:x,error:w}=(0,d.v9)((e=>({user:e.CustomerAuth.user,loading:e.CustomerAuth.loading,userLoggedIn:e.CustomerAuth.userLoggedIn,error:e.CustomerAuth.error,flats:e.Flat.flats})));(0,t.useEffect)((()=>{a((0,y.i)())}),[]);const C=(0,m.X)(u.Ry().shape({flat_id:u.Z_().required(r("Please select Apartment")),email:u.Z_().required(r("Please enter Email")),password:u.Z_().required(r("Please enter Password"))})),Z=e=>{a((0,j.wo)(e))},k=(0,i.TH)(),E=(null===k||void 0===k||null===(e=k.search)||void 0===e?void 0:e.slice(6))||"/dashboard-1";return(0,b.jsxs)(b.Fragment,{children:[(h||c)&&(0,b.jsx)(i.Fg,{to:E}),(0,b.jsxs)(v,{isCombineForm:!0,bottomLinks:(0,b.jsx)(N,{}),children:[w&&(0,b.jsx)(l.Z,{variant:"danger",className:"my-2",children:w}),(0,b.jsxs)(n.Z,{children:[(0,b.jsxs)(s.Z,{md:8,lg:8,xl:6,children:[(0,b.jsx)("div",{children:(0,b.jsx)("h4",{className:"text-center text-muted",children:x.length&&x[0].name})}),(0,b.jsx)("div",{children:(0,b.jsx)("h6",{className:"text-center text-muted",children:"Resident Login"})}),(0,b.jsxs)(p.J,{onSubmit:Z,resolver:C,defaultValues:{email:"",password:""},children:[x.length&&(0,b.jsx)(p.y,{type:"hidden",name:"apartment_id",value:x[0].id}),(0,b.jsxs)(p.y,{type:"select",label:"Apartment#",name:"flat_id",containerClass:"mb-3",children:[(0,b.jsx)("option",{value:"",children:"Select Apartment Number"}),x.length&&x[0].flats.map((e=>(0,b.jsx)("option",{value:e.id,children:e.name},"flat"+e.id)))]}),(0,b.jsx)(p.y,{label:r("Email"),type:"text",name:"email",placeholder:"Enter your Email",containerClass:"mb-3"}),(0,b.jsx)(p.y,{label:r("Password"),type:"password",name:"password",placeholder:"Enter your password",containerClass:"mb-3"}),(0,b.jsx)("div",{className:"text-center d-grid",children:(0,b.jsx)(o.Z,{variant:"primary",type:"submit",disabled:g,children:r("Log In")})})]})]}),(0,b.jsxs)(s.Z,{md:8,lg:8,xl:6,children:[(0,b.jsx)("div",{children:(0,b.jsx)("h4",{className:"text-center text-muted",children:x.length&&x[1].name})}),(0,b.jsx)("div",{children:(0,b.jsx)("h6",{className:"text-center text-muted",children:"Resident Login"})}),(0,b.jsxs)(p.J,{onSubmit:Z,resolver:C,defaultValues:{username:"",password:""},children:[x.length&&(0,b.jsx)(p.y,{type:"hidden",name:"apartment_id",value:x[1].id}),(0,b.jsxs)(p.y,{type:"select",label:"Apartment#",name:"flat_id",containerClass:"mb-3",children:[(0,b.jsx)("option",{value:"",children:"Select Apartment Number"}),x.length&&x[1].flats.map((e=>(0,b.jsx)("option",{value:e.id,children:e.name},"flat"+e.id)))]}),(0,b.jsx)(p.y,{label:r("Email"),type:"text",name:"email",placeholder:"Enter your email",containerClass:"mb-3"}),(0,b.jsx)(p.y,{label:r("Password"),type:"password",name:"password",placeholder:"Enter your password",containerClass:"mb-3"}),(0,b.jsx)("div",{className:"text-center d-grid",children:(0,b.jsx)(o.Z,{variant:"primary",type:"submit",disabled:g,children:r("Log In")})})]})]})]})]})]})}},10195:(e,r,a)=>{a.d(r,{Z:()=>I});var t=a(72884),n=a.n(t),s=a(47313),l=a(68524),o=a(46417);const c=s.forwardRef(((e,r)=>{let{className:a,bsPrefix:t,as:s="div",...c}=e;return t=(0,l.vE)(t,"card-body"),(0,o.jsx)(s,{ref:r,className:n()(a,t),...c})}));c.displayName="CardBody";const i=c,d=s.forwardRef(((e,r)=>{let{className:a,bsPrefix:t,as:s="div",...c}=e;return t=(0,l.vE)(t,"card-footer"),(0,o.jsx)(s,{ref:r,className:n()(a,t),...c})}));d.displayName="CardFooter";const u=d;var m=a(15614);const f=s.forwardRef(((e,r)=>{let{bsPrefix:a,className:t,as:c="div",...i}=e;const d=(0,l.vE)(a,"card-header"),u=(0,s.useMemo)((()=>({cardHeaderBsPrefix:d})),[d]);return(0,o.jsx)(m.Z.Provider,{value:u,children:(0,o.jsx)(c,{ref:r,...i,className:n()(t,d)})})}));f.displayName="CardHeader";const p=f,h=s.forwardRef(((e,r)=>{let{bsPrefix:a,className:t,variant:s,as:c="img",...i}=e;const d=(0,l.vE)(a,"card-img");return(0,o.jsx)(c,{ref:r,className:n()(s?"".concat(d,"-").concat(s):d,t),...i})}));h.displayName="CardImg";const g=h,x=s.forwardRef(((e,r)=>{let{className:a,bsPrefix:t,as:s="div",...c}=e;return t=(0,l.vE)(t,"card-img-overlay"),(0,o.jsx)(s,{ref:r,className:n()(a,t),...c})}));x.displayName="CardImgOverlay";const b=x,v=s.forwardRef(((e,r)=>{let{className:a,bsPrefix:t,as:s="a",...c}=e;return t=(0,l.vE)(t,"card-link"),(0,o.jsx)(s,{ref:r,className:n()(a,t),...c})}));v.displayName="CardLink";const j=v;var y=a(96205);const N=(0,y.Z)("h6"),w=s.forwardRef(((e,r)=>{let{className:a,bsPrefix:t,as:s=N,...c}=e;return t=(0,l.vE)(t,"card-subtitle"),(0,o.jsx)(s,{ref:r,className:n()(a,t),...c})}));w.displayName="CardSubtitle";const C=w,Z=s.forwardRef(((e,r)=>{let{className:a,bsPrefix:t,as:s="p",...c}=e;return t=(0,l.vE)(t,"card-text"),(0,o.jsx)(s,{ref:r,className:n()(a,t),...c})}));Z.displayName="CardText";const k=Z,E=(0,y.Z)("h5"),P=s.forwardRef(((e,r)=>{let{className:a,bsPrefix:t,as:s=E,...c}=e;return t=(0,l.vE)(t,"card-title"),(0,o.jsx)(s,{ref:r,className:n()(a,t),...c})}));P.displayName="CardTitle";const O=P,S=s.forwardRef(((e,r)=>{let{bsPrefix:a,className:t,bg:s,text:c,border:d,body:u=!1,children:m,as:f="div",...p}=e;const h=(0,l.vE)(a,"card");return(0,o.jsx)(f,{ref:r,...p,className:n()(t,h,s&&"bg-".concat(s),c&&"text-".concat(c),d&&"border-".concat(d)),children:u?(0,o.jsx)(i,{children:m}):m})}));S.displayName="Card";const I=Object.assign(S,{Img:g,Title:O,Subtitle:C,Body:i,Link:j,Text:k,Header:p,Footer:u,ImgOverlay:b})},15614:(e,r,a)=>{a.d(r,{Z:()=>n});const t=a(47313).createContext(null);t.displayName="CardHeaderContext";const n=t},31616:(e,r,a)=>{a.d(r,{Z:()=>i});var t=a(72884),n=a.n(t),s=a(47313),l=a(68524),o=a(46417);const c=s.forwardRef(((e,r)=>{const[{className:a,...t},{as:s="div",bsPrefix:c,spans:i}]=function(e){let{as:r,bsPrefix:a,className:t,...s}=e;a=(0,l.vE)(a,"col");const o=(0,l.pi)(),c=(0,l.zG)(),i=[],d=[];return o.forEach((e=>{const r=s[e];let t,n,l;delete s[e],"object"===typeof r&&null!=r?({span:t,offset:n,order:l}=r):t=r;const o=e!==c?"-".concat(e):"";t&&i.push(!0===t?"".concat(a).concat(o):"".concat(a).concat(o,"-").concat(t)),null!=l&&d.push("order".concat(o,"-").concat(l)),null!=n&&d.push("offset".concat(o,"-").concat(n))})),[{...s,className:n()(t,...i,...d)},{as:r,bsPrefix:a,spans:i}]}(e);return(0,o.jsx)(s,{...t,ref:r,className:n()(a,!i.length&&c)})}));c.displayName="Col";const i=c},63849:(e,r,a)=>{a.d(r,{Z:()=>i});var t=a(72884),n=a.n(t),s=a(47313),l=a(68524),o=a(46417);const c=s.forwardRef(((e,r)=>{let{bsPrefix:a,className:t,as:s="div",...c}=e;const i=(0,l.vE)(a,"row"),d=(0,l.pi)(),u=(0,l.zG)(),m="".concat(i,"-cols"),f=[];return d.forEach((e=>{const r=c[e];let a;delete c[e],null!=r&&"object"===typeof r?({cols:a}=r):a=r;const t=e!==u?"-".concat(e):"";null!=a&&f.push("".concat(m).concat(t,"-").concat(a))})),(0,o.jsx)(s,{ref:r,...c,className:n()(t,i,...f)})}));c.displayName="Row";const i=c},96205:(e,r,a)=>{a.d(r,{Z:()=>o});var t=a(47313),n=a(72884),s=a.n(n),l=a(46417);const o=e=>t.forwardRef(((r,a)=>(0,l.jsx)("div",{...r,ref:a,className:s()(r.className,e)})))},24511:(e,r,a)=>{a.d(r,{$:()=>p});var t=a(70885),n=a(4942),s=a(47313),l=a(10412);function o(){if(console&&console.warn){for(var e,r=arguments.length,a=new Array(r),t=0;t<r;t++)a[t]=arguments[t];"string"===typeof a[0]&&(a[0]="react-i18next:: ".concat(a[0])),(e=console).warn.apply(e,a)}}var c={};function i(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];"string"===typeof r[0]&&c[r[0]]||("string"===typeof r[0]&&(c[r[0]]=new Date),o.apply(void 0,r))}function d(e,r,a){e.loadNamespaces(r,(function(){if(e.isInitialized)a();else{e.on("initialized",(function r(){setTimeout((function(){e.off("initialized",r)}),0),a()}))}}))}function u(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,t)}return a}function m(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?u(Object(a),!0).forEach((function(r){(0,n.Z)(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}var f=function(e,r){var a=(0,s.useRef)();return(0,s.useEffect)((function(){a.current=r?a.current:e}),[e,r]),a.current};function p(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.i18n,n=(0,s.useContext)(l.OO)||{},o=n.i18n,c=n.defaultNS,u=a||o||(0,l.nI)();if(u&&!u.reportNamespaces&&(u.reportNamespaces=new l.zv),!u){i("You will need to pass in an i18next instance by using initReactI18next");var p=function(e){return Array.isArray(e)?e[e.length-1]:e},h=[p,{},!1];return h.t=p,h.i18n={},h.ready=!1,h}u.options.react&&void 0!==u.options.react.wait&&i("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var g=m(m(m({},(0,l.JP)()),u.options.react),r),x=g.useSuspense,b=g.keyPrefix,v=e||c||u.options&&u.options.defaultNS;v="string"===typeof v?[v]:v||["translation"],u.reportNamespaces.addUsedNamespaces&&u.reportNamespaces.addUsedNamespaces(v);var j=(u.isInitialized||u.initializedStoreOnce)&&v.every((function(e){return function(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.languages&&r.languages.length?void 0!==r.options.ignoreJSONStructure?r.hasLoadedNamespace(e,{precheck:function(r,t){if(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!t(r.isLanguageChangingTo,e))return!1}}):function(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=r.languages[0],n=!!r.options&&r.options.fallbackLng,s=r.languages[r.languages.length-1];if("cimode"===t.toLowerCase())return!0;var l=function(e,a){var t=r.services.backendConnector.state["".concat(e,"|").concat(a)];return-1===t||2===t};return!(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!l(r.isLanguageChangingTo,e))&&(!!r.hasResourceBundle(t,e)||!(r.services.backendConnector.backend&&(!r.options.resources||r.options.partialBundledLanguages))||!(!l(t,e)||n&&!l(s,e)))}(e,r,a):(i("i18n.languages were undefined or empty",r.languages),!0)}(e,u,g)}));function y(){return u.getFixedT(null,"fallback"===g.nsMode?v:v[0],b)}var N=(0,s.useState)(y),w=(0,t.Z)(N,2),C=w[0],Z=w[1],k=v.join(),E=f(k),P=(0,s.useRef)(!0);(0,s.useEffect)((function(){var e=g.bindI18n,r=g.bindI18nStore;function a(){P.current&&Z(y)}return P.current=!0,j||x||d(u,v,(function(){P.current&&Z(y)})),j&&E&&E!==k&&P.current&&Z(y),e&&u&&u.on(e,a),r&&u&&u.store.on(r,a),function(){P.current=!1,e&&u&&e.split(" ").forEach((function(e){return u.off(e,a)})),r&&u&&r.split(" ").forEach((function(e){return u.store.off(e,a)}))}}),[u,k]);var O=(0,s.useRef)(!0);(0,s.useEffect)((function(){P.current&&!O.current&&Z(y),O.current=!1}),[u,b]);var S=[C,u,j];if(S.t=C,S.i18n=u,S.ready=j,j)return S;if(!j&&!x)return S;throw new Promise((function(e){d(u,v,(function(){e()}))}))}},12007:(e,r,a)=>{e.exports=a.p+"static/media/logo-light.40c8c9ac3fd71757bc0c.png"},30907:(e,r,a)=>{function t(e,r){(null==r||r>e.length)&&(r=e.length);for(var a=0,t=new Array(r);a<r;a++)t[a]=e[a];return t}a.d(r,{Z:()=>t})},70885:(e,r,a)=>{a.d(r,{Z:()=>n});var t=a(40181);function n(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var t,n,s,l,o=[],c=!0,i=!1;try{if(s=(a=a.call(e)).next,0===r){if(Object(a)!==a)return;c=!1}else for(;!(c=(t=s.call(a)).done)&&(o.push(t.value),o.length!==r);c=!0);}catch(e){i=!0,n=e}finally{try{if(!c&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(i)throw n}}return o}}(e,r)||(0,t.Z)(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},40181:(e,r,a)=>{a.d(r,{Z:()=>n});var t=a(30907);function n(e,r){if(e){if("string"===typeof e)return(0,t.Z)(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?(0,t.Z)(e,r):void 0}}}}]);