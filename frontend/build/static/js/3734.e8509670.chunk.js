"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[3734],{63647:(e,s,a)=>{a.d(s,{m:()=>l});var r=a(95252),t=a(44414);const l=()=>(0,t.jsx)(r.A,{animation:"border",role:"status",children:(0,t.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},80730:(e,s,a)=>{a.d(s,{A:()=>d});var r=a(9950),t=a(42074),l=a(471),n=a(86781),i=a(68459),c=a(36275),o=a(44414);const m=e=>{const[s,a]=(0,r.useState)([]),m=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";const a=s<0?0:s,r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.Ay,{...e,onDrop:r=>(r=>{var t=r;e.showPreview&&((r||[]).map((e=>Object.assign(e,{preview:"image"===e.type.split("/")[0]?URL.createObjectURL(e):null,formattedSize:m(e.size)}))),(t=s).push(...r),a(t)),e.onFileUpload&&e.onFileUpload(t)})(r),children:s=>{let{getRootProps:a,getInputProps:r}=s;return(0,o.jsx)("div",{className:"dropzone",children:(0,o.jsxs)("div",{className:"dz-message needsclick",...a(),children:[(0,o.jsx)("input",{...r()}),(0,o.jsx)("i",{className:"h3 text-muted dripicons-cloud-upload"}),(0,o.jsx)("h4",{children:e.title?e.title:"Drop Image or Document here or click to upload."}),(0,o.jsx)("span",{className:"text-muted font-13"})]})})}}),e.showPreview&&(0,o.jsx)("div",{className:"dropzone-previews mt-3",id:"uploadPreviewTemplate",children:(s||[]).map(((r,c)=>(0,o.jsx)(l.A,{className:"mt-1 mb-0 shadow-none border",children:(0,o.jsx)("div",{className:"p-2",children:(0,o.jsxs)(n.A,{className:"align-items-center",children:[r.preview&&(0,o.jsx)(i.A,{className:"col-auto",children:(0,o.jsx)("img",{"data-dz-thumbnail":"",className:"avatar-sm rounded bg-light",alt:r.name,src:r.preview})}),!r.preview&&(0,o.jsx)(i.A,{className:"col-auto",children:(0,o.jsx)("div",{className:"avatar-sm",children:(0,o.jsx)("span",{className:"avatar-title bg-primary rounded",children:r.type.split("/")[0]})})}),(0,o.jsxs)(i.A,{className:"ps-0",children:[(0,o.jsx)(t.N_,{to:"#",className:"text-muted fw-bold",children:r.name}),(0,o.jsx)("p",{className:"mb-0",children:(0,o.jsx)("strong",{children:r.formattedSize})})]}),(0,o.jsx)(i.A,{className:"text-end",children:(0,o.jsx)(t.N_,{to:"#",className:"btn btn-link btn-lg text-muted shadow-none",children:(0,o.jsx)("i",{className:"dripicons-cross",onClick:()=>(r=>{const t=[...s];t.splice(r,1),a(t),e.onFileUpload&&e.onFileUpload(t)})(c)})})})]})})},c+"-file")))})]})};m.defaultProps={showPreview:!0};const d=m},41033:(e,s,a)=>{a.d(s,{A:()=>i});a(9950);var r=a(86781),t=a(68459),l=a(81924),n=a(44414);const i=e=>(0,n.jsx)(r.A,{children:(0,n.jsx)(t.A,{children:(0,n.jsxs)("div",{className:"page-title-box",children:[(0,n.jsx)("div",{children:(0,n.jsxs)(l.A,{className:"m-0 mb-0",children:[(0,n.jsx)(l.A.Item,{href:"/",children:"Home"}),(e.breadCrumbItems||[]).map(((e,s)=>e.active?(0,n.jsx)(l.A.Item,{active:!0,children:e.label},s):(0,n.jsx)(l.A.Item,{href:e.path,children:e.label},s)))]})}),(0,n.jsx)("h4",{className:"page-title",children:e.title})]})})})},68984:(e,s,a)=>{a.d(s,{Z:()=>u,z:()=>n});var r=a(9950),t=a(9449),l=a(44414);const n=e=>{let{defaultValues:s,resolver:a,children:n,onSubmit:i,formClass:c}=e;const o=(0,t.mN)({defaultValues:s,resolver:a}),{handleSubmit:m,register:d,control:u,formState:{errors:p}}=o;return(0,l.jsx)("form",{onSubmit:m(i),className:c,noValidate:!0,children:Array.isArray(n)?n.map((e=>e.props&&e.props.name?r.createElement(e.type,{...{...e.props,register:d,key:e.props.name,errors:p,control:u}}):e)):n})};var i=a(75623),c=a(64055),o=a(48738),m=a.n(o);const d=e=>{let{name:s,placeholder:a,refCallback:t,errors:n,control:o,register:d,className:u}=e;const[p,h]=(0,r.useState)(!1);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(i.A,{className:"mb-0",children:[(0,l.jsx)(c.A.Control,{type:p?"text":"password",placeholder:a,name:s,id:s,as:"input",ref:e=>{t&&t(e)},className:u,isInvalid:!(!n||!n[s]),...d?d(s):{},autoComplete:s}),(0,l.jsx)("div",{className:m()("input-group-text","input-group-password",{"show-password":p}),"data-password":p?"true":"false",children:(0,l.jsx)("span",{className:"password-eye",onClick:()=>{h(!p)}})})]})})},u=e=>{let{label:s,type:a,name:r,placeholder:t,register:n,errors:i,control:o,className:m,labelClassName:u,containerClass:p,refCallback:h,children:x,rows:j,symbol:g,...b}=e;const v="textarea"===a?"textarea":"select"===a?"select":"input";return(0,l.jsx)(l.Fragment,{children:"hidden"===a?(0,l.jsx)("input",{type:a,name:r,id:r,...n?n(r):{},...b,className:m}):(0,l.jsx)(l.Fragment,{children:"password"===a?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(c.A.Group,{className:p,children:[s?(0,l.jsxs)(l.Fragment,{children:[" ",(0,l.jsx)(c.A.Label,{className:u,children:s})," ",x," "]}):null,(0,l.jsx)(d,{name:r,placeholder:t,refCallback:h,errors:i,register:n,className:m}),i&&i[r]?(0,l.jsx)(c.A.Control.Feedback,{type:"invalid",className:"d-block",children:i[r].message}):null]})}):(0,l.jsx)(l.Fragment,{children:"checkbox"===a||"radio"===a?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(c.A.Group,{className:p,children:[(0,l.jsx)(c.A.Check,{type:a,label:s,name:r,id:r,ref:e=>{h&&h(e)},className:m,isInvalid:!(!i||!i[r]),...n?n(r):{},...b}),i&&i[r]?(0,l.jsx)(c.A.Control.Feedback,{type:"invalid",children:i[r].message}):null]})}):(0,l.jsxs)(c.A.Group,{className:p,children:[s?(0,l.jsx)(c.A.Label,{className:u,children:s}):null,g?(0,l.jsxs)("div",{className:"input-group",children:[(0,l.jsx)("span",{className:"input-group-text",id:r,children:g}),(0,l.jsx)(c.A.Control,{type:a,placeholder:t,name:r,id:r,as:v,ref:e=>{h&&h(e)},className:m,isInvalid:!(!i||!i[r]),...n?n(r):{},rows:j,...b,autoComplete:r,children:x||null})]}):(0,l.jsx)(c.A.Control,{type:a,placeholder:t,name:r,id:r,as:v,ref:e=>{h&&h(e)},className:m,isInvalid:!(!i||!i[r]),...n?n(r):{},rows:j,...b,autoComplete:r,children:x||null}),i&&i[r]?(0,l.jsx)(c.A.Control.Feedback,{type:"invalid",children:i[r].message}):null]})})})})}},93379:(e,s,a)=>{a.r(s),a.d(s,{default:()=>_});var r=a(9950),t=a(9449),l=a(471),n=a(86781),i=a(68459),c=a(97937),o=a(41033),m=a(68984),d=a(28429),u=a(80183),p=a(27081),h=a(70030),x=a(26473),j=a(60666),g=a(19443),b=a(13236),v=a(98972),f=a(32393),N=a(63647),A=a(44414);const y=()=>{const e=(0,p.wA)(),{t:s}=(0,h.B)(),[a,o]=(0,r.useState)(""),[y,_]=(0,r.useState)(""),[w,S]=(0,r.useState)(!1),C=(0,x.t)(j.Ik().shape({}));let{user:k,customerUser:F}=(0,p.d4)((e=>({user:e.Auth.user,customerUser:e.CustomerAuth.user})));k||(k=F);const[I,B]=(0,r.useState)(new Date),[U,P]=(0,r.useState)(!0),E=(0,d.Zp)(),[R,M]=(0,r.useState)(null),{register:Z,handleSubmit:z,setValue:L,setError:V,formState:{errors:D}}=(0,t.mN)({defaultValues:{unit:10,phone_number:"9601277532",parking_space:120,emergency_contact_number:"9601277532",emergency_contact_name:"jasmin",income_verification:230,rent_calculation:123,language:"eng",special_instruction:null},resolver:C}),G=z((s=>{S(!0),e((0,u.el)(s)).unwrap().then((e=>{e&&!0===e.status&&(o(e.message),window.scrollTo({top:0,behavior:"smooth"})),S(!1)})).catch((e=>{for(var s in e.errors)try{V(s,{message:e.errors[s].toString()})}catch(a){}S(!1)}))}));return(0,r.useEffect)((()=>{e((0,g.q)()).unwrap().then((()=>{e((0,u.Tv)(k.user_id)).unwrap().then((e=>{f.A.BASE_URL&&e.image_path&&M("".concat(f.A.BASE_URL,"/").concat(e.image_path)),L("id",e.user.id),L("unit",e.unit),L("first_name",e.user.first_name),L("last_name",e.user.last_name),L("email",e.user.email),L("phone_number",e.phone_number),e.user.flat&&L("flat_id",e.user.flat.flat_id),L("parking_space",e.parking_space),L("emergency_contact_number",e.emergency_contact_number),L("emergency_contact_name",e.emergency_contact_name),L("income_verification",e.income_verification),L("rent_calculation",e.rent_calculation),L("special_instruction",e.special_instruction),L("relationship",e.relationship),L("movein_date",e.movein_date)})).catch((e=>_(e.message)))}))}),[]),(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(l.A,{children:(0,A.jsxs)(l.A.Body,{children:[a&&(0,A.jsx)("div",{className:"alert alert-success",children:a}),y&&(0,A.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:y}),(0,A.jsxs)(n.A,{children:[(0,A.jsx)(i.A,{lg:6,children:(0,A.jsxs)("form",{onSubmit:G,className:U?"form-readonly":"",children:[(0,A.jsxs)("fieldset",{children:[(0,A.jsx)(m.Z,{label:"First Name",type:"text",name:"first_name",className:"form-control-sm ms-2 fs-5",containerClass:"mb-3 input-group",register:Z,errors:D},"first_name"),(0,A.jsx)(m.Z,{label:"Last Name",type:"text",name:"last_name",className:"form-control-sm ms-2 fs-5",containerClass:"mb-3 input-group",register:Z,errors:D},"last_name"),(0,A.jsx)(m.Z,{label:"Phone#",type:"text",name:"phone_number",placeholder:"phone_number",className:"form-control-sm ms-2 fs-5",containerClass:"mb-3 input-group",register:Z,errors:D},"phone_number"),(0,A.jsx)(m.Z,{label:"Email",type:"email",name:"email",placeholder:"Email",className:"form-control-sm ms-2 fs-5",containerClass:"mb-3 input-group",register:Z,errors:D,disabled:!0},"email"),(0,A.jsxs)(m.Z,{type:"select",label:"Role",name:"role_id",className:"form-control-sm ms-2 fs-5",containerClass:"mb-3  input-group",register:Z,errors:D,children:[(0,A.jsx)("option",{value:"",children:"Select Role"}),(0,A.jsx)("option",{value:"admin",selected:!0,children:"Super Admin"}),(0,A.jsx)("option",{value:"staff",children:"Staff"})]})]}),(0,A.jsx)(c.A,{onClick:()=>E(-1),variant:"primary",className:"me-2",type:"submit",children:"Back"}),U?(0,A.jsx)("div",{}):w?(0,A.jsx)(N.m,{}):(0,A.jsx)(c.A,{variant:"primary",type:"submit",children:"Submit"})]})}),(0,A.jsxs)(i.A,{lg:6,children:[(0,A.jsx)("div",{className:"text-center",children:R&&(0,A.jsx)("img",{src:R,className:"rounded-4",alt:"{}",width:125})}),(0,A.jsx)("div",{className:"text-end pb-2",children:U?(0,A.jsx)(c.A,{variant:"primary",type:"submit",onClick:()=>P(!1),children:"Edit"}):(0,A.jsx)("div",{})}),(0,A.jsx)("div",{children:(0,A.jsx)(v.t,{id:k.user_id})}),(0,A.jsx)("div",{className:"pt-2",children:(0,A.jsx)(b.R,{email:k.email})})]})]})]})})})},_=()=>(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(o.A,{breadCrumbItems:[{label:"Users",path:"/user"},{label:"My Account",path:"/user",active:!0}],title:"My Account"}),(0,A.jsx)(n.A,{children:(0,A.jsx)(i.A,{children:(0,A.jsx)(y,{})})})]})},13236:(e,s,a)=>{a.d(s,{R:()=>p});var r=a(97937),t=a(27081),l=a(70030),n=a(9950),i=a(26473),c=a(9449),o=a(60666),m=a(63647),d=a(91144),u=a(44414);const p=e=>{let{email:s}=e;const a=(0,t.wA)(),{t:p}=(0,l.B)(),[h,x]=(0,n.useState)(""),[j,g]=(0,n.useState)(""),[b,v]=(0,n.useState)(!1),f=(0,i.t)(o.Ik().shape({})),{register:N,handleSubmit:A,setError:y,formState:{errors:_}}=(0,c.mN)({defaultValues:{},resolver:f}),w=A((()=>{v(!0),a((0,d.Nu)(s)).unwrap().then((e=>{e&&!0===e.status&&x(e.message),v(!1)})).catch((e=>{g(e.message),v(!1)}))}));return(0,u.jsxs)("form",{onSubmit:w,children:[h&&(0,u.jsx)("div",{className:"alert alert-success",children:h}),j&&(0,u.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:j}),b?(0,u.jsx)(m.m,{}):(0,u.jsx)(r.A,{variant:"primary",type:"submit",children:"Reset Password"})]})}},98972:(e,s,a)=>{a.d(s,{t:()=>x});var r=a(80730),t=a(97937),l=a(68984),n=a(27081),i=a(9950),c=a(26473),o=a(9449),m=a(80183),d=a(60666),u=a(91144),p=a(63647),h=a(44414);const x=e=>{let{id:s}=e;const a=(0,n.wA)(),[x,j]=(0,i.useState)(""),[g,b]=(0,i.useState)(""),[v,f]=(0,i.useState)(!1),N=(0,c.t)(d.Ik().shape({})),{register:A,handleSubmit:y,setValue:_,control:w}=(0,o.mN)({defaultValues:{id:s},resolver:N}),S=y((e=>{f(!0),a((0,m.X$)(e)).unwrap().then((e=>{e&&!0===e.status&&(j(e.message),b(""),a((0,u.IM)())),f(!1)})).catch((e=>{b(e.message),j(""),f(!1)}))}));return(0,h.jsxs)("form",{onSubmit:S,children:[x&&(0,h.jsx)("div",{className:"alert alert-success",children:x}),g&&(0,h.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:g}),(0,h.jsxs)("fieldset",{className:"mt-4",children:[(0,h.jsx)(o.xI,{render:()=>(0,h.jsx)(r.A,{title:"Drag Profile pic or click here to upload",maxFiles:1,onFileUpload:e=>{_("image",e[0])}}),name:"image",control:w}),(0,h.jsx)(l.Z,{type:"hidden",name:"id",register:A}),v?(0,h.jsx)(p.m,{}):(0,h.jsx)(t.A,{type:"submit",className:"waves-effect waves-light me-1",children:"Submit"})]})]})}},43145:(e,s,a)=>{function r(e,s){(null==s||s>e.length)&&(s=e.length);for(var a=0,r=new Array(s);a<s;a++)r[a]=e[a];return r}a.d(s,{A:()=>r})},27800:(e,s,a)=>{a.d(s,{A:()=>t});var r=a(43145);function t(e,s){if(e){if("string"===typeof e)return(0,r.A)(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?(0,r.A)(e,s):void 0}}}}]);