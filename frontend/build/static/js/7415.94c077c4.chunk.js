"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[7415],{52487:(e,s,a)=>{a.d(s,{y:()=>h,J:()=>n});var l=a(47313),r=a(75627),t=a(46417);const n=e=>{let{defaultValues:s,resolver:a,children:n,onSubmit:i,formClass:c}=e;const d=(0,r.cI)({defaultValues:s,resolver:a}),{handleSubmit:o,register:m,control:h,formState:{errors:x}}=d;return(0,t.jsx)("form",{onSubmit:o(i),className:c,noValidate:!0,children:Array.isArray(n)?n.map((e=>e.props&&e.props.name?l.createElement(e.type,{...{...e.props,register:m,key:e.props.name,errors:x,control:h}}):e)):n})};var i=a(38394),c=a(88178),d=a(72884),o=a.n(d);const m=e=>{let{name:s,placeholder:a,refCallback:r,errors:n,control:d,register:m,className:h}=e;const[x,u]=(0,l.useState)(!1);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(i.Z,{className:"mb-0",children:[(0,t.jsx)(c.Z.Control,{type:x?"text":"password",placeholder:a,name:s,id:s,as:"input",ref:e=>{r&&r(e)},className:h,isInvalid:!(!n||!n[s]),...m?m(s):{},autoComplete:s}),(0,t.jsx)("div",{className:o()("input-group-text","input-group-password",{"show-password":x}),"data-password":x?"true":"false",children:(0,t.jsx)("span",{className:"password-eye",onClick:()=>{u(!x)}})})]})})},h=e=>{let{label:s,type:a,name:l,placeholder:r,register:n,errors:i,control:d,className:o,labelClassName:h,containerClass:x,refCallback:u,children:p,rows:j,...g}=e;const b="textarea"===a?"textarea":"select"===a?"select":"input";return(0,t.jsx)(t.Fragment,{children:"hidden"===a?(0,t.jsx)("input",{type:a,name:l,id:l,...n?n(l):{},...g,className:o}):(0,t.jsx)(t.Fragment,{children:"password"===a?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(c.Z.Group,{className:x,children:[s?(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)(c.Z.Label,{className:h,children:s})," ",p," "]}):null,(0,t.jsx)(m,{name:l,placeholder:r,refCallback:u,errors:i,register:n,className:o}),i&&i[l]?(0,t.jsx)(c.Z.Control.Feedback,{type:"invalid",className:"d-block",children:i[l].message}):null]})}):(0,t.jsx)(t.Fragment,{children:"checkbox"===a||"radio"===a?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(c.Z.Group,{className:x,children:[(0,t.jsx)(c.Z.Check,{type:a,label:s,name:l,id:l,ref:e=>{u&&u(e)},className:o,isInvalid:!(!i||!i[l]),...n?n(l):{},...g}),i&&i[l]?(0,t.jsx)(c.Z.Control.Feedback,{type:"invalid",children:i[l].message}):null]})}):(0,t.jsxs)(c.Z.Group,{className:x,children:[s?(0,t.jsx)(c.Z.Label,{className:h,children:s}):null,(0,t.jsx)(c.Z.Control,{type:a,placeholder:r,name:l,id:l,as:b,ref:e=>{u&&u(e)},className:o,isInvalid:!(!i||!i[l]),...n?n(l):{},rows:j,...g,autoComplete:l,children:p||null}),i&&i[l]?(0,t.jsx)(c.Z.Control.Feedback,{type:"invalid",children:i[l].message}):null]})})})})}},47415:(e,s,a)=>{a.r(s),a.d(s,{default:()=>C});var l=a(47313),r=a(63849),t=a(31616),n=a(42304),i=a(93298),c=a(2135),d=a(58467),o=a(56352),m=a(3463),h=a(62563),x=a(24511),u=a(52487),p=a(22102),j=a(10195),g=a(12007),b=a(46417);const y=e=>{let{bottomLinks:s,children:a,isCombineForm:n}=e;(0,l.useEffect)((()=>(document.body&&document.body.classList.add("authentication-bg","authentication-bg-pattern"),()=>{document.body&&document.body.classList.remove("authentication-bg","authentication-bg-pattern")})),[]);let o=(0,d.s0)();return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"account-pages mt-5 mb-5",children:(0,b.jsx)(p.Z,{children:(0,b.jsx)(r.Z,{className:"justify-content-center",children:(0,b.jsxs)(t.Z,{md:8,lg:8,xl:n?9:4,children:[(0,b.jsx)(j.Z,{className:"bg-pattern",children:(0,b.jsxs)(j.Z.Body,{className:"p-4",children:[(0,b.jsxs)("div",{className:"text-center w-95 m-auto row",children:[(0,b.jsx)("div",{className:"col-lg-2",children:(0,b.jsx)(i.Z,{onClick:()=>{o("/application")},className:"btn-sm",children:"Start Application"})}),(0,b.jsx)("div",{className:"auth-brand col-lg-8",children:(0,b.jsx)(c.rU,{to:"/",className:"logo logo-dark text-center",children:(0,b.jsx)("span",{className:"logo-lg",children:(0,b.jsx)("img",{src:g,alt:"",height:"100"})})})}),(0,b.jsx)("div",{className:"col-lg-2",children:(0,b.jsx)(i.Z,{onClick:()=>{o("/auth/login")},className:"btn-sm",children:"Staff Login"})})]}),a]})}),s]})})})})})};var N=a(99300),v=a(20253);const f=()=>{const{t:e}=(0,x.$)();return(0,b.jsx)(r.Z,{className:"mt-3",children:(0,b.jsx)(t.Z,{className:"text-center",children:(0,b.jsx)("p",{children:(0,b.jsx)(c.rU,{to:"/auth/forget-password",className:"text-white-50 ms-1",children:e("Forgot your password?")})})})})},C=()=>{var e;const{t:s}=(0,x.$)(),a=(0,o.I0)(),{user:c,userLoggedIn:p,loading:j,flats:g,error:C}=(0,o.v9)((e=>({user:e.CustomerAuth.user,loading:e.CustomerAuth.loading,userLoggedIn:e.CustomerAuth.userLoggedIn,error:e.CustomerAuth.error,flats:e.Flat.flats})));(0,l.useEffect)((()=>{a((0,v.i)())}),[]);const Z=(0,h.X)(m.Ry().shape({flat_id:m.Z_().required(s("Please select Apartment")),email:m.Z_().required(s("Please enter Email")),password:m.Z_().required(s("Please enter Password"))})),w=e=>{a((0,N.wo)(e))},k=(0,d.TH)(),F=(null===k||void 0===k||null===(e=k.search)||void 0===e?void 0:e.slice(6))||"/dashboard-1";return(0,b.jsxs)(b.Fragment,{children:[(p||c)&&(0,b.jsx)(d.Fg,{to:F}),(0,b.jsxs)(y,{isCombineForm:!0,bottomLinks:(0,b.jsx)(f,{}),children:[C&&(0,b.jsx)(n.Z,{variant:"danger",className:"my-2",children:C}),(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(t.Z,{md:8,lg:8,xl:6,children:[(0,b.jsx)("div",{children:(0,b.jsx)("h4",{className:"text-center text-muted",children:g.length&&g[0].name})}),(0,b.jsx)("div",{children:(0,b.jsx)("h6",{className:"text-center text-muted",children:"Resident Login"})}),(0,b.jsxs)(u.J,{onSubmit:w,resolver:Z,defaultValues:{email:"",password:""},children:[g.length&&(0,b.jsx)(u.y,{type:"hidden",name:"apartment_id",value:g[0].id}),(0,b.jsxs)(u.y,{type:"select",label:"Apartment#",name:"flat_id",containerClass:"mb-3",children:[(0,b.jsx)("option",{value:"",children:"Select Apartment Number"}),g.length&&g[0].flats.map((e=>(0,b.jsx)("option",{value:e.id,children:e.name},"flat"+e.id)))]}),(0,b.jsx)(u.y,{label:s("Email"),type:"text",name:"email",placeholder:"Enter your Email",containerClass:"mb-3"}),(0,b.jsx)(u.y,{label:s("Password"),type:"password",name:"password",placeholder:"Enter your password",containerClass:"mb-3"}),(0,b.jsx)("div",{className:"text-center d-grid",children:(0,b.jsx)(i.Z,{variant:"primary",type:"submit",disabled:j,children:s("Log In")})})]})]}),(0,b.jsxs)(t.Z,{md:8,lg:8,xl:6,children:[(0,b.jsx)("div",{children:(0,b.jsx)("h4",{className:"text-center text-muted",children:g.length&&g[1].name})}),(0,b.jsx)("div",{children:(0,b.jsx)("h6",{className:"text-center text-muted",children:"Resident Login"})}),(0,b.jsxs)(u.J,{onSubmit:w,resolver:Z,defaultValues:{username:"",password:""},children:[g.length&&(0,b.jsx)(u.y,{type:"hidden",name:"apartment_id",value:g[1].id}),(0,b.jsxs)(u.y,{type:"select",label:"Apartment#",name:"flat_id",containerClass:"mb-3",children:[(0,b.jsx)("option",{value:"",children:"Select Apartment Number"}),g.length&&g[1].flats.map((e=>(0,b.jsx)("option",{value:e.id,children:e.name},"flat"+e.id)))]}),(0,b.jsx)(u.y,{label:s("Email"),type:"text",name:"email",placeholder:"Enter your email",containerClass:"mb-3"}),(0,b.jsx)(u.y,{label:s("Password"),type:"password",name:"password",placeholder:"Enter your password",containerClass:"mb-3"}),(0,b.jsx)("div",{className:"text-center d-grid",children:(0,b.jsx)(i.Z,{variant:"primary",type:"submit",disabled:j,children:s("Log In")})})]})]})]})]})]})}}}]);