"use strict";(self.webpackChunkujatcare=self.webpackChunkujatcare||[]).push([[9671],{49172:(e,t,s)=>{s.d(t,{A:()=>d});s(9950);var n=s(90706),a=s(28339),r=s(36404),i=s(79947),l=s(63996),c=s(44414);const d=e=>{let{onDateClick:t,onEventClick:s,onDrop:d,onEventDrop:o,events:u}=e;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{id:"calendar",children:(0,c.jsx)(n.Ay$,{initialView:"dayGridMonth",plugins:[a.Ay,r.Ay,i.A,l.A],handleWindowResize:!0,themeSystem:"bootstrap",buttonText:{today:"Today",month:"Month",week:"Week",day:"Day",list:"List",prev:"Prev",next:"Next"},headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},editable:!0,selectable:!0,droppable:!0,events:u,dateClick:e=>{t(e)},eventClick:e=>{s(e)},drop:e=>{d(e)},eventDrop:e=>{o(e)}})})})}},49671:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var n=s(9950),a=s(86781),r=s(68459),i=s(56035),l=s(48738),c=s.n(l),d=s(22510),o=s(44414);const u=e=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(i.A,{children:(0,o.jsx)(i.A.Body,{children:(0,o.jsxs)(a.A,{children:[(0,o.jsx)(r.A,{className:"col-6",children:(0,o.jsx)("div",{className:c()("avatar-sm","rounded","bg-"+e.variant),children:(0,o.jsx)("i",{className:c()(e.icon,"avatar-title font-22 text-white")})})}),(0,o.jsx)(r.A,{className:"col-6",children:(0,o.jsxs)("div",{className:"text-end",children:[(0,o.jsx)("h3",{className:"text-dark my-1",children:(0,o.jsx)("span",{children:(0,o.jsx)(d.Ay,{duration:1,end:e.stats,...e.counterOptions})})}),(0,o.jsx)("p",{className:"text-muted mb-1 text-truncate",children:e.description})]})})]})})})});var x=s(13059),h=s(27081);const m=()=>{const[e,t]=(0,n.useState)(null),s=(0,h.wA)();return(0,n.useEffect)((()=>{s((0,x.w5)("test")).unwrap().then((e=>{t(e)}))}),[]),(0,o.jsx)(o.Fragment,{children:e&&(0,o.jsxs)(a.A,{children:[(0,o.jsx)(r.A,{md:6,xl:3,children:(0,o.jsx)(u,{variant:"blue",description:"Pending",stats:e.pending.toString(),icon:"fe-aperture",counterOptions:{prefix:""}})}),(0,o.jsx)(r.A,{md:6,xl:3,children:(0,o.jsx)(u,{variant:"warning",description:"In Progress",stats:e.in_progress.toString(),icon:"fe-compass"})}),(0,o.jsx)(r.A,{md:6,xl:3,children:(0,o.jsx)(u,{variant:"success",description:"Resolved",stats:e.close.toString(),icon:"fe-camera-off"})}),(0,o.jsx)(r.A,{md:6,xl:3,children:(0,o.jsx)(u,{variant:"success",description:"Total",stats:e.total.toString(),icon:"fe-bar-chart-2"})})]})})};var j=s(92180),p=s(50323),v=(s(90706),s(49172)),A=s(75733),g=s(49462);const f=()=>{const e=(0,A.j)(),[t,s]=(0,n.useState)(!1),a=()=>s(!0),[r,i]=(0,n.useState)(!1),[l,c]=(0,n.useState)([]),[d,u]=(0,n.useState)({}),[x,h]=(0,n.useState)({});(0,n.useEffect)((()=>{e((0,g.v6)()).unwrap().then((e=>{c(e)}))}),[]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(v.A,{onDateClick:e=>{h(e),a(),i(!1)},onEventClick:e=>{const t={id:String(e.event.id),title:e.event.title,className:e.event.classNames[0]};u(t),i(!0),a()},onDrop:e=>{const t=e,s=t.draggedEl.title;if(null==s);else{let e={id:String(l.length+1),title:s,start:t?t.dateStr:new Date,className:t.draggedEl.attributes["data-class"].value};const n=[...l];n.push(e),c(n)}},onEventDrop:e=>{const t=[...l],s=t.findIndex((t=>t.id===e.event.id));t[s].title=e.event.title,t[s].className=e.event.classNames,t[s].start=e.event.start,t[s].end=e.event.end,c(t),i(!1)},events:l})})},y=()=>{let{user:e,userCustomer:t}=(0,h.d4)((e=>({notices:e.Notice.notices,user:e.Auth.user,userCustomer:e.CustomerAuth.user})));t&&(e=t);const[s,l]=(0,n.useState)((0,p.UC)());return(0,n.useEffect)((()=>{e.user_role.includes("admin")?l([...s,{key:"apartments",label:"Apartments",isTitle:!1,url:"/apartment"}]):e.user_role.includes("maintenance-staff")&&l(s.filter((e=>["request","maintanance-calander","maintanance-report"].includes(e.key))))}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.A,{children:(0,o.jsx)(r.A,{children:(0,o.jsxs)("div",{className:"page-title-box",children:[(0,o.jsx)("div",{className:"page-title-right"}),(0,o.jsx)("h4",{className:"page-title",children:"Dashboard"})]})})}),(0,o.jsx)(m,{}),(0,o.jsxs)(a.A,{children:[(0,o.jsx)(r.A,{xl:6,children:(0,o.jsx)(i.A,{className:"widget-rounded-circle",children:(0,o.jsx)(i.A.Body,{children:(0,o.jsx)(j.A,{menuItems:s})})})}),(0,o.jsx)(r.A,{xl:6,children:(0,o.jsx)(f,{})})]})]})}}}]);